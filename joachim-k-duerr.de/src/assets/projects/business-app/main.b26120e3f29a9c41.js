"use strict";(self.webpackChunkBusinessApp=self.webpackChunkBusinessApp||[]).push([[179],{2011:(bt,Ie,U)=>{U.d(Ie,{Dh:()=>he,GT:()=>J,cc:()=>Ae,hO:()=>ze,on:()=>Y,pX:()=>le,xv:()=>me});var s=U(4650),$=U(9260),F=U(2122);bt=U.hmd(bt);const oe=["ngOnDestroy"],le=(Se,xe,Re,ke={})=>new Proxy(Se,{get:(Pe,Te)=>Re.runOutsideAngular(()=>{var Ge;if(Se[Te])return!(null===(Ge=ke?.spy)||void 0===Ge)&&Ge.get&&ke.spy.get(Te,Se[Te]),Se[Te];if(oe.indexOf(Te)>-1)return()=>{};const ne=xe.toPromise().then(de=>{const be=de&&de[Te];return"function"==typeof be?be.bind(de):be&&be.then?be.then(Ye=>Re.run(()=>Ye)):Re.run(()=>be)});return new Proxy(()=>{},{get:(de,be)=>ne[be],apply:(de,be,Ye)=>ne.then($e=>{var Mt;const nt=$e&&$e(...Ye);return!(null===(Mt=ke?.spy)||void 0===Mt)&&Mt.apply&&ke.spy.apply(Te,Ye,nt),nt})})})}),J=(Se,xe)=>{xe.forEach(Re=>{Object.getOwnPropertyNames(Re.prototype||Re).forEach(ke=>{Object.defineProperty(Se.prototype,ke,Object.getOwnPropertyDescriptor(Re.prototype||Re,ke))})})};class ve{constructor(xe){return xe}}const he=new s.OlP("angularfire2.app.options"),me=new s.OlP("angularfire2.app.name");function Y(Se,xe,Re){const Pe="object"==typeof Re&&Re||{};Pe.name=Pe.name||"string"==typeof Re&&Re||"[DEFAULT]";const Ge=$.Z.apps.filter(ne=>ne&&ne.name===Pe.name)[0]||xe.runOutsideAngular(()=>$.Z.initializeApp(Se,Pe));try{JSON.stringify(Se)!==JSON.stringify(Ge.options)&&Z("error",`${Ge.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(Ge)}const Z=(Se,...xe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Se](...xe)},ee={provide:ve,useFactory:Y,deps:[he,s.R0b,[new s.FiY,me]]};let ze=(()=>{class Se{constructor(Re){$.Z.registerVersion("angularfire",F.q4.full,"core"),$.Z.registerVersion("angularfire",F.q4.full,"app-compat"),$.Z.registerVersion("angular",s.q4F.full,Re.toString())}static initializeApp(Re,ke){return{ngModule:Se,providers:[{provide:he,useValue:Re},{provide:me,useValue:ke}]}}}return Se.\u0275fac=function(Re){return new(Re||Se)(s.LFG(s.Lbi))},Se.\u0275mod=s.oAB({type:Se}),Se.\u0275inj=s.cJS({providers:[ee]}),Se})();function Ae(Se,xe,Re,ke,Pe){const[,Te,Ge]=globalThis.\u0275AngularfireInstanceCache.find(ne=>ne[0]===Se)||[];if(Te)return function qe(Se,xe){try{return Se.toString()===xe.toString()}catch{return Se===xe}}(Pe,Ge)||(_e("error",`${xe} was already initialized on the ${Re} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Pe,was:Ge})),Te;{const ne=ke();return globalThis.\u0275AngularfireInstanceCache.push([Se,ne,Pe]),ne}}const dt=!!bt.hot,_e=(Se,...xe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Se](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(bt,Ie,U)=>{U.d(Ie,{q4:()=>Xm,iC:()=>Yn,HU:()=>ps,vb:()=>Do,JM:()=>bl,u3:()=>Ru});var s=U(4650),$=U(259),F=U(5861),oe=U(9681),le=U(2090),J=U(4859),ve=U(1877),he=U(8766);const me="@firebase/installations",Y="0.6.4",Z=1e4,ee=`w:${Y}`,ze="FIS_v2",Ae="https://firebaseinstallations.googleapis.com/v1",qe=36e5,xe=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Re(I){return I instanceof le.ZR&&I.code.includes("request-failed")}function ke({projectId:I}){return`${Ae}/projects/${I}/installations`}function Pe(I){return{token:I.token,requestStatus:2,expiresIn:$e(I.expiresIn),creationTime:Date.now()}}function Te(I,S){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,F.Z)(function*(I,S){const j=(yield S.json()).error;return xe.create("request-failed",{requestName:I,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function ne({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function be(I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,F.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function $e(I){return Number(I.replace("s","000"))}function ce(){return(ce=(0,F.Z)(function*({appConfig:I,heartbeatServiceProvider:S},{fid:R}){const j=ke(I),G=ne(I),ae=S.getImmediate({optional:!0});if(ae){const Qe=yield ae.getHeartbeatsHeader();Qe&&G.append("x-firebase-client",Qe)}const ct={method:"POST",headers:G,body:JSON.stringify({fid:R,authVersion:ze,appId:I.appId,sdkVersion:ee})},ht=yield be(()=>fetch(j,ct));if(ht.ok){const Qe=yield ht.json();return{fid:Qe.fid||R,registrationStatus:2,refreshToken:Qe.refreshToken,authToken:Pe(Qe.authToken)}}throw yield Te("Create Installation",ht)})).apply(this,arguments)}function pe(I){return new Promise(S=>{setTimeout(S,I)})}const Oe=/^[cdef][\w-]{21}$/,Ve="";function Be(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const R=function it(I){return function Ce(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Oe.test(R)?R:Ve}catch{return Ve}}function Xe(I){return`${I.appName}!${I.appId}`}const mn=new Map;function xt(I,S){const R=Xe(I);cn(R,S),function Gn(I,S){const R=function gn(){return!bn&&"BroadcastChannel"in self&&(bn=new BroadcastChannel("[Firebase] FID Change"),bn.onmessage=I=>{cn(I.data.key,I.data.fid)}),bn}();R&&R.postMessage({key:I,fid:S}),function Di(){0===mn.size&&bn&&(bn.close(),bn=null)}()}(R,S)}function cn(I,S){const R=mn.get(I);if(R)for(const j of R)j(S)}let bn=null;const rr="firebase-installations-database",no=1,ei="firebase-installations-store";let Mr=null;function Vr(){return Mr||(Mr=(0,he.X3)(rr,no,{upgrade:(I,S)=>{0===S&&I.createObjectStore(ei)}})),Mr}function Mn(I,S){return ki.apply(this,arguments)}function ki(){return(ki=(0,F.Z)(function*(I,S){const R=Xe(I),G=(yield Vr()).transaction(ei,"readwrite"),ae=G.objectStore(ei),Fe=yield ae.get(R);return yield ae.put(S,R),yield G.done,(!Fe||Fe.fid!==S.fid)&&xt(I,S.fid),S})).apply(this,arguments)}function lt(I){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,F.Z)(function*(I){const S=Xe(I),j=(yield Vr()).transaction(ei,"readwrite");yield j.objectStore(ei).delete(S),yield j.done})).apply(this,arguments)}function Zi(I,S){return ui.apply(this,arguments)}function ui(){return(ui=(0,F.Z)(function*(I,S){const R=Xe(I),G=(yield Vr()).transaction(ei,"readwrite"),ae=G.objectStore(ei),Fe=yield ae.get(R),ct=S(Fe);return void 0===ct?yield ae.delete(R):yield ae.put(ct,R),yield G.done,ct&&(!Fe||Fe.fid!==ct.fid)&&xt(I,ct.fid),ct})).apply(this,arguments)}function ti(I){return ur.apply(this,arguments)}function ur(){return ur=(0,F.Z)(function*(I){let S;const R=yield Zi(I.appConfig,j=>{const G=function Bt(I){return Ei(I||{fid:Be(),registrationStatus:0})}(j),ae=function wt(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(xe.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},j=function Pt(I,S){return Rn.apply(this,arguments)}(I,R);return{installationEntry:R,registrationPromise:j}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Wn(I)}:{installationEntry:S}}(I,G);return S=ae.registrationPromise,ae.installationEntry});return R.fid===Ve?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}}),ur.apply(this,arguments)}function Rn(){return Rn=(0,F.Z)(function*(I,S){try{const R=yield function nt(I,S){return ce.apply(this,arguments)}(I,S);return Mn(I.appConfig,R)}catch(R){throw Re(R)&&409===R.customData.serverCode?yield lt(I.appConfig):yield Mn(I.appConfig,{fid:S.fid,registrationStatus:0}),R}}),Rn.apply(this,arguments)}function Wn(I){return hi.apply(this,arguments)}function hi(){return(hi=(0,F.Z)(function*(I){let S=yield Ri(I.appConfig);for(;1===S.registrationStatus;)yield pe(100),S=yield Ri(I.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:j}=yield ti(I);return j||R}return S})).apply(this,arguments)}function Ri(I){return Zi(I,S=>{if(!S)throw xe.create("installation-not-found");return Ei(S)})}function Ei(I){return function io(I){return 1===I.registrationStatus&&I.registrationTime+Z<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Br(){return(Br=(0,F.Z)(function*({appConfig:I,heartbeatServiceProvider:S},R){const j=function Qt(I,{fid:S}){return`${ke(I)}/${S}/authTokens:generate`}(I,R),G=function de(I,{refreshToken:S}){const R=ne(I);return R.append("Authorization",function Mt(I){return`${ze} ${I}`}(S)),R}(I,R),ae=S.getImmediate({optional:!0});if(ae){const Qe=yield ae.getHeartbeatsHeader();Qe&&G.append("x-firebase-client",Qe)}const ct={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:ee,appId:I.appId}})},ht=yield be(()=>fetch(j,ct));if(ht.ok)return Pe(yield ht.json());throw yield Te("Generate Auth Token",ht)})).apply(this,arguments)}function hr(I){return ni.apply(this,arguments)}function ni(){return ni=(0,F.Z)(function*(I,S=!1){let R;const j=yield Zi(I.appConfig,ae=>{if(!sn(ae))throw xe.create("not-registered");const Fe=ae.authToken;if(!S&&function ii(I){return 2===I.requestStatus&&!function q(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+qe}(I)}(Fe))return ae;if(1===Fe.requestStatus)return R=function je(I,S){return Ee.apply(this,arguments)}(I,S),ae;{if(!navigator.onLine)throw xe.create("app-offline");const ct=function W(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}(ae);return R=function It(I,S){return Rt.apply(this,arguments)}(I,ct),ct}});return R?yield R:j.authToken}),ni.apply(this,arguments)}function Ee(){return(Ee=(0,F.Z)(function*(I,S){let R=yield rt(I.appConfig);for(;1===R.authToken.requestStatus;)yield pe(100),R=yield rt(I.appConfig);const j=R.authToken;return 0===j.requestStatus?hr(I,S):j})).apply(this,arguments)}function rt(I){return Zi(I,S=>{if(!sn(S))throw xe.create("not-registered");return function N(I){return 1===I.requestStatus&&I.requestTime+Z<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Rt(){return Rt=(0,F.Z)(function*(I,S){try{const R=yield function Zt(I,S){return Br.apply(this,arguments)}(I,S),j=Object.assign(Object.assign({},S),{authToken:R});return yield Mn(I.appConfig,j),R}catch(R){if(!Re(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const j=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Mn(I.appConfig,j)}else yield lt(I.appConfig);throw R}}),Rt.apply(this,arguments)}function sn(I){return void 0!==I&&2===I.registrationStatus}function P(){return(P=(0,F.Z)(function*(I){const S=I,{installationEntry:R,registrationPromise:j}=yield ti(S);return j?j.catch(console.error):hr(S).catch(console.error),R.fid})).apply(this,arguments)}function ye(){return ye=(0,F.Z)(function*(I,S=!1){const R=I;return yield function Je(I){return Ke.apply(this,arguments)}(R),(yield hr(R,S)).token}),ye.apply(this,arguments)}function Ke(){return(Ke=(0,F.Z)(function*(I){const{registrationPromise:S}=yield ti(I);S&&(yield S)})).apply(this,arguments)}function Wc(I){return xe.create("missing-app-config-values",{valueName:I})}const qc="installations",ca=I=>{const S=I.getProvider("app").getImmediate(),R=function la(I){if(!I||!I.options)throw Wc("App Configuration");if(!I.name)throw Wc("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!I.options[R])throw Wc(R);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,oe._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},du=I=>{const S=I.getProvider("app").getImmediate(),R=(0,oe._getProvider)(S,qc).getImmediate();return{getId:()=>function V(I){return P.apply(this,arguments)}(R),getToken:G=>function ie(I){return ye.apply(this,arguments)}(R,G)}};(function Yc(){(0,oe._registerComponent)(new J.wA(qc,ca,"PUBLIC")),(0,oe._registerComponent)(new J.wA("installations-internal",du,"PRIVATE"))})(),(0,oe.registerVersion)(me,Y),(0,oe.registerVersion)(me,Y,"esm2017");const zl="@firebase/remote-config",ri=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ko{constructor(S,R,j,G){this.client=S,this.storage=R,this.storageCache=j,this.logger=G}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-R,G=j<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${G}.`),G}fetch(S){var R=this;return(0,F.Z)(function*(){const[j,G]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(G&&R.isCachedDataFresh(S.cacheMaxAgeMillis,j))return G;S.eTag=G&&G.eTag;const ae=yield R.client.fetch(S),Fe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&Fe.push(R.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(Fe),ae})()}}function pr(I=navigator){return I.languages&&I.languages[0]||I.language}class kr{constructor(S,R,j,G,ae,Fe){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=j,this.projectId=G,this.apiKey=ae,this.appId=Fe}fetch(S){var R=this;return(0,F.Z)(function*(){const[j,G]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},ht={sdk_version:R.sdkVersion,app_instance_id:j,app_instance_id_token:G,app_id:R.appId,language_code:pr()},Qe={method:"POST",headers:ct,body:JSON.stringify(ht)},nn=fetch(Fe,Qe),Ut=new Promise((mi,br)=>{S.signal.addEventListener(()=>{const _d=new Error("The operation was aborted.");_d.name="AbortError",br(_d)})});let vr;try{yield Promise.race([nn,Ut]),vr=yield nn}catch(mi){let br="fetch-client-network";throw"AbortError"===mi?.name&&(br="fetch-timeout"),ri.create(br,{originalErrorMessage:mi?.message})}let pi=vr.status;const ms=vr.headers.get("ETag")||void 0;let gd,Eo;if(200===vr.status){let mi;try{mi=yield vr.json()}catch(br){throw ri.create("fetch-client-parse",{originalErrorMessage:br?.message})}gd=mi.entries,Eo=mi.state}if("INSTANCE_STATE_UNSPECIFIED"===Eo?pi=500:"NO_CHANGE"===Eo?pi=304:("NO_TEMPLATE"===Eo||"EMPTY_CONFIG"===Eo)&&(gd={}),304!==pi&&200!==pi)throw ri.create("fetch-status",{httpStatus:pi});return{status:pi,eTag:ms,config:gd}})()}}class fi{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,F.Z)(function*(){const j=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,j)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:j}){var G=this;return(0,F.Z)(function*(){yield function Ja(I,S){return new Promise((R,j)=>{const G=Math.max(S-Date.now(),0),ae=setTimeout(R,G);I.addEventListener(()=>{clearTimeout(ae),j(ri.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const ae=yield G.client.fetch(S);return yield G.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function Pn(I){if(!(I instanceof le.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ae))throw ae;const Fe={throttleEndTimeMillis:Date.now()+(0,le.$s)(j),backoffCount:j+1};return yield G.storage.setThrottleMetadata(Fe),G.attemptFetch(S,Fe)}})()}}class Wl{constructor(S,R,j,G,ae){this.app=S,this._client=R,this._storageCache=j,this._storage=G,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ro(I,S){const R=I.target.error||void 0;return ri.create(S,{originalErrorMessage:R&&R?.message})}const Hr="app_namespace_store";class Or{constructor(S,R,j,G=function Rr(){return new Promise((I,S)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=j=>{S(Ro(j,"storage-open"))},R.onsuccess=j=>{I(j.target.result)},R.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(Hr,{keyPath:"compositeKey"})}}catch(R){S(ri.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=S,this.appName=R,this.namespace=j,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,F.Z)(function*(){const j=yield R.openDbPromise;return new Promise((G,ae)=>{const ct=j.transaction([Hr],"readonly").objectStore(Hr),ht=R.createCompositeKey(S);try{const Qe=ct.get(ht);Qe.onerror=nn=>{ae(Ro(nn,"storage-get"))},Qe.onsuccess=nn=>{const Ut=nn.target.result;G(Ut?Ut.value:void 0)}}catch(Qe){ae(ri.create("storage-get",{originalErrorMessage:Qe?.message}))}})})()}set(S,R){var j=this;return(0,F.Z)(function*(){const G=yield j.openDbPromise;return new Promise((ae,Fe)=>{const ht=G.transaction([Hr],"readwrite").objectStore(Hr),Qe=j.createCompositeKey(S);try{const nn=ht.put({compositeKey:Qe,value:R});nn.onerror=Ut=>{Fe(Ro(Ut,"storage-set"))},nn.onsuccess=()=>{ae()}}catch(nn){Fe(ri.create("storage-set",{originalErrorMessage:nn?.message}))}})})()}delete(S){var R=this;return(0,F.Z)(function*(){const j=yield R.openDbPromise;return new Promise((G,ae)=>{const ct=j.transaction([Hr],"readwrite").objectStore(Hr),ht=R.createCompositeKey(S);try{const Qe=ct.delete(ht);Qe.onerror=nn=>{ae(Ro(nn,"storage-delete"))},Qe.onsuccess=()=>{G()}}catch(Qe){ae(ri.create("storage-delete",{originalErrorMessage:Qe?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Oo{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,F.Z)(function*(){const R=S.storage.getLastFetchStatus(),j=S.storage.getLastSuccessfulFetchTimestampMillis(),G=S.storage.getActiveConfig(),ae=yield R;ae&&(S.lastFetchStatus=ae);const Fe=yield j;Fe&&(S.lastSuccessfulFetchTimestampMillis=Fe);const ct=yield G;ct&&(S.activeConfig=ct)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Nm(){return ql.apply(this,arguments)}function ql(){return(ql=(0,F.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function el(){(0,oe._registerComponent)(new J.wA("remote-config",function I(S,{instanceIdentifier:R}){const j=S.getProvider("app").getImmediate(),G=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ri.create("registration-window");if(!(0,le.hl)())throw ri.create("indexed-db-unavailable");const{projectId:ae,apiKey:Fe,appId:ct}=j.options;if(!ae)throw ri.create("registration-project-id");if(!Fe)throw ri.create("registration-api-key");if(!ct)throw ri.create("registration-app-id");const ht=new Or(ct,j.name,R=R||"firebase"),Qe=new Oo(ht),nn=new ve.Yd(zl);nn.logLevel=ve.in.ERROR;const Ut=new kr(G,oe.SDK_VERSION,R,ae,Fe,ct),vr=new fi(Ut,ht),pi=new ko(vr,ht,Qe,nn),ms=new Wl(j,pi,Qe,ht,nn);return function On(I){const S=(0,le.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(ms),ms},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(zl,"0.4.4"),(0,oe.registerVersion)(zl,"0.4.4","esm2017")}();const Po="/firebase-messaging-sw.js",ha="/firebase-cloud-messaging-push-scope",tl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Lm="https://fcmregistrations.googleapis.com/v1",uu="google.c.a.c_id",Vm="google.c.a.c_l",Bm="google.c.a.ts",nl="google.c.a.e";var wo=(()=>{return(I=wo||(wo={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",wo;var I})();function Ts(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Um(I){const R=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(R),G=new Uint8Array(j.length);for(let ae=0;ae<j.length;++ae)G[ae]=j.charCodeAt(ae);return G}const mr="fcm_token_details_db",zr=5,Yl="fcm_token_object_Store";function Zl(){return Zl=(0,F.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(mr))return null;let S=null;return(yield(0,he.X3)(mr,zr,{upgrade:(j=(0,F.Z)(function*(G,ae,Fe,ct){var ht;if(ae<2||!G.objectStoreNames.contains(Yl))return;const Qe=ct.objectStore(Yl),nn=yield Qe.index("fcmSenderId").get(I);if(yield Qe.clear(),nn)if(2===ae){const Ut=nn;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;S={token:Ut.fcmToken,createTime:null!==(ht=Ut.createTime)&&void 0!==ht?ht:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:Ts(Ut.vapidKey)}}}else if(3===ae){const Ut=nn;S={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Ts(Ut.auth),p256dh:Ts(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Ts(Ut.vapidKey)}}}else if(4===ae){const Ut=nn;S={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Ts(Ut.auth),p256dh:Ts(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Ts(Ut.vapidKey)}}}}),function(ae,Fe,ct,ht){return j.apply(this,arguments)})})).close(),yield(0,he.Lj)(mr),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),function Qc(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var j}),Zl.apply(this,arguments)}const fu="firebase-messaging-database",Ms=1,fa="firebase-messaging-store";let pa=null;function ma(){return pa||(pa=(0,he.X3)(fu,Ms,{upgrade:(I,S)=>{0===S&&I.createObjectStore(fa)}})),pa}function Kl(I){return As.apply(this,arguments)}function As(){return As=(0,F.Z)(function*(I){const S=ks(I),j=yield(yield ma()).transaction(fa).objectStore(fa).get(S);if(j)return j;{const G=yield function hu(I){return Zl.apply(this,arguments)}(I.appConfig.senderId);if(G)return yield ga(I,G),G}}),As.apply(this,arguments)}function ga(I,S){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,F.Z)(function*(I,S){const R=ks(I),G=(yield ma()).transaction(fa,"readwrite");return yield G.objectStore(fa).put(S,R),yield G.done,S})).apply(this,arguments)}function il(){return(il=(0,F.Z)(function*(I){const S=ks(I),j=(yield ma()).transaction(fa,"readwrite");yield j.objectStore(fa).delete(S),yield j.done})).apply(this,arguments)}function ks({appConfig:I}){return I.appId}const si=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Jc(I,S){return qn.apply(this,arguments)}function qn(){return(qn=(0,F.Z)(function*(I,S){const R=yield Fo(I),j=Jl(S),G={method:"POST",headers:R,body:JSON.stringify(j)};let ae;try{ae=yield(yield fetch(Xl(I.appConfig),G)).json()}catch(Fe){throw si.create("token-subscribe-failed",{errorInfo:Fe?.toString()})}if(ae.error)throw si.create("token-subscribe-failed",{errorInfo:ae.error.message});if(!ae.token)throw si.create("token-subscribe-no-token");return ae.token})).apply(this,arguments)}function as(){return(as=(0,F.Z)(function*(I,S){const R=yield Fo(I),j=Jl(S.subscriptionOptions),G={method:"PATCH",headers:R,body:JSON.stringify(j)};let ae;try{ae=yield(yield fetch(`${Xl(I.appConfig)}/${S.token}`,G)).json()}catch(Fe){throw si.create("token-update-failed",{errorInfo:Fe?.toString()})}if(ae.error)throw si.create("token-update-failed",{errorInfo:ae.error.message});if(!ae.token)throw si.create("token-update-no-token");return ae.token})).apply(this,arguments)}function Vi(I,S){return ol.apply(this,arguments)}function ol(){return(ol=(0,F.Z)(function*(I,S){const j={method:"DELETE",headers:yield Fo(I)};try{const ae=yield(yield fetch(`${Xl(I.appConfig)}/${S}`,j)).json();if(ae.error)throw si.create("token-unsubscribe-failed",{errorInfo:ae.error.message})}catch(G){throw si.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function Xl({projectId:I}){return`${Lm}/projects/${I}/registrations`}function Fo(I){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,F.Z)(function*({appConfig:I,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Jl({p256dh:I,auth:S,endpoint:R,vapidKey:j}){const G={web:{endpoint:R,auth:S,p256dh:I}};return j!==tl&&(G.web.applicationPubKey=j),G}const Rs=6048e5;function oo(){return oo=(0,F.Z)(function*(I){const S=yield function yf(I,S){return al.apply(this,arguments)}(I.swRegistration,I.vapidKey),R={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:Ts(S.getKey("auth")),p256dh:Ts(S.getKey("p256dh"))},j=yield Kl(I.firebaseDependencies);if(j){if(function pu(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}(j.subscriptionOptions,R))return Date.now()>=j.createTime+Rs?function $t(I,S){return _a.apply(this,arguments)}(I,{token:j.token,createTime:Date.now(),subscriptionOptions:R}):j.token;try{yield Vi(I.firebaseDependencies,j.token)}catch(G){console.warn(G)}return _f(I.firebaseDependencies,R)}return _f(I.firebaseDependencies,R)}),oo.apply(this,arguments)}function Os(){return Os=(0,F.Z)(function*(I){const S=yield Kl(I.firebaseDependencies);S&&(yield Vi(I.firebaseDependencies,S.token),yield function Xc(I){return il.apply(this,arguments)}(I.firebaseDependencies));const R=yield I.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),Os.apply(this,arguments)}function _a(){return _a=(0,F.Z)(function*(I,S){try{const R=yield function rl(I,S){return as.apply(this,arguments)}(I.firebaseDependencies,S),j=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield ga(I.firebaseDependencies,j),R}catch(R){throw yield function ed(I){return Os.apply(this,arguments)}(I),R}}),_a.apply(this,arguments)}function _f(I,S){return sl.apply(this,arguments)}function sl(){return(sl=(0,F.Z)(function*(I,S){const j={token:yield Jc(I,S),createTime:Date.now(),subscriptionOptions:S};return yield ga(I,j),j.token})).apply(this,arguments)}function al(){return(al=(0,F.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Um(S)})})).apply(this,arguments)}function td(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function vf(I,S){if(!S.notification)return;I.notification={};const R=S.notification.title;R&&(I.notification.title=R);const j=S.notification.body;j&&(I.notification.body=j);const G=S.notification.image;G&&(I.notification.image=G);const ae=S.notification.icon;ae&&(I.notification.icon=ae)}(S,I),function ge(I,S){S.data&&(I.data=S.data)}(S,I),function ln(I,S){var R,j,G,ae,Fe;if(!(S.fcmOptions||null!==(R=S.notification)&&void 0!==R&&R.click_action))return;I.fcmOptions={};const ct=null!==(G=null===(j=S.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==G?G:null===(ae=S.notification)||void 0===ae?void 0:ae.click_action;ct&&(I.fcmOptions.link=ct);const ht=null===(Fe=S.fcmOptions)||void 0===Fe?void 0:Fe.analytics_label;ht&&(I.fcmOptions.analyticsLabel=ht)}(S,I),S}function mu(I,S){const R=[];for(let j=0;j<I.length;j++)R.push(I.charAt(j)),j<S.length&&R.push(S.charAt(j));return R.join("")}function nd(I){return si.create("missing-app-config-values",{valueName:I})}mu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ya{constructor(S,R,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function Si(I){if(!I||!I.options)throw nd("App Configuration Object");if(!I.name)throw nd("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=I;for(const j of S)if(!R[j])throw nd(j);return{appName:I.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:G,installations:R,analyticsProvider:j}}_delete(){return Promise.resolve()}}function so(I){return va.apply(this,arguments)}function va(){return(va=(0,F.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Po,{scope:ha}),I.swRegistration.update().catch(()=>{})}catch(S){throw si.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function ec(){return(ec=(0,F.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield so(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw si.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function ba(){return(ba=(0,F.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=tl)})).apply(this,arguments)}function or(){return or=(0,F.Z)(function*(I,S){if(!navigator)throw si.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw si.create("permission-blocked");return yield function wf(I,S){return ba.apply(this,arguments)}(I,S?.vapidKey),yield function gu(I,S){return ec.apply(this,arguments)}(I,S?.serviceWorkerRegistration),function gf(I){return oo.apply(this,arguments)}(I)}),or.apply(this,arguments)}function No(){return(No=(0,F.Z)(function*(I,S,R){const j=function ls(I){switch(I){case wo.NOTIFICATION_CLICKED:return"notification_open";case wo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:R[uu],message_name:R[Vm],message_time:R[Bm],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ca(){return Ca=(0,F.Z)(function*(I,S){const R=S.data;if(!R.isFirebaseMessaging)return;I.onMessageHandler&&R.messageType===wo.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(td(R)):I.onMessageHandler.next(td(R)));const j=R.data;(function bf(I){return"object"==typeof I&&!!I&&uu in I})(j)&&"1"===j[nl]&&(yield function wa(I,S,R){return No.apply(this,arguments)}(I,R.messageType,j))}),Ca.apply(this,arguments)}const id="@firebase/messaging",cs=I=>{const S=new ya(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function _u(I,S){return Ca.apply(this,arguments)}(S,R)),S},ll=I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:j=>function Xi(I,S){return or.apply(this,arguments)}(S,j)}};function rd(){return yu.apply(this,arguments)}function yu(){return(yu=(0,F.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Df(){(0,oe._registerComponent)(new J.wA("messaging",cs,"PUBLIC")),(0,oe._registerComponent)(new J.wA("messaging-internal",ll,"PRIVATE")),(0,oe.registerVersion)(id,"0.12.4"),(0,oe.registerVersion)(id,"0.12.4","esm2017")}();const bu="analytics",_r="firebase_id",Lo="origin",Dn=6e4,od="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xf="https://www.googletagmanager.com/gtag/js",Bi=new ve.Yd("@firebase/analytics");function If(I){return Promise.all(I.map(S=>S.catch(R=>R)))}function dl(){return(dl=(0,F.Z)(function*(I,S,R,j,G,ae){const Fe=j[G];try{if(Fe)yield S[Fe];else{const ht=(yield If(R)).find(Qe=>Qe.measurementId===G);ht&&(yield S[ht.appId])}}catch(ct){Bi.error(ct)}I("config",G,ae)})).apply(this,arguments)}function Ea(){return(Ea=(0,F.Z)(function*(I,S,R,j,G){try{let ae=[];if(G&&G.send_to){let Fe=G.send_to;Array.isArray(Fe)||(Fe=[Fe]);const ct=yield If(R);for(const ht of Fe){const Qe=ct.find(Ut=>Ut.measurementId===ht),nn=Qe&&S[Qe.appId];if(!nn){ae=[];break}ae.push(nn)}}0===ae.length&&(ae=Object.values(S)),yield Promise.all(ae),I("event",j,G||{})}catch(ae){Bi.error(ae)}})).apply(this,arguments)}const yr=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Wm=30,Cu=new class qm{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function fl(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Ln(){return(Ln=(0,F.Z)(function*(I){var S;const{appId:R,apiKey:j}=I,G={method:"GET",headers:fl(j)},ae=od.replace("{app-id}",R),Fe=yield fetch(ae,G);if(200!==Fe.status&&304!==Fe.status){let ct="";try{const ht=yield Fe.json();null!==(S=ht.error)&&void 0!==S&&S.message&&(ct=ht.error.message)}catch{}throw yr.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:ct})}return Fe.json()})).apply(this,arguments)}function Fs(){return(Fs=(0,F.Z)(function*(I,S=Cu,R){const{appId:j,apiKey:G,measurementId:ae}=I.options;if(!j)throw yr.create("no-app-id");if(!G){if(ae)return{measurementId:ae,appId:j};throw yr.create("no-api-key")}const Fe=S.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new Ia;return setTimeout((0,F.Z)(function*(){ct.abort()}),void 0!==R?R:Dn),Ns({appId:j,apiKey:G,measurementId:ae},Fe,ct,S)})).apply(this,arguments)}function Ns(I,S,R){return ao.apply(this,arguments)}function ao(){return ao=(0,F.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:R},j,G=Cu){var ae;const{appId:Fe,measurementId:ct}=I;try{yield function rc(I,S){return new Promise((R,j)=>{const G=Math.max(S-Date.now(),0),ae=setTimeout(R,G);I.addEventListener(()=>{clearTimeout(ae),j(yr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(j,S)}catch(ht){if(ct)return Bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${ht?.message}]`),{appId:Fe,measurementId:ct};throw ht}try{const ht=yield function sd(I){return Ln.apply(this,arguments)}(I);return G.deleteThrottleMetadata(Fe),ht}catch(ht){const Qe=ht;if(!function ad(I){if(!(I instanceof le.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(Qe)){if(G.deleteThrottleMetadata(Fe),ct)return Bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${Qe?.message}]`),{appId:Fe,measurementId:ct};throw ht}const nn=503===Number(null===(ae=Qe?.customData)||void 0===ae?void 0:ae.httpStatus)?(0,le.$s)(R,G.intervalMillis,Wm):(0,le.$s)(R,G.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+nn,backoffCount:R+1};return G.setThrottleMetadata(Fe,Ut),Bi.debug(`Calling attemptFetch again in ${nn} millis`),Ns(I,Ut,j,G)}}),ao.apply(this,arguments)}class Ia{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let ld,Bs;function Sa(){return(Sa=(0,F.Z)(function*(I,S,R,j,G){if(G&&G.global)I("event",R,j);else{const ae=yield S;I("event",R,Object.assign(Object.assign({},j),{send_to:ae}))}})).apply(this,arguments)}function ml(){return(ml=(0,F.Z)(function*(){if(!(0,le.hl)())return Bi.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(I){return Bi.warn(yr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function gl(){return gl=(0,F.Z)(function*(I,S,R,j,G,ae,Fe){var ct;const ht=function ic(I){return Fs.apply(this,arguments)}(I);ht.then(pi=>{R[pi.measurementId]=pi.appId,I.options.measurementId&&pi.measurementId!==I.options.measurementId&&Bi.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${pi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pi=>Bi.error(pi)),S.push(ht);const Qe=function ac(){return ml.apply(this,arguments)}().then(pi=>{if(pi)return j.getId()}),[nn,Ut]=yield Promise.all([ht,Qe]);(function xa(I){const S=window.document.getElementsByTagName("script");for(const R of Object.values(S))if(R.src&&R.src.includes(xf)&&R.src.includes(I))return R;return null})(ae)||function Gm(I,S){const R=document.createElement("script");R.src=`${xf}?l=${I}&id=${S}`,R.async=!0,document.head.appendChild(R)}(ae,nn.measurementId),Bs&&(G("consent","default",Bs),function oc(I){Bs=I}(void 0)),G("js",new Date);const vr=null!==(ct=Fe?.config)&&void 0!==ct?ct:{};return vr[Lo]="firebase",vr.update=!0,null!=Ut&&(vr[_r]=Ut),G("config",nn.measurementId,vr),ld&&(G("set",ld),function sc(I){ld=I}(void 0)),nn.measurementId}),gl.apply(this,arguments)}class xu{constructor(S){this.app=S}_delete(){return delete jr[this.app.options.appId],Promise.resolve()}}let jr={},Iu=[];const us={};let lc,$r,Co="dataLayer",Sf="gtag",hs=!1;function Ta(I,S,R){!function Su(){const I=[];if((0,le.ru)()&&I.push("This is a browser extension environment."),(0,le.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((j,G)=>`(${G+1}) ${j}`).join(" "),R=yr.create("invalid-analytics-context",{errorInfo:S});Bi.warn(R.message)}}();const j=I.options.appId;if(!j)throw yr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw yr.create("no-api-key");Bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jr[j])throw yr.create("already-exists",{id:j});if(!hs){!function wu(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}(Co);const{wrappedGtag:ae,gtagCore:Fe}=function ul(I,S,R,j,G){let ae=function(...Fe){window[j].push(arguments)};return window[G]&&"function"==typeof window[G]&&(ae=window[G]),window[G]=function nc(I,S,R,j){function ae(){return ae=(0,F.Z)(function*(Fe,ct,ht){try{"event"===Fe?yield function Da(I,S,R,j,G){return Ea.apply(this,arguments)}(I,S,R,ct,ht):"config"===Fe?yield function cl(I,S,R,j,G,ae){return dl.apply(this,arguments)}(I,S,R,j,ct,ht):"consent"===Fe?I("consent","update",ht):I("set",ct)}catch(Qe){Bi.error(Qe)}}),ae.apply(this,arguments)}return function G(Fe,ct,ht){return ae.apply(this,arguments)}}(ae,I,S,R),{gtagCore:ae,wrappedGtag:window[G]}}(jr,Iu,us,Co,Sf);$r=ae,lc=Fe,hs=!0}return jr[j]=function Eu(I,S,R,j,G,ae,Fe){return gl.apply(this,arguments)}(I,Iu,us,S,lc,Co,R),new xu(I)}function cc(){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,F.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const wn="@firebase/analytics";!function Af(){(0,oe._registerComponent)(new J.wA(bu,(S,{options:R})=>Ta(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,oe._registerComponent)(new J.wA("analytics-internal",function I(S){try{const R=S.getProvider(bu).getImmediate();return{logEvent:(j,G,ae)=>function hd(I,S,R,j){I=(0,le.m9)(I),function Ls(I,S,R,j,G){return Sa.apply(this,arguments)}($r,jr[I.app.options.appId],S,R,j).catch(G=>Bi.error(G))}(R,j,G,ae)}}catch(R){throw yr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,oe.registerVersion)(wn,"0.9.4"),(0,oe.registerVersion)(wn,"0.9.4","esm2017")}();var kf=U(4408),fd=U(7565);const Mu=new class Tu extends fd.v{}(class Uo extends kf.o{constructor(S,R){super(S,R),this.scheduler=S,this.work=R}schedule(S,R=0){return R>0?super.schedule(S,R):(this.delay=R,this.state=S,this.scheduler.flush(this),this)}execute(S,R){return R>0||this.closed?super.execute(S,R):this._execute(S,R)}requestAsyncId(S,R,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(S,R,j):(S.flush(this),0)}});var qy=U(4986),Aa=U(9751),ai=U(8505),dc=U(9468),vl=U(5363);const Xm=new s.GfV("7.5.0"),sr="__angularfire_symbol__analyticsIsSupportedValue",Ho="__angularfire_symbol__analyticsIsSupported",pd="__angularfire_symbol__remoteConfigIsSupportedValue",ka="__angularfire_symbol__remoteConfigIsSupported",fs="__angularfire_symbol__messagingIsSupportedValue",Au="__angularfire_symbol__messagingIsSupported";function bl(I,S,R){if(S){if(1===S.length)return S[0];const ae=S.filter(Fe=>Fe.app===R);if(1===ae.length)return ae[0]}return R.container.getProvider(I).getImmediate({optional:!0})}globalThis[Ho]||(globalThis[Ho]=cc().then(I=>globalThis[sr]=I).catch(()=>globalThis[sr]=!1)),globalThis[Au]||(globalThis[Au]=rd().then(I=>globalThis[fs]=I).catch(()=>globalThis[fs]=!1)),globalThis[ka]||(globalThis[ka]=Nm().then(I=>globalThis[pd]=I).catch(()=>globalThis[pd]=!1));const Do=(I,S)=>{const R=S?[S]:(0,$.C6)(),j=[];return R.forEach(G=>{G.container.getProvider(I).instances.forEach(Fe=>{j.includes(Fe)||j.push(Fe)})}),j};function Ra(){}class ku{constructor(S,R=Mu){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,j){const G=this.zone;return this.delegate.schedule(function(Fe){G.runGuarded(()=>{S.apply(this,[Fe])})},R,j)}}class En{constructor(S){this.zone=S,this.task=null}call(S,R){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ra,{},Ra,Ra)),R.pipe((0,ai.b)({next:j,complete:j,error:j})).subscribe(S).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ps=(()=>{class I{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new ku(Zone.current)),this.insideAngular=R.run(()=>new ku(Zone.current,qy.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(R){return new(R||I)(s.LFG(s.R0b))},I.\u0275prov=s.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function We(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function li(I){return We().ngZone.run(()=>I())}function Yn(I){return We(),function uc(I){return function(R){return(R=R.lift(new En(I.ngZone))).pipe((0,dc.R)(I.outsideAngular),(0,vl.Q)(I.insideAngular))}}(We())(I)}const Hs=(I,S)=>function(){const j=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),li(()=>I.apply(void 0,j))},Ru=(I,S)=>function(){let R;const j=arguments;for(let ae=0;ae<arguments.length;ae++)"function"==typeof j[ae]&&(S&&(R||(R=li(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ra,{},Ra,Ra)))),j[ae]=Hs(j[ae],R));const G=function pt(I){return We().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,j));if(!S){if(G instanceof Aa.y){const ae=We();return G.pipe((0,dc.R)(ae.outsideAngular),(0,vl.Q)(ae.insideAngular))}return li(()=>G)}return G instanceof Aa.y?G.pipe(Yn):G instanceof Promise?li(()=>new Promise((ae,Fe)=>G.then(ct=>li(()=>ae(ct)),ct=>li(()=>Fe(ct))))):"function"==typeof G&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),G.apply(this,arguments)}:li(()=>G)}},8401:(bt,Ie,U)=>{U.d(Ie,{$:()=>Xl,A:()=>Z,B:()=>Ae,G:()=>du,H:()=>Nn,J:()=>fi,L:()=>ii,M:()=>ql,N:()=>Lm,P:()=>qy,Q:()=>uu,R:()=>Mf,T:()=>Vm,U:()=>tl,V:()=>wo,W:()=>Ts,X:()=>hu,Y:()=>gr,Z:()=>Jc,_:()=>rl,a:()=>hl,a0:()=>gf,a1:()=>ed,a2:()=>$t,a3:()=>_f,a4:()=>yf,a5:()=>pu,a6:()=>vf,a7:()=>ge,a8:()=>bf,a9:()=>mu,aA:()=>q,aB:()=>ct,aC:()=>li,aD:()=>pt,aE:()=>Pi,aI:()=>fl,aL:()=>nl,aa:()=>so,ab:()=>gu,ac:()=>wf,af:()=>wa,ag:()=>ls,ah:()=>_u,ak:()=>fa,al:()=>tc,an:()=>xf,ao:()=>dl,ap:()=>be,aq:()=>Jt,ar:()=>Je,as:()=>Re,at:()=>Gt,au:()=>Eo,av:()=>jt,aw:()=>ke,ax:()=>ne,ay:()=>vr,az:()=>$e,b:()=>yr,c:()=>ka,d:()=>Yy,e:()=>Au,f:()=>Yn,g:()=>R,h:()=>Ru,i:()=>ml,j:()=>ae,k:()=>tg,l:()=>Qm,m:()=>ig,n:()=>sg,o:()=>he,r:()=>kf,s:()=>Km,u:()=>Mu});var s=U(5861),$=U(2090),F=U(9681),oe=U(1877),le=U(655),J=U(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},qe=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new oe.Yd("@firebase/auth");function xe(w,...g){Se.logLevel<=oe.in.ERROR&&Se.error(`Auth (${F.SDK_VERSION}): ${w}`,...g)}function Re(w,...g){throw Ge(w,...g)}function ke(w,...g){return Ge(w,...g)}function Pe(w,g,y){const D=Object.assign(Object.assign({},qe()),{[g]:y});return new $.LL("auth","Firebase",D).create(g,{appName:w.name})}function Te(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Re(w,"argument-error"),Pe(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(w,...g){if("string"!=typeof w){const y=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=w.name),w._errorFactory.create(y,...D)}return dt.create(w,...g)}function ne(w,g,...y){if(!w)throw Ge(g,...y)}function de(w){const g="INTERNAL ASSERTION FAILED: "+w;throw xe(g),new Error(g)}function be(w,g){w||de(g)}const Ye=new Map;function $e(w){be(w instanceof Function,"Expected a class definition");let g=Ye.get(w);return g?(be(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,Ye.set(w,g),g)}function ce(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function pe(){return"http:"===Ce()||"https:"===Ce()}function Ce(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Be{constructor(g,y){this.shortDelay=g,this.longDelay=y,be(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function Oe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pe()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function it(w,g){be(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Xe{static initialize(g,y,D){this.fetchImpl=g,y&&(this.headersImpl=y),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void de("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void de("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void de("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},xt=new Be(3e4,6e4);function Dt(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function at(w,g,y,D){return cn.apply(this,arguments)}function cn(){return(cn=(0,s.Z)(function*(w,g,y,D,k={}){return Gn(w,k,(0,s.Z)(function*(){let L={},Q={};D&&("GET"===g?Q=D:L={body:JSON.stringify(D)});const Me=(0,$.xO)(Object.assign({key:w.config.apiKey},Q)).slice(1),ut=yield w._getAdditionalHeaders();return ut["Content-Type"]="application/json",w.languageCode&&(ut["X-Firebase-Locale"]=w.languageCode),Xe.fetch()(rr(w,w.config.apiHost,y,Me),Object.assign({method:g,headers:ut,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Gn(w,g,y){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(w,g,y){w._canInitEmulator=!1;const D=Object.assign(Object.assign({},mn),g);try{const k=new no(w),L=yield Promise.race([y(),k.promise]);k.clearNetworkTimeout();const Q=yield L.json();if("needConfirmation"in Q)throw ei(w,"account-exists-with-different-credential",Q);if(L.ok&&!("errorMessage"in Q))return Q;{const Me=L.ok?Q.errorMessage:Q.error.message,[ut,ft]=Me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ut)throw ei(w,"credential-already-in-use",Q);if("EMAIL_EXISTS"===ut)throw ei(w,"email-already-in-use",Q);if("USER_DISABLED"===ut)throw ei(w,"user-disabled",Q);const rn=D[ut]||ut.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw Pe(w,rn,ft);Re(w,rn)}}catch(k){if(k instanceof $.ZR)throw k;Re(w,"internal-error",{message:String(k)})}})).apply(this,arguments)}function gn(w,g,y,D){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(w,g,y,D,k={}){const L=yield at(w,g,y,D,k);return"mfaPendingCredential"in L&&Re(w,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function rr(w,g,y,D){const k=`${g}${y}?${D}`;return w.config.emulator?it(w.config,k):`${w.config.apiScheme}://${k}`}class no{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,D)=>{this.timer=setTimeout(()=>D(ke(this.auth,"network-request-failed")),xt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ei(w,g,y){const D={appName:w.name};y.email&&(D.email=y.email),y.phoneNumber&&(D.phoneNumber=y.phoneNumber);const k=ke(w,g,D);return k.customData._tokenResponse=y,k}function Vr(){return(Vr=(0,s.Z)(function*(w,g){return at(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function ki(){return(ki=(0,s.Z)(function*(w,g){return at(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Yi(){return(Yi=(0,s.Z)(function*(w,g){return at(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Zi(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function ur(){return(ur=(0,s.Z)(function*(w,g=!1){const y=(0,$.m9)(w),D=yield y.getIdToken(g),k=wt(D);ne(k&&k.exp&&k.auth_time&&k.iat,y.auth,"internal-error");const L="object"==typeof k.firebase?k.firebase:void 0,Q=L?.sign_in_provider;return{claims:k,token:D,authTime:Zi(Bt(k.auth_time)),issuedAtTime:Zi(Bt(k.iat)),expirationTime:Zi(Bt(k.exp)),signInProvider:Q||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Bt(w){return 1e3*Number(w)}function wt(w){const[g,y,D]=w.split(".");if(void 0===g||void 0===y||void 0===D)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,$.tV)(y);return k?JSON.parse(k):(xe("Failed to decode base64 JWT payload"),null)}catch(k){return xe("Caught error parsing JWT payload as JSON",k?.toString()),null}}function Rn(w,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(D){throw D instanceof $.ZR&&function hi({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(D)&&w.auth.currentUser===w&&(yield w.auth.signOut()),D}})).apply(this,arguments)}class Ri{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const k=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield y.iteration()}),D)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&g.schedule(!0))}g.schedule()})()}}class Ei{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zi(this.lastLoginAt),this.creationTime=Zi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function io(w){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,s.Z)(function*(w){var g;const y=w.auth,D=yield w.getIdToken(),k=yield Rn(w,function lt(w,g){return Yi.apply(this,arguments)}(y,{idToken:D}));ne(k?.users.length,y,"internal-error");const L=k.users[0];w._notifyReloadListener(L);const Q=null!==(g=L.providerUserInfo)&&void 0!==g&&g.length?function ni(w){return w.map(g=>{var{providerId:y}=g,D=(0,le._T)(g,["providerId"]);return{providerId:y,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(L.providerUserInfo):[],Me=function hr(w,g){return[...w.filter(D=>!g.some(k=>k.providerId===D.providerId)),...g]}(w.providerData,Q),rn=!!w.isAnonymous&&!(w.email&&L.passwordHash||Me?.length),An={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Me,metadata:new Ei(L.createdAt,L.lastLoginAt),isAnonymous:rn};Object.assign(w,An)}),Zt.apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(w){const g=(0,$.m9)(w);yield io(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ee(){return(Ee=(0,s.Z)(function*(w,g){const y=yield Gn(w,{},(0,s.Z)(function*(){const D=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:k,apiKey:L}=w.config,Q=rr(w,k,"/v1/token",`key=${L}`),Me=yield w._getAdditionalHeaders();return Me["Content-Type"]="application/x-www-form-urlencoded",Xe.fetch()(Q,{method:"POST",headers:Me,body:D})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ne(g.idToken,"internal-error"),ne(typeof g.idToken<"u","internal-error"),ne(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Pt(w){const g=wt(w);return ne(g,"internal-error"),ne(typeof g.exp<"u","internal-error"),ne(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var D=this;return(0,s.Z)(function*(){return ne(!D.accessToken||D.refreshToken,g,"user-token-expired"),y||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var D=this;return(0,s.Z)(function*(){const{accessToken:k,refreshToken:L,expiresIn:Q}=yield function je(w,g){return Ee.apply(this,arguments)}(g,y);D.updateTokensAndExpiration(k,L,Number(Q))})()}updateTokensAndExpiration(g,y,D){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,y){const{refreshToken:D,accessToken:k,expirationTime:L}=y,Q=new rt;return D&&(ne("string"==typeof D,"internal-error",{appName:g}),Q.refreshToken=D),k&&(ne("string"==typeof k,"internal-error",{appName:g}),Q.accessToken=k),L&&(ne("number"==typeof L,"internal-error",{appName:g}),Q.expirationTime=L),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return de("not implemented")}}function It(w,g){ne("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class Rt{constructor(g){var{uid:y,auth:D,stsTokenManager:k}=g,L=(0,le._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ri(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=D,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Ei(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,s.Z)(function*(){const D=yield Rn(y,y.stsTokenManager.getToken(y.auth,g));return ne(D,y.auth,"internal-error"),y.accessToken!==D&&(y.accessToken=D,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),D})()}getIdTokenResult(g){return function ti(w){return ur.apply(this,arguments)}(this,g)}reload(){return function Br(w){return Qt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ne(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Rt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var D=this;return(0,s.Z)(function*(){let k=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),k=!0),y&&(yield io(D)),yield D.auth._persistUserIfCurrent(D),k&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,s.Z)(function*(){const y=yield g.getIdToken();return yield Rn(g,function Mr(w,g){return Vr.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var D,k,L,Q,Me,ut,ft,rn;const An=null!==(D=y.displayName)&&void 0!==D?D:void 0,Gr=null!==(k=y.email)&&void 0!==k?k:void 0,_s=null!==(L=y.phoneNumber)&&void 0!==L?L:void 0,La=null!==(Q=y.photoURL)&&void 0!==Q?Q:void 0,$o=null!==(Me=y.tenantId)&&void 0!==Me?Me:void 0,mc=null!==(ut=y._redirectEventId)&&void 0!==ut?ut:void 0,gc=null!==(ft=y.createdAt)&&void 0!==ft?ft:void 0,ag=null!==(rn=y.lastLoginAt)&&void 0!==rn?rn:void 0,{uid:Cl,emailVerified:bd,isAnonymous:Nf,providerData:Nu,stsTokenManager:lg}=y;ne(Cl&&lg,g,"internal-error");const Xy=rt.fromJSON(this.name,lg);ne("string"==typeof Cl,g,"internal-error"),It(An,g.name),It(Gr,g.name),ne("boolean"==typeof bd,g,"internal-error"),ne("boolean"==typeof Nf,g,"internal-error"),It(_s,g.name),It(La,g.name),It($o,g.name),It(mc,g.name),It(gc,g.name),It(ag,g.name);const Lf=new Rt({uid:Cl,auth:g,email:Gr,emailVerified:bd,displayName:An,isAnonymous:Nf,photoURL:La,phoneNumber:_s,tenantId:$o,stsTokenManager:Xy,createdAt:gc,lastLoginAt:ag});return Nu&&Array.isArray(Nu)&&(Lf.providerData=Nu.map(wd=>Object.assign({},wd))),mc&&(Lf._redirectEventId=mc),Lf}static _fromIdTokenResponse(g,y,D=!1){return(0,s.Z)(function*(){const k=new rt;k.updateFromServerResponse(y);const L=new Rt({uid:y.localId,auth:g,stsTokenManager:k,isAnonymous:D});return yield io(L),L})()}}const ii=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(y,D){var k=this;return(0,s.Z)(function*(){k.storage[y]=D})()}_get(y){var D=this;return(0,s.Z)(function*(){const k=D.storage[y];return void 0===k?null:k})()}_remove(y){var D=this;return(0,s.Z)(function*(){delete D.storage[y]})()}_addListener(y,D){}_removeListener(y,D){}}return w.type="NONE",w})();function q(w,g,y){return`firebase:${w}:${g}:${y}`}class W{constructor(g,y,D){this.persistence=g,this.auth=y,this.userKey=D;const{config:k,name:L}=this.auth;this.fullUserKey=q(this.userKey,k.apiKey,L),this.fullPersistenceKey=q("persistence",k.apiKey,L),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Rt._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,s.Z)(function*(){if(y.persistence===g)return;const D=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,D?y.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,D="authUser"){return(0,s.Z)(function*(){if(!y.length)return new W($e(ii),g,D);const k=(yield Promise.all(y.map(function(){var ft=(0,s.Z)(function*(rn){if(yield rn._isAvailable())return rn});return function(rn){return ft.apply(this,arguments)}}()))).filter(ft=>ft);let L=k[0]||$e(ii);const Q=q(D,g.config.apiKey,g.name);let Me=null;for(const ft of y)try{const rn=yield ft._get(Q);if(rn){const An=Rt._fromJSON(g,rn);ft!==L&&(Me=An),L=ft;break}}catch{}const ut=k.filter(ft=>ft._shouldAllowMigration);return L._shouldAllowMigration&&ut.length?(L=ut[0],Me&&(yield L._set(Q,Me.toJSON())),yield Promise.all(y.map(function(){var ft=(0,s.Z)(function*(rn){if(rn!==L)try{yield rn._remove(Q)}catch{}});return function(rn){return ft.apply(this,arguments)}}())),new W(L,g,D)):new W(L,g,D)})()}}function N(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ye(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(V(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ke(g))return"Blackberry";if(At(g))return"Webos";if(P(g))return"Safari";if((g.includes("chrome/")||ie(g))&&!g.includes("edge/"))return"Chrome";if(Je(g))return"Android";{const D=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function V(w=(0,$.z$)()){return/firefox\//i.test(w)}function P(w=(0,$.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ie(w=(0,$.z$)()){return/crios\//i.test(w)}function ye(w=(0,$.z$)()){return/iemobile/i.test(w)}function Je(w=(0,$.z$)()){return/android/i.test(w)}function Ke(w=(0,$.z$)()){return/blackberry/i.test(w)}function At(w=(0,$.z$)()){return/webos/i.test(w)}function Jt(w=(0,$.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function jt(w=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Oi(w=(0,$.z$)()){return Jt(w)||Je(w)||At(w)||Ke(w)||/windows phone/i.test(w)||ye(w)}function la(w,g=[]){let y;switch(w){case"Browser":y=N((0,$.z$)());break;case"Worker":y=`${N((0,$.z$)())}-${w}`;break;default:y=w}const D=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${F.SDK_VERSION}/${D}`}class Wc{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const D=L=>new Promise((Q,Me)=>{try{Q(g(L))}catch(ut){Me(ut)}});D.onAbort=y,this.queue.push(D);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,s.Z)(function*(){if(y.auth.currentUser===g)return;const D=[];try{for(const k of y.queue)yield k(g),k.onAbort&&D.push(k.onAbort)}catch(k){D.reverse();for(const L of D)try{L()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}class qc{constructor(g,y,D){this.app=g,this.heartbeatServiceProvider=y,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ca(this),this.idTokenSubscription=new ca(this),this.beforeStateQueue=new Wc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(g,y){var D=this;return y&&(this._popupRedirectResolver=$e(y)),this._initializationPromise=this.queue((0,s.Z)(function*(){var k,L;if(!D._deleted&&(D.persistenceManager=yield W.create(D,g),!D._deleted)){if(null!==(k=D._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(y),D.lastNotifiedUid=(null===(L=D.currentUser)||void 0===L?void 0:L.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,s.Z)(function*(){var D;const k=yield y.assertedPersistence.getCurrentUser();let L=k,Q=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Me=null===(D=y.redirectUser)||void 0===D?void 0:D._redirectEventId,ut=L?._redirectEventId,ft=yield y.tryRedirectSignIn(g);(!Me||Me===ut)&&ft?.user&&(L=ft.user,Q=!0)}if(!L)return y.directlySetCurrentUser(null);if(!L._redirectEventId){if(Q)try{yield y.beforeStateQueue.runMiddleware(L)}catch(Me){L=k,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Me))}return L?y.reloadAndSetCurrentUserOrClear(L):y.directlySetCurrentUser(null)}return ne(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===L._redirectEventId?y.directlySetCurrentUser(L):y.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(g){var y=this;return(0,s.Z)(function*(){let D=null;try{D=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,s.Z)(function*(){try{yield io(g)}catch(D){if("auth/network-request-failed"!==D?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ve(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,s.Z)(function*(){const D=g?(0,$.m9)(g):null;return D&&ne(D.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(D&&D._clone(y))})()}_updateCurrentUser(g,y=!1){var D=this;return(0,s.Z)(function*(){if(!D._deleted)return g&&ne(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),y||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,s.Z)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,s.Z)(function*(){yield y.assertedPersistence.setPersistence($e(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,y,D){return this.registerStateListener(this.authStateSubscription,g,y,D)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,D){return this.registerStateListener(this.idTokenSubscription,g,y,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var D=this;return(0,s.Z)(function*(){const k=yield D.getOrInitRedirectPersistenceManager(y);return null===g?k.removeCurrentUser():k.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,s.Z)(function*(){if(!y.redirectPersistenceManager){const D=g&&$e(g)||y._popupRedirectResolver;ne(D,y,"argument-error"),y.redirectPersistenceManager=yield W.create(y,[$e(D._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,s.Z)(function*(){var D,k;return y._isInitialized&&(yield y.queue((0,s.Z)(function*(){}))),(null===(D=y._currentUser)||void 0===D?void 0:D._redirectEventId)===g?y._currentUser:(null===(k=y.redirectUser)||void 0===k?void 0:k._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,s.Z)(function*(){if(g===y.currentUser)return y.queue((0,s.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,D,k){if(this._deleted)return()=>{};const L="function"==typeof y?y:y.next.bind(y),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(Q,this,"internal-error"),Q.then(()=>L(this.currentUser)),"function"==typeof y?g.addObserver(y,D,k):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,s.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=la(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var y;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const k=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return k&&(D["X-Firebase-Client"]=k),D})()}}function Pi(w){return(0,$.m9)(w)}class ca{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(y=>this.observer=y)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function du(w,g,y){const D=Pi(w);ne(D._canInitEmulator,D,"emulator-config-failed"),ne(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const k=!!y?.disableWarnings,L=Yc(g),{host:Q,port:Me}=function zl(w){const g=Yc(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const D=y[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(D);if(k){const L=k[1];return{host:L,port:da(D.substr(L.length+1))}}{const[L,Q]=D.split(":");return{host:L,port:da(Q)}}}(g);D.config.emulator={url:`${L}//${Q}${null===Me?"":`:${Me}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Q,port:Me,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function hn(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Yc(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function da(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class Nn{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return de("not implemented")}_getIdTokenResponse(g){return de("not implemented")}_linkToIdToken(g,y){return de("not implemented")}_getReauthenticationResolver(g){return de("not implemented")}}function Ki(w,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(w,g){return at(w,"POST","/v1/accounts:resetPassword",Dt(w,g))})).apply(this,arguments)}function fr(w,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,s.Z)(function*(w,g){return at(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ot(){return(Ot=(0,s.Z)(function*(w,g){return at(w,"POST","/v1/accounts:update",Dt(w,g))})).apply(this,arguments)}function Qi(){return(Qi=(0,s.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithPassword",Dt(w,g))})).apply(this,arguments)}function bo(w,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,s.Z)(function*(w,g){return at(w,"POST","/v1/accounts:sendOobCode",Dt(w,g))})).apply(this,arguments)}function On(){return(On=(0,s.Z)(function*(w,g){return bo(w,g)})).apply(this,arguments)}function oi(){return(oi=(0,s.Z)(function*(w,g){return bo(w,g)})).apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(function*(w,g){return bo(w,g)})).apply(this,arguments)}function ss(){return(ss=(0,s.Z)(function*(w,g){return bo(w,g)})).apply(this,arguments)}function Fi(){return(Fi=(0,s.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithEmailLink",Dt(w,g))})).apply(this,arguments)}function ko(){return(ko=(0,s.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithEmailLink",Dt(w,g))})).apply(this,arguments)}class pr extends Nn{constructor(g,y,D,k=null){super("password",D),this._email=g,this._password=y,this._tenantId=k}static _fromEmailAndPassword(g,y){return new pr(g,y,"password")}static _fromEmailAndCode(g,y,D=null){return new pr(g,y,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,s.Z)(function*(){switch(y.signInMethod){case"password":return function jn(w,g){return Qi.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Ur(w,g){return Fi.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Re(g,"internal-error")}})()}_linkToIdToken(g,y){var D=this;return(0,s.Z)(function*(){switch(D.signInMethod){case"password":return fr(g,{idToken:y,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function $l(w,g){return ko.apply(this,arguments)}(g,{idToken:y,email:D._email,oobCode:D._password});default:Re(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function kr(w,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,s.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithIdp",Dt(w,g))})).apply(this,arguments)}class fi extends Nn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new fi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Re("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:k}=y,L=(0,le._T)(y,["providerId","signInMethod"]);if(!D||!k)return null;const Q=new fi(D,k);return Q.idToken=L.idToken||void 0,Q.accessToken=L.accessToken||void 0,Q.secret=L.secret,Q.nonce=L.nonce,Q.pendingToken=L.pendingToken||null,Q}_getIdTokenResponse(g){return kr(g,this.buildRequest())}_linkToIdToken(g,y){const D=this.buildRequest();return D.idToken=y,kr(g,D)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,kr(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,$.xO)(y)}return g}}function Gl(){return(Gl=(0,s.Z)(function*(w,g){return at(w,"POST","/v1/accounts:sendVerificationCode",Dt(w,g))})).apply(this,arguments)}function Ro(){return(Ro=(0,s.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithPhoneNumber",Dt(w,g))})).apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(w,g){const y=yield gn(w,"POST","/v1/accounts:signInWithPhoneNumber",Dt(w,g));if(y.temporaryProof)throw ei(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Fm={USER_NOT_FOUND:"user-not-found"};function Or(){return(Or=(0,s.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithPhoneNumber",Dt(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Fm)})).apply(this,arguments)}class Oo extends Nn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Oo({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Oo({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function Wl(w,g){return Ro.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function Hr(w,g){return Ni.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Rr(w,g){return Or.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:D,verificationCode:k}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:D,code:k}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:D,phoneNumber:k,temporaryProof:L}=g;return D||y||k||L?new Oo({verificationId:y,verificationCode:D,phoneNumber:k,temporaryProof:L}):null}}class Li{constructor(g){var y,D,k,L,Q,Me;const ut=(0,$.zd)((0,$.pd)(g)),ft=null!==(y=ut.apiKey)&&void 0!==y?y:null,rn=null!==(D=ut.oobCode)&&void 0!==D?D:null,An=function el(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=ut.mode)&&void 0!==k?k:null);ne(ft&&rn&&An,"argument-error"),this.apiKey=ft,this.operation=An,this.code=rn,this.continueUrl=null!==(L=ut.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(Q=ut.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(Me=ut.tenantId)&&void 0!==Me?Me:null}static parseLink(g){const y=function Kc(w){const g=(0,$.zd)((0,$.pd)(w)).link,y=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,D=(0,$.zd)((0,$.pd)(w)).deep_link_id;return(D?(0,$.zd)((0,$.pd)(D)).link:null)||D||y||g||w}(g);try{return new Li(y)}catch{return null}}}let ql=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,D){return pr._fromEmailAndPassword(y,D)}static credentialWithLink(y,D){const k=Li.parseLink(D);return ne(k,"argument-error"),pr._fromEmailAndCode(y,k.code,k.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Po{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ha extends Po{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class tl extends ha{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return ne("providerId"in y&&"signInMethod"in y,"argument-error"),fi._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ne(g.idToken||g.accessToken,"argument-error"),fi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return tl.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return tl.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:D,oauthTokenSecret:k,pendingToken:L,nonce:Q,providerId:Me}=g;if(!D&&!k&&!y&&!L||!Me)return null;try{return new tl(Me)._credential({idToken:y,accessToken:D,nonce:Q,pendingToken:L})}catch{return null}}}let Lm=(()=>{class w extends ha{constructor(){super("facebook.com")}static credential(y){return fi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),uu=(()=>{class w extends ha{constructor(){super("google.com"),this.addScope("profile")}static credential(y,D){return fi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:D,oauthAccessToken:k}=y;if(!D&&!k)return null;try{return w.credential(D,k)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Vm=(()=>{class w extends ha{constructor(){super("github.com")}static credential(y){return fi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class nl extends Nn{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return kr(g,this.buildRequest())}_linkToIdToken(g,y){const D=this.buildRequest();return D.idToken=y,kr(g,D)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,kr(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:k,pendingToken:L}=y;return D&&k&&L&&D===k?new nl(D,L):null}static _create(g,y){return new nl(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wo extends Po{constructor(g){ne(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return wo.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return wo.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=nl.fromJSON(g);return ne(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:D}=g;if(!y||!D)return null;try{return nl._create(D,y)}catch{return null}}}let Ts=(()=>{class w extends ha{constructor(){super("twitter.com")}static credential(y,D){return fi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:D,oauthTokenSecret:k}=y;if(!D||!k)return null;try{return w.credential(D,k)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Um(w,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,s.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signUp",Dt(w,g))})).apply(this,arguments)}class zr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,D,k=!1){return(0,s.Z)(function*(){const L=yield Rt._fromIdTokenResponse(g,D,k),Q=Yl(D);return new zr({user:L,providerId:Q,_tokenResponse:D,operationType:y})})()}static _forOperation(g,y,D){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const k=Yl(D);return new zr({user:g,providerId:k,_tokenResponse:D,operationType:y})})()}}function Yl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function hu(w){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,s.Z)(function*(w){var g;const y=Pi(w);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new zr({user:y.currentUser,providerId:null,operationType:"signIn"});const D=yield Um(y,{returnSecureToken:!0}),k=yield zr._fromIdTokenResponse(y,"signIn",D,!0);return yield y._updateCurrentUser(k.user),k})).apply(this,arguments)}class Qc extends $.ZR{constructor(g,y,D,k){var L;super(y.code,y.message),this.operationType=D,this.user=k,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:g.name,tenantId:null!==(L=g.tenantId)&&void 0!==L?L:void 0,_serverResponse:y.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,y,D,k){return new Qc(g,y,D,k)}}function fu(w,g,y,D){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Qc._fromErrorAndOperation(w,L,g,D):L})}function Ms(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function fa(w,g){return pa.apply(this,arguments)}function pa(){return pa=(0,s.Z)(function*(w,g){const y=(0,$.m9)(w);yield As(!0,y,g);const{providerUserInfo:D}=yield function Mn(w,g){return ki.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),k=Ms(D||[]);return y.providerData=y.providerData.filter(L=>k.has(L.providerId)),k.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),pa.apply(this,arguments)}function ma(w,g){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,s.Z)(function*(w,g,y=!1){const D=yield Rn(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return zr._forOperation(w,"link",D)})).apply(this,arguments)}function As(w,g,y){return ga.apply(this,arguments)}function ga(){return(ga=(0,s.Z)(function*(w,g,y){yield io(g);const k=!1===w?"provider-already-linked":"no-such-provider";ne(Ms(g.providerData).has(y)===w,g.auth,k)})).apply(this,arguments)}function Ql(w,g){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,s.Z)(function*(w,g,y=!1){const{auth:D}=w,k="reauthenticate";try{const L=yield Rn(w,fu(D,k,g,w),y);ne(L.idToken,D,"internal-error");const Q=wt(L.idToken);ne(Q,D,"internal-error");const{sub:Me}=Q;return ne(w.uid===Me,D,"user-mismatch"),zr._forOperation(w,k,L)}catch(L){throw"auth/user-not-found"===L?.code&&Re(D,"user-mismatch"),L}})).apply(this,arguments)}function il(w,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,s.Z)(function*(w,g,y=!1){const D="signIn",k=yield fu(w,D,g),L=yield zr._fromIdTokenResponse(w,D,k);return y||(yield w._updateCurrentUser(L.user)),L})).apply(this,arguments)}function gr(w,g){return si.apply(this,arguments)}function si(){return(si=(0,s.Z)(function*(w,g){return il(Pi(w),g)})).apply(this,arguments)}function Jc(w,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,s.Z)(function*(w,g){const y=(0,$.m9)(w);return yield As(!1,y,g.providerId),ma(y,g)})).apply(this,arguments)}function rl(w,g){return as.apply(this,arguments)}function as(){return(as=(0,s.Z)(function*(w,g){return Ql((0,$.m9)(w),g)})).apply(this,arguments)}function ol(){return(ol=(0,s.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithCustomToken",Dt(w,g))})).apply(this,arguments)}function Xl(w,g){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,s.Z)(function*(w,g){const y=Pi(w),D=yield function Vi(w,g){return ol.apply(this,arguments)}(y,{token:g,returnSecureToken:!0}),k=yield zr._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(k.user),k}),Fo.apply(this,arguments)}class Ii{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Jl._fromServerResponse(g,y):Re(g,"internal-error")}}class Jl extends Ii{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Jl(y)}}function Rs(w,g,y){var D;ne((null===(D=y.url)||void 0===D?void 0:D.length)>0,w,"invalid-continue-uri"),ne(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ne(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(ne(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function gf(w,g,y){return oo.apply(this,arguments)}function oo(){return oo=(0,s.Z)(function*(w,g,y){const D=(0,$.m9)(w),k={requestType:"PASSWORD_RESET",email:g};y&&Rs(D,k,y),yield function jl(w,g){return oi.apply(this,arguments)}(D,k)}),oo.apply(this,arguments)}function ed(w,g,y){return Os.apply(this,arguments)}function Os(){return(Os=(0,s.Z)(function*(w,g,y){yield Ki((0,$.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function $t(w,g){return _a.apply(this,arguments)}function _a(){return _a=(0,s.Z)(function*(w,g){yield function st(w,g){return Ot.apply(this,arguments)}((0,$.m9)(w),{oobCode:g})}),_a.apply(this,arguments)}function _f(w,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(w,g){const y=(0,$.m9)(w),D=yield Ki(y,{oobCode:g}),k=D.requestType;switch(ne(k,y,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(D.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(D.mfaInfo,y,"internal-error");default:ne(D.email,y,"internal-error")}let L=null;return D.mfaInfo&&(L=Ii._fromServerResponse(Pi(y),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:L},operation:k}})).apply(this,arguments)}function yf(w,g){return al.apply(this,arguments)}function al(){return(al=(0,s.Z)(function*(w,g){const{data:y}=yield _f((0,$.m9)(w),g);return y.email})).apply(this,arguments)}function pu(w,g,y){return td.apply(this,arguments)}function td(){return(td=(0,s.Z)(function*(w,g,y){const D=Pi(w),k=yield Um(D,{returnSecureToken:!0,email:g,password:y}),L=yield zr._fromIdTokenResponse(D,"signIn",k);return yield D._updateCurrentUser(L.user),L})).apply(this,arguments)}function vf(w,g,y){return gr((0,$.m9)(w),ql.credential(g,y))}function ge(w,g,y){return ln.apply(this,arguments)}function ln(){return ln=(0,s.Z)(function*(w,g,y){const D=(0,$.m9)(w),k={requestType:"EMAIL_SIGNIN",email:g};ne(y.handleCodeInApp,D,"argument-error"),y&&Rs(D,k,y),yield function en(w,g){return Xa.apply(this,arguments)}(D,k)}),ln.apply(this,arguments)}function bf(w,g){return"EMAIL_SIGNIN"===Li.parseLink(g)?.operation}function mu(w,g,y){return Si.apply(this,arguments)}function Si(){return(Si=(0,s.Z)(function*(w,g,y){const D=(0,$.m9)(w),k=ql.credentialWithLink(g,y||ce());return ne(k._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),gr(D,k)})).apply(this,arguments)}function ya(){return(ya=(0,s.Z)(function*(w,g){return at(w,"POST","/v1/accounts:createAuthUri",Dt(w,g))})).apply(this,arguments)}function so(w,g){return va.apply(this,arguments)}function va(){return va=(0,s.Z)(function*(w,g){const D={identifier:g,continueUri:pe()?ce():"http://localhost"},{signinMethods:k}=yield function nd(w,g){return ya.apply(this,arguments)}((0,$.m9)(w),D);return k||[]}),va.apply(this,arguments)}function gu(w,g){return ec.apply(this,arguments)}function ec(){return ec=(0,s.Z)(function*(w,g){const y=(0,$.m9)(w),k={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&Rs(y.auth,k,g);const{email:L}=yield function ro(w,g){return On.apply(this,arguments)}(y.auth,k);L!==w.email&&(yield w.reload())}),ec.apply(this,arguments)}function wf(w,g,y){return ba.apply(this,arguments)}function ba(){return ba=(0,s.Z)(function*(w,g,y){const D=(0,$.m9)(w),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&Rs(D.auth,L,y);const{email:Q}=yield function ua(w,g){return ss.apply(this,arguments)}(D.auth,L);Q!==w.email&&(yield w.reload())}),ba.apply(this,arguments)}function or(){return(or=(0,s.Z)(function*(w,g){return at(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function wa(w,g){return No.apply(this,arguments)}function No(){return No=(0,s.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const D=(0,$.m9)(w),L={idToken:yield D.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},Q=yield Rn(D,function Xi(w,g){return or.apply(this,arguments)}(D.auth,L));D.displayName=Q.displayName||null,D.photoURL=Q.photoUrl||null;const Me=D.providerData.find(({providerId:ut})=>"password"===ut);Me&&(Me.displayName=D.displayName,Me.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Q)}),No.apply(this,arguments)}function ls(w,g){return Ca((0,$.m9)(w),g,null)}function _u(w,g){return Ca((0,$.m9)(w),null,g)}function Ca(w,g,y){return id.apply(this,arguments)}function id(){return(id=(0,s.Z)(function*(w,g,y){const{auth:D}=w,L={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(L.email=g),y&&(L.password=y);const Q=yield Rn(w,fr(D,L));yield w._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class cs{constructor(g,y,D={}){this.isNewUser=g,this.providerId=y,this.profile=D}}class ll extends cs{constructor(g,y,D,k){super(g,y,D),this.username=k}}class Df extends cs{constructor(g,y){super(g,"facebook.com",y)}}class rd extends ll{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class yu extends cs{constructor(g,y){super(g,"google.com",y)}}class Ef extends ll{constructor(g,y,D){super(g,"twitter.com",y,D)}}function tc(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Cf(w){var g,y;if(!w)return null;const{providerId:D}=w,k=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},L=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!D&&w?.idToken){const Q=null===(y=null===(g=wt(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(Q)return new cs(L,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!D)return null;switch(D){case"facebook.com":return new Df(L,k);case"github.com":return new rd(L,k);case"google.com":return new yu(L,k);case"twitter.com":return new Ef(L,k,w.screenName||null);case"custom":case"anonymous":return new cs(L,null);default:return new cs(L,D,k)}}(y)}class Dn{constructor(g,y,D){this.type=g,this.credential=y,this.auth=D}static _fromIdtoken(g,y){return new Dn("enroll",g,y)}static _fromMfaPendingCredential(g){return new Dn("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,D;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Dn._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(D=g.multiFactorSession)&&void 0!==D&&D.idToken)return Dn._fromIdtoken(g.multiFactorSession.idToken)}return null}}class od{constructor(g,y,D){this.session=g,this.hints=y,this.signInResolver=D}static _fromError(g,y){const D=Pi(g),k=y.customData._serverResponse,L=(k.mfaInfo||[]).map(Me=>Ii._fromServerResponse(D,Me));ne(k.mfaPendingCredential,D,"internal-error");const Q=Dn._fromMfaPendingCredential(k.mfaPendingCredential);return new od(Q,L,function(){var Me=(0,s.Z)(function*(ut){const ft=yield ut._process(D,Q);delete k.mfaInfo,delete k.mfaPendingCredential;const rn=Object.assign(Object.assign({},k),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(y.operationType){case"signIn":const An=yield zr._fromIdTokenResponse(D,y.operationType,rn);return yield D._updateCurrentUser(An.user),An;case"reauthenticate":return ne(y.user,D,"internal-error"),zr._forOperation(y.user,y.operationType,rn);default:Re(D,"internal-error")}});return function(ut){return Me.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,s.Z)(function*(){return y.signInResolver(g)})()}}function xf(w,g){var y;const D=(0,$.m9)(w),k=g;return ne(g.customData.operationType,D,"argument-error"),ne(null===(y=k.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,D,"argument-error"),od._fromError(D,k)}class wu{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(D=>Ii._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new wu(g)}getSession(){var g=this;return(0,s.Z)(function*(){return Dn._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,y){var D=this;return(0,s.Z)(function*(){const k=g,L=yield D.getSession(),Q=yield Rn(D.user,k._process(D.user.auth,L,y));return yield D.user._updateTokensIfNecessary(Q),D.user.reload()})()}unenroll(g){var y=this;return(0,s.Z)(function*(){const D="string"==typeof g?g:g.uid,k=yield y.user.getIdToken();try{const L=yield Rn(y.user,function Gm(w,g){return at(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Dt(w,g))}(y.user.auth,{idToken:k,mfaEnrollmentId:D}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Q})=>Q!==D),yield y.user._updateTokensIfNecessary(L),yield y.user.reload()}catch(L){throw L}})()}}const cl=new WeakMap;function dl(w){const g=(0,$.m9)(w);return cl.has(g)||cl.set(g,wu._fromUser(g)),cl.get(g)}const Da="__sak";class Ea{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Da,"1"),this.storage.removeItem(Da),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const yr=(()=>{class w extends Ea{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,D)=>this.onStorageEvent(y,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nc(){const w=(0,$.z$)();return P(w)||Jt(w)}()&&function Gc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Oi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const D of Object.keys(this.listeners)){const k=this.storage.getItem(D),L=this.localCache[D];k!==L&&y(D,L,k)}}onStorageEvent(y,D=!1){if(!y.key)return void this.forAllChangedKeys((Me,ut,ft)=>{this.notifyListeners(Me,ft)});const k=y.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem(k);if(y.newValue!==Me)null!==y.newValue?this.storage.setItem(k,y.newValue):this.storage.removeItem(k);else if(this.localCache[k]===y.newValue&&!D)return}const L=()=>{const Me=this.storage.getItem(k);!D&&this.localCache[k]===Me||this.notifyListeners(k,Me)},Q=this.storage.getItem(k);!function kt(){return(0,$.w1)()&&10===document.documentMode}()||Q===y.newValue||y.newValue===y.oldValue?L():setTimeout(L,10)}notifyListeners(y,D){this.localCache[y]=D;const k=this.listeners[y];if(k)for(const L of Array.from(k))L(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,D,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:D,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,D){var k=()=>super._set,L=this;return(0,s.Z)(function*(){yield k().call(L,y,D),L.localCache[y]=JSON.stringify(D)})()}_get(y){var D=()=>super._get,k=this;return(0,s.Z)(function*(){const L=yield D().call(k,y);return k.localCache[y]=JSON.stringify(L),L})()}_remove(y){var D=()=>super._remove,k=this;return(0,s.Z)(function*(){yield D().call(k,y),delete k.localCache[y]})()}}return w.type="LOCAL",w})(),hl=(()=>{class w extends Ea{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,D){}_removeListener(y,D){}}return w.type="SESSION",w})();let Cu=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const D=this.receivers.find(L=>L.isListeningto(y));if(D)return D;const k=new w(y);return this.receivers.push(k),k}isListeningto(y){return this.eventTarget===y}handleEvent(y){var D=this;return(0,s.Z)(function*(){const k=y,{eventId:L,eventType:Q,data:Me}=k.data,ut=D.handlersMap[Q];if(!ut?.size)return;k.ports[0].postMessage({status:"ack",eventId:L,eventType:Q});const ft=Array.from(ut).map(function(){var An=(0,s.Z)(function*(Gr){return Gr(k.origin,Me)});return function(Gr){return An.apply(this,arguments)}}()),rn=yield function qm(w){return Promise.all(w.map(function(){var g=(0,s.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(D){return{fulfilled:!1,reason:D}}});return function(y){return g.apply(this,arguments)}}()))}(ft);k.ports[0].postMessage({status:"done",eventId:L,eventType:Q,response:rn})})()}_subscribe(y,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(D)}_unsubscribe(y,D){this.handlersMap[y]&&D&&this.handlersMap[y].delete(D),(!D||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function fl(w="",g=10){let y="";for(let D=0;D<g;D++)y+=Math.floor(10*Math.random());return w+y}class sd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,D=50){var k=this;return(0,s.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let Q,Me;return new Promise((ut,ft)=>{const rn=fl("",20);L.port1.start();const An=setTimeout(()=>{ft(new Error("unsupported_event"))},D);Me={messageChannel:L,onMessage(Gr){const _s=Gr;if(_s.data.eventId===rn)switch(_s.data.status){case"ack":clearTimeout(An),Q=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),ut(_s.data.response);break;default:clearTimeout(An),clearTimeout(Q),ft(new Error("invalid_response"))}}},k.handlers.add(Me),L.port1.addEventListener("message",Me.onMessage),k.target.postMessage({eventType:g,eventId:rn,data:y},[L.port2])}).finally(()=>{Me&&k.removeMessageHandler(Me)})})()}}function Ln(){return window}function Fs(){return typeof Ln().WorkerGlobalScope<"u"&&"function"==typeof Ln().importScripts}function ao(){return(ao=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ia="firebaseLocalStorageDb",ld=1,Ls="firebaseLocalStorage",Sa="fbase_key";class Vo{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function pl(w,g){return w.transaction([Ls],g?"readwrite":"readonly").objectStore(Ls)}function Vs(){const w=indexedDB.open(Ia,ld);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const D=w.result;try{D.createObjectStore(Ls,{keyPath:Sa})}catch(k){y(k)}}),w.addEventListener("success",(0,s.Z)(function*(){const D=w.result;D.objectStoreNames.contains(Ls)?g(D):(D.close(),yield function Du(){const w=indexedDB.deleteDatabase(Ia);return new Vo(w).toPromise()}(),g(yield Vs()))}))})}function cd(w,g,y){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,s.Z)(function*(w,g,y){const D=pl(w,!0).put({[Sa]:g,value:y});return new Vo(D).toPromise()})).apply(this,arguments)}function ds(){return(ds=(0,s.Z)(function*(w,g){const y=pl(w,!1).get(g),D=yield new Vo(y).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Bs(w,g){const y=pl(w,!0).delete(g);return new Vo(y).toPromise()}const ml=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,s.Z)(function*(){return y.db||(y.db=yield Vs()),y.db})()}_withRetries(y){var D=this;return(0,s.Z)(function*(){let k=0;for(;;)try{const L=yield D._openDb();return yield y(L)}catch(L){if(k++>3)throw L;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,s.Z)(function*(){return Fs()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,s.Z)(function*(){y.receiver=Cu._getInstance(function ad(){return Fs()?self:null}()),y.receiver._subscribe("keyChanged",function(){var D=(0,s.Z)(function*(k,L){return{keyProcessed:(yield y._poll()).includes(L.key)}});return function(k,L){return D.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var D=(0,s.Z)(function*(k,L){return["keyChanged"]});return function(k,L){return D.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,s.Z)(function*(){var D,k;if(y.activeServiceWorker=yield function Ns(){return ao.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new sd(y.activeServiceWorker);const L=yield y.sender._send("ping",{},800);L&&null!==(D=L[0])&&void 0!==D&&D.fulfilled&&null!==(k=L[0])&&void 0!==k&&k.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var D=this;return(0,s.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function rc(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:y},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Vs();return yield cd(y,Da,"1"),yield Bs(y,Da),!0}catch{}return!1})()}_withPendingWrite(y){var D=this;return(0,s.Z)(function*(){D.pendingWrites++;try{yield y()}finally{D.pendingWrites--}})()}_set(y,D){var k=this;return(0,s.Z)(function*(){return k._withPendingWrite((0,s.Z)(function*(){return yield k._withRetries(L=>cd(L,y,D)),k.localCache[y]=D,k.notifyServiceWorker(y)}))})()}_get(y){var D=this;return(0,s.Z)(function*(){const k=yield D._withRetries(L=>function dd(w,g){return ds.apply(this,arguments)}(L,y));return D.localCache[y]=k,k})()}_remove(y){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(k=>Bs(k,y)),delete D.localCache[y],D.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,s.Z)(function*(){const D=yield y._withRetries(Q=>{const Me=pl(Q,!1).getAll();return new Vo(Me).toPromise()});if(!D)return[];if(0!==y.pendingWrites)return[];const k=[],L=new Set;for(const{fbase_key:Q,value:Me}of D)L.add(Q),JSON.stringify(y.localCache[Q])!==JSON.stringify(Me)&&(y.notifyListeners(Q,Me),k.push(Q));for(const Q of Object.keys(y.localCache))y.localCache[Q]&&!L.has(Q)&&(y.notifyListeners(Q,null),k.push(Q));return k})()}notifyListeners(y,D){this.localCache[y]=D;const k=this.listeners[y];if(k)for(const L of Array.from(k))L(D)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function jr(){return(jr=(0,s.Z)(function*(w){return(yield at(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function us(w){return new Promise((g,y)=>{const D=document.createElement("script");D.setAttribute("src",w),D.onload=g,D.onerror=k=>{const L=ke("internal-error");L.customData=k,y(L)},D.type="text/javascript",D.charset="UTF-8",function Iu(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(D)})}function Co(w){return`__${w}${Math.floor(1e6*Math.random())}`}const $r=1e12;class hs{constructor(g){this.auth=g,this.counter=$r,this._widgets=new Map}render(g,y){const D=this.counter;return this._widgets.set(D,new Ym(g,this.auth.name,y||{})),this.counter++,D}reset(g){var y;const D=g||$r;null===(y=this._widgets.get(D))||void 0===y||y.delete(),this._widgets.delete(D)}getResponse(g){var y;return(null===(y=this._widgets.get(g||$r))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,s.Z)(function*(){var D;return null===(D=y._widgets.get(g||$r))||void 0===D||D.execute(),""})()}}class Ym{constructor(g,y,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof g?document.getElementById(g):g;ne(k,"argument-error",{appName:y}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Su(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<w;D++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ta=Co("rcb"),Zm=new Be(3e4,6e4);class cc{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Ln().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return ne(function Bo(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Ln().grecaptcha):new Promise((D,k)=>{const L=Ln().setTimeout(()=>{k(ke(g,"network-request-failed"))},Zm.get());Ln()[Ta]=()=>{Ln().clearTimeout(L),delete Ln()[Ta];const Me=Ln().grecaptcha;if(!Me)return void k(ke(g,"internal-error"));const ut=Me.render;Me.render=(ft,rn)=>{const An=ut(ft,rn);return this.counter++,An},this.hostLanguage=y,D(Me)},us(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Ta,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(L),k(ke(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=Ln().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ma{load(g){return(0,s.Z)(function*(){return new hs(g)})()}clearedOneInstance(){}}const _l="recaptcha",Tf={theme:"light",type:"image"};class Mf{constructor(g,y=Object.assign({},Tf),D){this.parameters=y,this.type=_l,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pi(D),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof g?document.getElementById(g):g;ne(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ma:new cc,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(y)||new Promise(L=>{const Q=Me=>{Me&&(g.tokenChangeListeners.delete(Q),L(Me))};g.tokenChangeListeners.add(Q),g.isInvisible&&D.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(D=>D(y)),"function"==typeof g)g(y);else if("string"==typeof g){const D=Ln()[g];"function"==typeof D&&D(y)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const D=document.createElement("div");y.appendChild(D),y=D}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){ne(pe()&&!Fs(),g.auth,"internal-error"),yield function yl(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function xu(w){return jr.apply(this,arguments)}(g.auth);ne(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hd{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Oo._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Km(w,g,y){return wn.apply(this,arguments)}function wn(){return(wn=(0,s.Z)(function*(w,g,y){const D=Pi(w),k=yield fd(D,g,(0,$.m9)(y));return new hd(k,L=>gr(D,L))})).apply(this,arguments)}function Qm(w,g,y){return Af.apply(this,arguments)}function Af(){return(Af=(0,s.Z)(function*(w,g,y){const D=(0,$.m9)(w);yield As(!1,D,"phone");const k=yield fd(D.auth,g,(0,$.m9)(y));return new hd(k,L=>Jc(D,L))})).apply(this,arguments)}function kf(w,g,y){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,s.Z)(function*(w,g,y){const D=(0,$.m9)(w),k=yield fd(D.auth,g,(0,$.m9)(y));return new hd(k,L=>rl(D,L))})).apply(this,arguments)}function fd(w,g,y){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,s.Z)(function*(w,g,y){var D;const k=yield y.verify();try{let L;if(ne("string"==typeof k,w,"argument-error"),ne(y.type===_l,w,"argument-error"),L="string"==typeof g?{phoneNumber:g}:g,"session"in L){const Q=L.session;if("phoneNumber"in L)return ne("enroll"===Q.type,w,"internal-error"),(yield function Bi(w,g){return at(w,"POST","/v2/accounts/mfaEnrollment:start",Dt(w,g))}(w,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{ne("signin"===Q.type,w,"internal-error");const Me=(null===(D=L.multiFactorHint)||void 0===D?void 0:D.uid)||L.multiFactorUid;return ne(Me,w,"missing-multi-factor-info"),(yield function Eu(w,g){return at(w,"POST","/v2/accounts/mfaSignIn:start",Dt(w,g))}(w,{mfaPendingCredential:Q.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield function Zc(w,g){return Gl.apply(this,arguments)}(w,{phoneNumber:L.phoneNumber,recaptchaToken:k});return Q}}finally{y._reset()}}),Tu.apply(this,arguments)}function Mu(w,g){return Us.apply(this,arguments)}function Us(){return(Us=(0,s.Z)(function*(w,g){yield ma((0,$.m9)(w),g)})).apply(this,arguments)}let qy=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Pi(y)}verifyPhoneNumber(y,D){return fd(this.auth,y,(0,$.m9)(D))}static credential(y,D){return Oo._fromVerification(y,D)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:D,temporaryProof:k}=y;return D&&k?Oo._fromTokenResponse(D,k):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Aa(w,g){return g?$e(g):(ne(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class ai extends Nn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return kr(g,this._buildIdpRequest())}_linkToIdToken(g,y){return kr(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return kr(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function dc(w){return il(w.auth,new ai(w),w.bypassAuthState)}function vl(w){const{auth:g,user:y}=w;return ne(y,g,"internal-error"),Ql(y,new ai(w),w.bypassAuthState)}function Xm(w){return sr.apply(this,arguments)}function sr(){return(sr=(0,s.Z)(function*(w){const{auth:g,user:y}=w;return ne(y,g,"internal-error"),ma(y,new ai(w),w.bypassAuthState)})).apply(this,arguments)}class Ho{constructor(g,y,D,k,L=!1){this.auth=g,this.resolver=D,this.user=k,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,s.Z)(function*(D,k){g.pendingPromise={resolve:D,reject:k};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(L){g.reject(L)}});return function(D,k){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,s.Z)(function*(){const{urlResponse:D,sessionId:k,postBody:L,tenantId:Q,error:Me,type:ut}=g;if(Me)return void y.reject(Me);const ft={auth:y.auth,requestUri:D,sessionId:k,tenantId:Q||void 0,postBody:L||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(ut)(ft))}catch(rn){y.reject(rn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return dc;case"linkViaPopup":case"linkViaRedirect":return Xm;case"reauthViaPopup":case"reauthViaRedirect":return vl;default:Re(this.auth,"internal-error")}}resolve(g){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pd=new Be(2e3,1e4);function ka(w,g,y){return fs.apply(this,arguments)}function fs(){return(fs=(0,s.Z)(function*(w,g,y){const D=Pi(w);Te(w,g,Po);const k=Aa(D,y);return new Pr(D,"signInViaPopup",g,k).executeNotNull()})).apply(this,arguments)}function Au(w,g,y){return md.apply(this,arguments)}function md(){return(md=(0,s.Z)(function*(w,g,y){const D=(0,$.m9)(w);Te(D.auth,g,Po);const k=Aa(D.auth,y);return new Pr(D.auth,"reauthViaPopup",g,k,D).executeNotNull()})).apply(this,arguments)}function Yy(w,g,y){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,s.Z)(function*(w,g,y){const D=(0,$.m9)(w);Te(D.auth,g,Po);const k=Aa(D.auth,y);return new Pr(D.auth,"linkViaPopup",g,k,D).executeNotNull()})).apply(this,arguments)}let Pr=(()=>{class w extends Ho{constructor(y,D,k,L,Q){super(y,D,L,Q),this.provider=k,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,s.Z)(function*(){const D=yield y.execute();return ne(D,y.auth,"internal-error"),D})()}onExecution(){var y=this;return(0,s.Z)(function*(){be(1===y.filter.length,"Popup operations only handle one event");const D=fl();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],D),y.authWindow.associatedEvent=D,y.resolver._originValidation(y.auth).catch(k=>{y.reject(k)}),y.resolver._isIframeWebStorageSupported(y.auth,k=>{k||y.reject(ke(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var D,k;this.pollId=null!==(k=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,pd.get())};y()}}return w.currentPopupAction=null,w})();const bl="pendingRedirect",Do=new Map;class Ra extends Ho{constructor(g,y,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,s.Z)(function*(){let D=Do.get(y.auth._key());if(!D){try{const L=(yield function ku(w,g){return En.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;D=()=>Promise.resolve(L)}catch(k){D=()=>Promise.reject(k)}Do.set(y.auth._key(),D)}return y.bypassAuthState||Do.set(y.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,D=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(D,g);if("unknown"!==g.type){if(g.eventId){const k=yield D.auth._redirectUserForId(g.eventId);if(k)return D.user=k,y().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function En(){return(En=(0,s.Z)(function*(w,g){const y=Oa(g),D=Rf(w);if(!(yield D._isAvailable()))return!1;const k="true"===(yield D._get(y));return yield D._remove(y),k})).apply(this,arguments)}function ps(w,g){return We.apply(this,arguments)}function We(){return(We=(0,s.Z)(function*(w,g){return Rf(w)._set(Oa(g),"true")})).apply(this,arguments)}function pt(){Do.clear()}function li(w,g){Do.set(w._key(),g)}function Rf(w){return $e(w._redirectPersistence)}function Oa(w){return q(bl,w.config.apiKey,w.name)}function Yn(w,g,y){return function uc(w,g,y){return Hs.apply(this,arguments)}(w,g,y)}function Hs(){return(Hs=(0,s.Z)(function*(w,g,y){const D=Pi(w);Te(w,g,Po),yield D._initializationPromise;const k=Aa(D,y);return yield ps(k,D),k._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function Ru(w,g,y){return function I(w,g,y){return S.apply(this,arguments)}(w,g,y)}function S(){return(S=(0,s.Z)(function*(w,g,y){const D=(0,$.m9)(w);Te(D.auth,g,Po),yield D.auth._initializationPromise;const k=Aa(D.auth,y);yield ps(k,D.auth);const L=yield Qe(D);return k._openRedirect(D.auth,g,"reauthViaRedirect",L)})).apply(this,arguments)}function R(w,g,y){return function j(w,g,y){return G.apply(this,arguments)}(w,g,y)}function G(){return(G=(0,s.Z)(function*(w,g,y){const D=(0,$.m9)(w);Te(D.auth,g,Po),yield D.auth._initializationPromise;const k=Aa(D.auth,y);yield As(!1,D,g.providerId),yield ps(k,D.auth);const L=yield Qe(D);return k._openRedirect(D.auth,g,"linkViaRedirect",L)})).apply(this,arguments)}function ae(w,g){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,s.Z)(function*(w,g){return yield Pi(w)._initializationPromise,ct(w,g,!1)})).apply(this,arguments)}function ct(w,g){return ht.apply(this,arguments)}function ht(){return(ht=(0,s.Z)(function*(w,g,y=!1){const D=Pi(w),k=Aa(D,g),Q=yield new Ra(D,k,y).execute();return Q&&!y&&(delete Q.user._redirectEventId,yield D._persistUserIfCurrent(Q.user),yield D._setRedirectUser(null,g)),Q})).apply(this,arguments)}function Qe(w){return nn.apply(this,arguments)}function nn(){return(nn=(0,s.Z)(function*(w){const g=fl(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class vr{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(y=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function gd(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ms(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var D;if(g.error&&!ms(g)){const k=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";y.onError(ke(this.auth,k))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const D=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pi(g))}saveEventToCache(g){this.cachedEventUids.add(pi(g)),this.lastProcessedEventTime=Date.now()}}function pi(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function ms({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function Eo(w){return mi.apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(w,g={}){return at(w,"GET","/v1/projects",g)})).apply(this,arguments)}const br=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_d=/^https?/;function zs(){return(zs=(0,s.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Eo(w);for(const y of g)try{if(Pa(y))return}catch{}Re(w,"unauthorized-domain")})).apply(this,arguments)}function Pa(w){const g=ce(),{protocol:y,hostname:D}=new URL(g);if(w.startsWith("chrome-extension://")){const Q=new URL(w);return""===Q.hostname&&""===D?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&Q.hostname===D}if(!_d.test(y))return!1;if(br.test(w))return D===w;const k=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(D)}const gi=new Be(3e4,6e4);function Hi(){const w=Ln().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let hc=null;const Vn=new Be(5e3,15e3),zi="__/auth/iframe",_n="emulator/auth/iframe",wr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zy(w){const g=w.config;ne(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?it(g,_n):`https://${w.config.authDomain}/${zi}`,D={apiKey:g.apiKey,appName:w.name,v:F.SDK_VERSION},k=Pf.get(w.config.apiHost);k&&(D.eid=k);const L=w._getFrameworks();return L.length&&(D.fw=L.join(",")),`${y}?${(0,$.xO)(D).slice(1)}`}function gs(){return gs=(0,s.Z)(function*(w){const g=yield function Zn(w){return hc=hc||function Of(w){return new Promise((g,y)=>{var D,k,L;function Q(){Hi(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Hi(),y(ke(w,"network-request-failed"))},timeout:gi.get()})}if(null!==(k=null===(D=Ln().gapi)||void 0===D?void 0:D.iframes)&&void 0!==k&&k.Iframe)g(gapi.iframes.getContext());else{if(null===(L=Ln().gapi)||void 0===L||!L.load){const Me=Co("iframefcb");return Ln()[Me]=()=>{gapi.load?Q():y(ke(w,"network-request-failed"))},us(`https://apis.google.com/js/api.js?onload=${Me}`).catch(ut=>y(ut))}Q()}}).catch(g=>{throw hc=null,g})}(w),hc}(w),y=Ln().gapi;return ne(y,w,"internal-error"),g.open({where:document.body,url:Zy(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wr,dontclear:!0},D=>new Promise(function(){var k=(0,s.Z)(function*(L,Q){yield D.restyle({setHideOnLeave:!1});const Me=ke(w,"network-request-failed"),ut=Ln().setTimeout(()=>{Q(Me)},Vn.get());function ft(){Ln().clearTimeout(ut),L(D)}D.ping(ft).then(ft,()=>{Q(Me)})});return function(L,Q){return k.apply(this,arguments)}}()))}),gs.apply(this,arguments)}const Fa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_i=500,zo=600,eg="_blank",fc="http://localhost";class yd{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ou="__/auth/handler",Pu="emulator/auth/handler";function Gt(w,g,y,D,k,L){ne(w.config.authDomain,w,"auth-domain-config-required"),ne(w.config.apiKey,w,"invalid-api-key");const Q={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:D,v:F.SDK_VERSION,eventId:k};if(g instanceof Po){g.setDefaultLanguage(w.languageCode),Q.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(Q.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ut,ft]of Object.entries(L||{}))Q[ut]=ft}if(g instanceof ha){const ut=g.getScopes().filter(ft=>""!==ft);ut.length>0&&(Q.scopes=ut.join(","))}w.tenantId&&(Q.tid=w.tenantId);const Me=Q;for(const ut of Object.keys(Me))void 0===Me[ut]&&delete Me[ut];return`${function wl({config:w}){return w.emulator?it(w,Pu):`https://${w.authDomain}/${Ou}`}(w)}?${(0,$.xO)(Me).slice(1)}`}const Ff="webStorageSupport",tg=class pc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hl,this._completeRedirectFn=ct,this._overrideRedirectResult=li}_openPopup(g,y,D,k){var L=this;return(0,s.Z)(function*(){var Q;be(null===(Q=L.eventManagers[g._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const Me=Gt(g,y,D,ce(),k);return function jo(w,g,y,D=_i,k=zo){const L=Math.max((window.screen.availHeight-k)/2,0).toString(),Q=Math.max((window.screen.availWidth-D)/2,0).toString();let Me="";const ut=Object.assign(Object.assign({},Fa),{width:D.toString(),height:k.toString(),top:L,left:Q}),ft=(0,$.z$)().toLowerCase();y&&(Me=ie(ft)?eg:y),V(ft)&&(g=g||fc,ut.scrollbars="yes");const rn=Object.entries(ut).reduce((Gr,[_s,La])=>`${Gr}${_s}=${La},`,"");if(function zn(w=(0,$.z$)()){var g;return Jt(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ft)&&"_self"!==Me)return function Ky(w,g){const y=document.createElement("a");y.href=w,y.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(D)}(g||"",Me),new yd(null);const An=window.open(g||"",Me,rn);ne(An,w,"popup-blocked");try{An.focus()}catch{}return new yd(An)}(g,Me,fl())})()}_openRedirect(g,y,D,k){var L=this;return(0,s.Z)(function*(){return yield L._originValidation(g),function ic(w){Ln().location.href=w}(Gt(g,y,D,ce(),k)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:k,promise:L}=this.eventManagers[y];return k?Promise.resolve(k):(be(L,"If manager is not set, promise should be"),L)}const D=this.initAndGetManager(g);return this.eventManagers[y]={promise:D},D.catch(()=>{delete this.eventManagers[y]}),D}initAndGetManager(g){var y=this;return(0,s.Z)(function*(){const D=yield function rC(w){return gs.apply(this,arguments)}(g),k=new vr(g);return D.register("authEvent",L=>(ne(L?.authEvent,g,"invalid-auth-event"),{status:k.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:k},y.iframes[g._key()]=D,k})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Ff,{type:Ff},k=>{var L;const Q=null===(L=k?.[0])||void 0===L?void 0:L[Ff];void 0!==Q&&y(!!Q),Re(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function xo(w){return zs.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Oi()||P()||Jt()}};class ng{constructor(g){this.factorId=g}_process(g,y,D){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,D);case"signin":return this._finalizeSignIn(g,y.credential);default:return de("unexpected MultiFactorSessionType")}}}class Io extends ng{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Io(g)}_finalizeEnroll(g,y,D){return function If(w,g){return at(w,"POST","/v2/accounts/mfaEnrollment:finalize",Dt(w,g))}(g,{idToken:y,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function gl(w,g){return at(w,"POST","/v2/accounts/mfaSignIn:finalize",Dt(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ig=(()=>{class w{constructor(){}static assertion(y){return Io._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var Cr="@firebase/auth";class Qy{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,s.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(D=>{g(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);y&&(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const rg=(0,$.Pz)("authIdTokenMaxAge")||300;let Fu=null;const og=w=>function(){var g=(0,s.Z)(function*(y){const D=y&&(yield y.getIdTokenResult()),k=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(k&&k>rg)return;const L=D?.token;Fu!==L&&(Fu=L,yield fetch(w,{method:L?"POST":"DELETE",headers:L?{Authorization:`Bearer ${L}`}:{}}))});return function(y){return g.apply(this,arguments)}}();function sg(w=(0,F.getApp)()){const g=(0,F._getProvider)(w,"auth");if(g.isInitialized())return g.getImmediate();const y=function Mt(w,g){const y=(0,F._getProvider)(w,"auth");if(y.isInitialized()){const k=y.getImmediate(),L=y.getOptions();if((0,$.vZ)(L,g??{}))return k;Re(k,"already-initialized")}return y.initialize({options:g})}(w,{popupRedirectResolver:tg,persistence:[ml,yr,hl]}),D=(0,$.Pz)("authTokenSyncURL");if(D){const L=og(D);(function jm(w,g,y){(0,$.m9)(w).beforeAuthStateChanged(g,y)})(y,L,()=>L(y.currentUser)),function zm(w,g,y,D){(0,$.m9)(w).onIdTokenChanged(g,y,D)}(y,Q=>L(Q))}const k=(0,$.q4)("auth");return k&&du(y,`http://${k}`),y}!function Kn(w){(0,F._registerComponent)(new J.wA("auth",(g,{options:y})=>{const D=g.getProvider("app").getImmediate(),k=g.getProvider("heartbeat"),{apiKey:L,authDomain:Q}=D.options;return((Me,ut)=>{ne(L&&!L.includes(":"),"invalid-api-key",{appName:Me.name}),ne(!Q?.includes(":"),"argument-error",{appName:Me.name});const ft={apiKey:L,authDomain:Q,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:la(w)},rn=new qc(Me,ut,ft);return function nt(w,g){const y=g?.persistence||[],D=(Array.isArray(y)?y:[y]).map($e);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(D,g?.popupRedirectResolver)}(rn,y),rn})(D,k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,D)=>{g.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new J.wA("auth-internal",g=>{const y=Pi(g.getProvider("auth").getImmediate());return new Qy(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(Cr,"0.21.4",function ji(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,F.registerVersion)(Cr,"0.21.4","esm2017")}("Browser")},2090:(bt,Ie,U)=>{U.d(Ie,{$s:()=>It,BH:()=>Te,DV:()=>Mr,G6:()=>Oe,GJ:()=>no,L:()=>me,LL:()=>xt,P0:()=>Re,Pz:()=>Pe,Sg:()=>Ge,UG:()=>be,UI:()=>Mn,US:()=>J,Wl:()=>Gn,Yr:()=>Ce,ZB:()=>ee,ZR:()=>mn,aH:()=>ke,b$:()=>Mt,cI:()=>cn,dS:()=>Br,eu:()=>Be,g5:()=>F,gK:()=>Ri,gQ:()=>ur,h$:()=>he,hl:()=>Ve,hu:()=>$,jU:()=>Ye,m9:()=>ii,ne:()=>Bt,p$:()=>Z,pd:()=>ti,q4:()=>xe,r3:()=>ei,ru:()=>$e,tV:()=>Y,uI:()=>de,ug:()=>Qt,vZ:()=>ki,w1:()=>ce,w9:()=>rr,xO:()=>Zi,xb:()=>Vr,z$:()=>ne,zI:()=>it,zd:()=>ui});const s={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$=function(q,W){if(!q)throw F(W)},F=function(q){return new Error("Firebase Database ("+s.SDK_VERSION+") INTERNAL ASSERT FAILED: "+q)},oe=function(q){const W=[];let N=0;for(let V=0;V<q.length;V++){let P=q.charCodeAt(V);P<128?W[N++]=P:P<2048?(W[N++]=P>>6|192,W[N++]=63&P|128):55296==(64512&P)&&V+1<q.length&&56320==(64512&q.charCodeAt(V+1))?(P=65536+((1023&P)<<10)+(1023&q.charCodeAt(++V)),W[N++]=P>>18|240,W[N++]=P>>12&63|128,W[N++]=P>>6&63|128,W[N++]=63&P|128):(W[N++]=P>>12|224,W[N++]=P>>6&63|128,W[N++]=63&P|128)}return W},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,W){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let P=0;P<q.length;P+=3){const ie=q[P],ye=P+1<q.length,Je=ye?q[P+1]:0,Ke=P+2<q.length,At=Ke?q[P+2]:0;let zn=(15&Je)<<2|At>>6,kt=63&At;Ke||(kt=64,ye||(zn=64)),V.push(N[ie>>2],N[(3&ie)<<4|Je>>4],N[zn],N[kt])}return V.join("")},encodeString(q,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(q):this.encodeByteArray(oe(q),W)},decodeString(q,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(q):function(q){const W=[];let N=0,V=0;for(;N<q.length;){const P=q[N++];if(P<128)W[V++]=String.fromCharCode(P);else if(P>191&&P<224){const ie=q[N++];W[V++]=String.fromCharCode((31&P)<<6|63&ie)}else if(P>239&&P<365){const Ke=((7&P)<<18|(63&q[N++])<<12|(63&q[N++])<<6|63&q[N++])-65536;W[V++]=String.fromCharCode(55296+(Ke>>10)),W[V++]=String.fromCharCode(56320+(1023&Ke))}else{const ie=q[N++],ye=q[N++];W[V++]=String.fromCharCode((15&P)<<12|(63&ie)<<6|63&ye)}}return W.join("")}(this.decodeStringToByteArray(q,W))},decodeStringToByteArray(q,W){this.init_();const N=W?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let P=0;P<q.length;){const ie=N[q.charAt(P++)],Je=P<q.length?N[q.charAt(P)]:0;++P;const At=P<q.length?N[q.charAt(P)]:64;++P;const jt=P<q.length?N[q.charAt(P)]:64;if(++P,null==ie||null==Je||null==At||null==jt)throw new ve;V.push(ie<<2|Je>>4),64!==At&&(V.push(Je<<4&240|At>>2),64!==jt&&V.push(At<<6&192|jt))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(q){const W=oe(q);return J.encodeByteArray(W,!0)},me=function(q){return he(q).replace(/\./g,"")},Y=function(q){try{return J.decodeString(q,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function Z(q){return ee(void 0,q)}function ee(q,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return W}for(const N in W)!W.hasOwnProperty(N)||!ze(N)||(q[N]=ee(q[N],W[N]));return q}function ze(q){return"__proto__"!==q}const Se=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=q&&Y(q[1]);return W&&JSON.parse(W)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},xe=q=>{var W,N;return null===(N=null===(W=Se())||void 0===W?void 0:W.emulatorHosts)||void 0===N?void 0:N[q]},Re=q=>{const W=xe(q);if(!W)return;const N=W.lastIndexOf(":");if(N<=0||N+1===W.length)throw new Error(`Invalid host ${W} with no separate hostname and port!`);const V=parseInt(W.substring(N+1),10);return"["===W[0]?[W.substring(1,N-1),V]:[W.substring(0,N),V]},ke=()=>{var q;return null===(q=Se())||void 0===q?void 0:q.config},Pe=q=>{var W;return null===(W=Se())||void 0===W?void 0:W[`_${q}`]};class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,N)=>{this.resolve=W,this.reject=N})}wrapCallback(W){return(N,V)=>{N?this.reject(N):this.resolve(V),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(N):W(N,V))}}}function Ge(q,W){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=W||"demo-project",P=q.iat||0,ie=q.sub||q.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ye=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:P,exp:P+3600,auth_time:P,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},q);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(ye)),""].join(".")}function ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())}function be(){var q;const W=null===(q=Se())||void 0===q?void 0:q.forceEnvironment;if("node"===W)return!0;if("browser"===W)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ye(){return"object"==typeof self&&self.self===self}function $e(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){const q=ne();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ce(){return!0===s.NODE_CLIENT||!0===s.NODE_ADMIN}function Oe(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ve(){try{return"object"==typeof indexedDB}catch{return!1}}function Be(){return new Promise((q,W)=>{try{let N=!0;const V="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(V);P.onsuccess=()=>{P.result.close(),N||self.indexedDB.deleteDatabase(V),q(!0)},P.onupgradeneeded=()=>{N=!1},P.onerror=()=>{var ie;W((null===(ie=P.error)||void 0===ie?void 0:ie.message)||"")}}catch(N){W(N)}})}function it(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class mn extends Error{constructor(W,N,V){super(N),this.code=W,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(W,N,V){this.service=W,this.serviceName=N,this.errors=V}create(W,...N){const V=N[0]||{},P=`${this.service}/${W}`,ie=this.errors[W],ye=ie?function Dt(q,W){return q.replace(at,(N,V)=>{const P=W[V];return null!=P?String(P):`<${V}?>`})}(ie,V):"Error";return new mn(P,`${this.serviceName}: ${ye} (${P}).`,V)}}const at=/\{\$([^}]+)}/g;function cn(q){return JSON.parse(q)}function Gn(q){return JSON.stringify(q)}const bn=function(q){let W={},N={},V={},P="";try{const ie=q.split(".");W=cn(Y(ie[0])||""),N=cn(Y(ie[1])||""),P=ie[2],V=N.d||{},delete N.d}catch{}return{header:W,claims:N,data:V,signature:P}},rr=function(q){const N=bn(q).claims;return!!N&&"object"==typeof N&&N.hasOwnProperty("iat")},no=function(q){const W=bn(q).claims;return"object"==typeof W&&!0===W.admin};function ei(q,W){return Object.prototype.hasOwnProperty.call(q,W)}function Mr(q,W){if(Object.prototype.hasOwnProperty.call(q,W))return q[W]}function Vr(q){for(const W in q)if(Object.prototype.hasOwnProperty.call(q,W))return!1;return!0}function Mn(q,W,N){const V={};for(const P in q)Object.prototype.hasOwnProperty.call(q,P)&&(V[P]=W.call(N,q[P],P,q));return V}function ki(q,W){if(q===W)return!0;const N=Object.keys(q),V=Object.keys(W);for(const P of N){if(!V.includes(P))return!1;const ie=q[P],ye=W[P];if(lt(ie)&&lt(ye)){if(!ki(ie,ye))return!1}else if(ie!==ye)return!1}for(const P of V)if(!N.includes(P))return!1;return!0}function lt(q){return null!==q&&"object"==typeof q}function Zi(q){const W=[];for(const[N,V]of Object.entries(q))Array.isArray(V)?V.forEach(P=>{W.push(encodeURIComponent(N)+"="+encodeURIComponent(P))}):W.push(encodeURIComponent(N)+"="+encodeURIComponent(V));return W.length?"&"+W.join("&"):""}function ui(q){const W={};return q.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[P,ie]=V.split("=");W[decodeURIComponent(P)]=decodeURIComponent(ie)}}),W}function ti(q){const W=q.indexOf("?");if(!W)return"";const N=q.indexOf("#",W);return q.substring(W,N>0?N:void 0)}class ur{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,N){N||(N=0);const V=this.W_;if("string"==typeof W)for(let jt=0;jt<16;jt++)V[jt]=W.charCodeAt(N)<<24|W.charCodeAt(N+1)<<16|W.charCodeAt(N+2)<<8|W.charCodeAt(N+3),N+=4;else for(let jt=0;jt<16;jt++)V[jt]=W[N]<<24|W[N+1]<<16|W[N+2]<<8|W[N+3],N+=4;for(let jt=16;jt<80;jt++){const zn=V[jt-3]^V[jt-8]^V[jt-14]^V[jt-16];V[jt]=4294967295&(zn<<1|zn>>>31)}let At,Jt,P=this.chain_[0],ie=this.chain_[1],ye=this.chain_[2],Je=this.chain_[3],Ke=this.chain_[4];for(let jt=0;jt<80;jt++){jt<40?jt<20?(At=Je^ie&(ye^Je),Jt=1518500249):(At=ie^ye^Je,Jt=1859775393):jt<60?(At=ie&ye|Je&(ie|ye),Jt=2400959708):(At=ie^ye^Je,Jt=3395469782);const zn=(P<<5|P>>>27)+At+Ke+Jt+V[jt]&4294967295;Ke=Je,Je=ye,ye=4294967295&(ie<<30|ie>>>2),ie=P,P=zn}this.chain_[0]=this.chain_[0]+P&4294967295,this.chain_[1]=this.chain_[1]+ie&4294967295,this.chain_[2]=this.chain_[2]+ye&4294967295,this.chain_[3]=this.chain_[3]+Je&4294967295,this.chain_[4]=this.chain_[4]+Ke&4294967295}update(W,N){if(null==W)return;void 0===N&&(N=W.length);const V=N-this.blockSize;let P=0;const ie=this.buf_;let ye=this.inbuf_;for(;P<N;){if(0===ye)for(;P<=V;)this.compress_(W,P),P+=this.blockSize;if("string"==typeof W){for(;P<N;)if(ie[ye]=W.charCodeAt(P),++ye,++P,ye===this.blockSize){this.compress_(ie),ye=0;break}}else for(;P<N;)if(ie[ye]=W[P],++ye,++P,ye===this.blockSize){this.compress_(ie),ye=0;break}}this.inbuf_=ye,this.total_+=N}digest(){const W=[];let N=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let P=this.blockSize-1;P>=56;P--)this.buf_[P]=255&N,N/=256;this.compress_(this.buf_);let V=0;for(let P=0;P<5;P++)for(let ie=24;ie>=0;ie-=8)W[V]=this.chain_[P]>>ie&255,++V;return W}}function Bt(q,W){const N=new wt(q,W);return N.subscribe.bind(N)}class wt{constructor(W,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{W(this)}).catch(V=>{this.error(V)})}next(W){this.forEachObserver(N=>{N.next(W)})}error(W){this.forEachObserver(N=>{N.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,N,V){let P;if(void 0===W&&void 0===N&&void 0===V)throw new Error("Missing Observer.");P=function Rn(q,W){if("object"!=typeof q||null===q)return!1;for(const N of W)if(N in q&&"function"==typeof q[N])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:N,complete:V},void 0===P.next&&(P.next=Wn),void 0===P.error&&(P.error=Wn),void 0===P.complete&&(P.complete=Wn);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),ie}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,W)}sendOne(W,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{N(this.observers[W])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wn(){}function Ri(q,W){return`${q} failed: ${W} argument `}const Br=function(q){const W=[];let N=0;for(let V=0;V<q.length;V++){let P=q.charCodeAt(V);if(P>=55296&&P<=56319){const ie=P-55296;V++,$(V<q.length,"Surrogate pair missing trail surrogate."),P=65536+(ie<<10)+(q.charCodeAt(V)-56320)}P<128?W[N++]=P:P<2048?(W[N++]=P>>6|192,W[N++]=63&P|128):P<65536?(W[N++]=P>>12|224,W[N++]=P>>6&63|128,W[N++]=63&P|128):(W[N++]=P>>18|240,W[N++]=P>>12&63|128,W[N++]=P>>6&63|128,W[N++]=63&P|128)}return W},Qt=function(q){let W=0;for(let N=0;N<q.length;N++){const V=q.charCodeAt(N);V<128?W++:V<2048?W+=2:V>=55296&&V<=56319?(W+=4,N++):W+=3}return W},ni=1e3,je=2,Ee=144e5,rt=.5;function It(q,W=ni,N=je){const V=W*Math.pow(N,q),P=Math.round(rt*V*(Math.random()-.5)*2);return Math.min(Ee,V+P)}function ii(q){return q&&q._delegate?q._delegate:q}},2656:(bt,Ie,U)=>{var s=U(4650);let $=null;function F(){return $}class le{}const J=new s.OlP("DocumentToken");let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function he(){return(0,s.LFG)(Y)}()},providedIn:"platform"}),n})();const me=new s.OlP("Location Initialized");let Y=(()=>{class n extends ve{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){Z()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){Z()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ee(){return new Y((0,s.LFG)(J))}()},providedIn:"platform"}),n})();function Z(){return!!window.history.pushState}function ze(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let dt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Se)},providedIn:"root"}),n})();const _e=new s.OlP("appBaseHref");let Se=(()=>{class n extends dt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ze(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+qe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const c=this.prepareExternalUrl(r+qe(o));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){const c=this.prepareExternalUrl(r+qe(o));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve),s.LFG(_e,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xe=(()=>{class n extends dt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ze(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let c=this.prepareExternalUrl(r+qe(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){let c=this.prepareExternalUrl(r+qe(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve),s.LFG(_e,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Ae(Te(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+qe(i))}normalize(e){return n.stripTrailingSlash(function Pe(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Te(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=qe,n.joinWithSlash=ze,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(s.LFG(dt))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ke(){return new Re((0,s.LFG)(dt))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}const Ar=/\s+/,st=[];let Ot=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=st,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Ar):st}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Ar):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Ar).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class xi{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ro=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new xi(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,c),On(u,r)}});for(let r=0,o=i.length;r<o;r++){const u=i.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{On(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function On(n,t){n.context.$implicit=t.item}let oi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new en,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Xa("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Xa("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class en{constructor(){this.$implicit=null,this.ngIf=null}}function Xa(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class ua{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ss=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Ur=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new ua(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ss,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ja=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})(),mr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const zr="browser",Yl="server";function fu(n){return n===Yl}let ma=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Kl((0,s.LFG)(J),window)}),n})();class Kl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ga(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=As(this.window.history)||As(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function As(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ea extends le{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nc extends Ea{static makeCurrent(){!function oe(n){$||($=n)}(new nc)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function xa(){return ul=ul||document.querySelector("base"),ul?ul.getAttribute("href"):null}();return null==e?null:function yr(n){Ps=Ps||document.createElement("a"),Ps.setAttribute("href",n);const t=Ps.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ul=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function fr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Ps,ul=null;const Wm=new s.OlP("TRANSITION_ID"),qm=[{provide:s.ip1,useFactory:function hl(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=F(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Wm,J,s.zs3],multi:!0}];let fl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const sd=new s.OlP("EventManagerPlugins");let Ln=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sd),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ic{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=F().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Fs=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let o=r.get(e)??0;return o+=i,o>0?r.set(e,o):r.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ns=(()=>{class n extends Fs{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(o=>o.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ao={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rc=/%COMP%/g,Vo=new s.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Vs(n,t){return t.flat(100).map(e=>e.replace(rc,n))}function cd(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ui=(()=>{class n{constructor(e,i,r,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new dd(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof ml?r.applyToHost(e):r instanceof ac&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const c=this.eventManager,u=this.sharedStylesHost,p=this.removeStylesOnCompDestory;switch(i.encapsulation){case s.ifc.Emulated:o=new ml(c,u,i,this.appId,p);break;case s.ifc.ShadowDom:return new sc(c,u,e,i);default:o=new ac(c,u,i,p)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ln),s.LFG(Ns),s.LFG(s.AFp),s.LFG(Vo))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class dd{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ao[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(oc(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(oc(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=ao[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ao[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,cd(i)):this.eventManager.addEventListener(t,e,cd(i))}}function oc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class sc extends dd{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Vs(r.id,r.styles);for(const c of o){const u=document.createElement("style");u.textContent=c,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ac extends dd{constructor(t,e,i,r,o=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=Vs(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ml extends ac{constructor(t,e,i,r,o){const c=r+"-"+i.id;super(t,e,i,o,c),this.contentAttr=function pl(n){return"_ngcontent-%COMP%".replace(rc,n)}(c),this.hostAttr=function Du(n){return"_nghost-%COMP%".replace(rc,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Eu=(()=>{class n extends ic{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gl=["alt","control","meta","shift"],xu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Iu=(()=>{class n extends ic{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),gl.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),c+=_+".")}),c+=o,0!=i.length||0===o.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(e,i){let r=xu[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gl.forEach(c=>{c!==r&&(0,jr[c])(e)&&(o+=c+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Zm=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:zr},{provide:s.g9A,useValue:function hs(){nc.makeCurrent()},multi:!0},{provide:J,useFactory:function Su(){return(0,s.RDi)(document),document},deps:[]}]),ud=new s.OlP(""),cc=[{provide:s.rWj,useClass:class Cu{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const u=function(p){c=c||p,o--,0==o&&i(c)};r.forEach(function(p){p.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Bo=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Ym(){return new s.qLn},deps:[]},{provide:sd,useClass:Eu,multi:!0,deps:[J,s.R0b,s.Lbi]},{provide:sd,useClass:Iu,multi:!0,deps:[J]},{provide:Ui,useClass:Ui,deps:[Ln,Ns,s.AFp,Vo]},{provide:s.FYo,useExisting:Ui},{provide:Fs,useExisting:Ns},{provide:Ns,useClass:Ns,deps:[J]},{provide:Ln,useClass:Ln,deps:[sd,s.R0b]},{provide:class Xc{},useClass:fl,deps:[]},[]];let Ma=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Wm,useExisting:s.AFp},qm]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ud,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Bo,...cc],imports:[mr,s.hGG]}),n})(),hd=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function yl(){return new hd((0,s.LFG)(J))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let bl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Ra),i},providedIn:"root"}),n})(),Ra=(()=>{class n extends bl{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Do(n){return new Ra(n.get(J))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var En=U(8996),ps=U(3269);function We(...n){const t=(0,ps.yG)(n);return(0,En.D)(n,t)}var pt=U(7579);class li extends pt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const Oa=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Yn=U(9751);const{isArray:uc}=Array,{getPrototypeOf:Hs,prototype:Ru,keys:I}=Object;function S(n){if(1===n.length){const t=n[0];if(uc(t))return{args:t,keys:null};if(function R(n){return n&&"object"==typeof n&&Hs(n)===Ru}(t)){const e=I(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var j=U(4671),G=U(4004);const{isArray:ae}=Array;function ct(n){return(0,G.U)(t=>function Fe(n,t){return ae(t)?n(...t):n(t)}(n,t))}function ht(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Qe=U(5403),nn=U(9672);function Ut(...n){const t=(0,ps.yG)(n),e=(0,ps.jO)(n),{args:i,keys:r}=S(n);if(0===i.length)return(0,En.D)([],t);const o=new Yn.y(function vr(n,t,e=j.y){return i=>{pi(t,()=>{const{length:r}=n,o=new Array(r);let c=r,u=r;for(let p=0;p<r;p++)pi(t,()=>{const _=(0,En.D)(n[p],t);let b=!1;_.subscribe((0,Qe.x)(i,x=>{o[p]=x,b||(b=!0,u--),u||i.next(e(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>ht(r,c):j.y));return e?o.pipe(ct(e)):o}function pi(n,t,e){n?(0,nn.f)(e,n,t):t()}var ms=U(8189);function Eo(...n){return function gd(){return(0,ms.J)(1)}()((0,En.D)(n,(0,ps.yG)(n)))}var mi=U(8421);function br(n){return new Yn.y(t=>{(0,mi.Xf)(n()).subscribe(t)})}var _d=U(9635),xo=U(576);function zs(n,t){const e=(0,xo.m)(n)?n:()=>n,i=r=>r.error(e());return new Yn.y(t?r=>t.schedule(i,0,r):i)}var Pa=U(515),gi=U(727),Hi=U(4482);function Of(){return(0,Hi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Qe.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class hc extends Yn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Hi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new gi.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Qe.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=gi.w0.EMPTY)}return t}refCount(){return Of()(this)}}function Zn(n,t){return(0,Hi.e)((e,i)=>{let r=null,o=0,c=!1;const u=()=>c&&!r&&i.complete();e.subscribe((0,Qe.x)(i,p=>{r?.unsubscribe();let _=0;const b=o++;(0,mi.Xf)(n(p,b)).subscribe(r=(0,Qe.x)(i,x=>i.next(t?t(p,x,b,_++):x),()=>{r=null,u()}))},()=>{c=!0,u()}))})}function Vn(n){return n<=0?()=>Pa.E:(0,Hi.e)((t,e)=>{let i=0;t.subscribe((0,Qe.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function zi(...n){const t=(0,ps.yG)(n);return(0,Hi.e)((e,i)=>{(t?Eo(n,e,t):Eo(n,e)).subscribe(i)})}function _n(n,t){return(0,Hi.e)((e,i)=>{let r=0;e.subscribe((0,Qe.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var wr=U(5577);function Pf(n){return(0,Hi.e)((t,e)=>{let i=!1;t.subscribe((0,Qe.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Zy(n=rC){return(0,Hi.e)((t,e)=>{let i=!1;t.subscribe((0,Qe.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function rC(){return new Oa}function gs(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_n((r,o)=>n(r,o,i)):j.y,Vn(1),e?Pf(t):Zy(()=>new Oa))}function Fa(n,t){return(0,xo.m)(t)?(0,wr.z)(n,t,1):(0,wr.z)(n,1)}var _i=U(8505);function zo(n){return(0,Hi.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Qe.x)(e,void 0,void 0,c=>{o=(0,mi.Xf)(n(c,zo(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function fc(n,t){return(0,Hi.e)(function eg(n,t,e,i,r){return(o,c)=>{let u=e,p=t,_=0;o.subscribe((0,Qe.x)(c,b=>{const x=_++;p=u?n(p,b,x):(u=!0,b),i&&c.next(p)},r&&(()=>{u&&c.next(p),c.complete()})))}}(n,t,arguments.length>=2,!0))}function yd(n){return n<=0?()=>Pa.E:(0,Hi.e)((t,e)=>{let i=[];t.subscribe((0,Qe.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function jo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_n((r,o)=>n(r,o,i)):j.y,yd(1),e?Pf(t):Zy(()=>new Oa))}function Ou(n){return(0,G.U)(()=>n)}function Pu(n){return(0,Hi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Gt="primary",wl=Symbol("RouteTitle");class Ff{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pc(n){return new Ff(n)}function tg(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],u=n[o];if(c.startsWith(":"))r[c.substring(1)]=u;else if(c!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Io(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!ig(n[r],t[r]))return!1;return!0}function ig(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Cr(n){return Array.prototype.concat.apply([],n)}function vd(n){return n.length>0?n[n.length-1]:null}function ji(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Kn(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,En.D)(Promise.resolve(n)):We(n)}const Na=!1,rg={exact:function w(n,t,e){if(!ft(n.segments,t.segments)||!k(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!w(n.children[i],t.children[i],e))return!1;return!0},subset:y},Fu={exact:function sg(n,t){return Io(n,t)},subset:function g(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ig(n[e],t[e]))},ignored:()=>!0};function og(n,t,e){return rg[e.paths](n.root,t.root,e.matrixParams)&&Fu[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function y(n,t,e){return D(n,t,t.segments,e)}function D(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ft(r,e)||t.hasChildren()||!k(r,e,i))}if(n.segments.length===e.length){if(!ft(n.segments,e)||!k(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!y(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ft(n.segments,r)&&k(n.segments,r,i)&&n.children[Gt])&&D(n.children[Gt],t,o,i)}}function k(n,t,e){return t.every((i,r)=>Fu[e](n[r].parameters,i.parameters))}class L{constructor(t=new Q([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pc(this.queryParams)),this._queryParamMap}toString(){return _s.serialize(this)}}class Q{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ji(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return La(this)}}class Me{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pc(this.parameters)),this._parameterMap}toString(){return Nu(this)}}function ft(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let An=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new Gr},providedIn:"root"}),n})();class Gr{parse(t){const e=new JS(t);return new L(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${$o(t.root,!0)}`,i=function Xy(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${gc(e)}=${gc(r)}`).join("&"):`${gc(e)}=${gc(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function ag(n){return encodeURI(n)}(t.fragment)}`:""}`}}const _s=new Gr;function La(n){return n.segments.map(t=>Nu(t)).join("/")}function $o(n,t){if(!n.hasChildren())return La(n);if(t){const e=n.children[Gt]?$o(n.children[Gt],!1):"",i=[];return ji(n.children,(r,o)=>{o!==Gt&&i.push(`${o}:${$o(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function rn(n,t){let e=[];return ji(n.children,(i,r)=>{r===Gt&&(e=e.concat(t(i,r)))}),ji(n.children,(i,r)=>{r!==Gt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Gt?[$o(n.children[Gt],!1)]:[`${r}:${$o(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${La(n)}/${e[0]}`:`${La(n)}/(${e.join("//")})`}}function mc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gc(n){return mc(n).replace(/%3B/gi,";")}function Cl(n){return mc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bd(n){return decodeURIComponent(n)}function Nf(n){return bd(n.replace(/\+/g,"%20"))}function Nu(n){return`${Cl(n.path)}${function lg(n){return Object.keys(n).map(t=>`;${Cl(t)}=${Cl(n[t])}`).join("")}(n.parameters)}`}const Lf=/^[^\/()?;=#]+/;function wd(n){const t=n.match(Lf);return t?t[0]:""}const Jy=/^[^=?&#]+/,ev=/^[^&#]+/;class JS{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Gt]=new Q(t,e)),i}parseSegment(){const t=wd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,Na);return this.capture(t),new Me(bd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=wd(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=wd(this.remaining);r&&(i=r,this.capture(i))}t[bd(e)]=bd(i)}parseQueryParam(t){const e=function oC(n){const t=n.match(Jy);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function XS(n){const t=n.match(ev);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Nf(e),o=Nf(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=wd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,Na);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Gt);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[Gt]:new Q([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,Na)}}function cg(n){return n.segments.length>0?new Q([],{[Gt]:n}):n}function Vf(n){const t={};for(const i of Object.keys(n.children)){const o=Vf(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Cd(n){if(1===n.numberOfChildren&&n.children[Gt]){const t=n.children[Gt];return new Q(n.segments.concat(t.segments),t.children)}return n}(new Q(n.segments,t))}function _c(n){return n instanceof L}const dg=!1;function tT(n,t,e,i,r){if(0===e.length)return Dd(t.root,t.root,t.root,i,r);const o=function Uf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tv(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return ji(o.outlets,(p,_)=>{u[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((u,p)=>{0==p&&"."===u||(0==p&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,o]},[]);return new tv(e,t,i)}(e);return o.toRoot()?Dd(t.root,t.root,new Q([],{}),i,r):function c(p){const _=function nv(n,t,e,i){if(n.isAbsolute)return new Dl(t.root,!0,0);if(-1===i)return new Dl(e,e===t.root,0);return function hg(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,dg&&"Invalid number of '../'");r=i.segments.length}return new Dl(i,!1,r-o)}(e,i+(Lu(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,p),b=_.processChildren?Bu(_.segmentGroup,_.index,o.commands):Ed(_.segmentGroup,_.index,o.commands);return Dd(t.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function Lu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vu(n){return"object"==typeof n&&null!=n&&n.outlets}function Dd(n,t,e,i,r){let c,o={};i&&ji(i,(p,_)=>{o[_]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),c=n===t?e:ug(n,t,e);const u=cg(Vf(c));return new L(u,o,r)}function ug(n,t,e){const i={};return ji(n.children,(r,o)=>{i[o]=r===t?e:ug(r,t,e)}),new Q(n.segments,i)}class tv{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Lu(i[0]))throw new s.vHH(4003,dg&&"Root segment cannot have matrix parameters");const r=i.find(Vu);if(r&&r!==vd(i))throw new s.vHH(4004,dg&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dl{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Ed(n,t,e){if(n||(n=new Q([],{})),0===n.segments.length&&n.hasChildren())return Bu(n,t,e);const i=function aC(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const c=n.segments[r],u=e[i];if(Vu(u))break;const p=`${u}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!ov(p,_,c))return o;i+=2}else{if(!ov(p,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Q(n.segments.slice(0,i.pathIndex),{});return o.children[Gt]=new Q(n.segments.slice(i.pathIndex),n.children),Bu(o,0,r)}return i.match&&0===r.length?new Q(n.segments,{}):i.match&&!n.hasChildren()?rv(n,t,e):i.match?Bu(n,0,r):rv(n,t,e)}function Bu(n,t,e){if(0===e.length)return new Q(n.segments,{});{const i=function iv(n){return Vu(n[0])?n[0].outlets:{[Gt]:n}}(e),r={};return!i[Gt]&&n.children[Gt]&&1===n.numberOfChildren&&0===n.children[Gt].segments.length?Bu(n.children[Gt],t,e):(ji(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=Ed(n.children[c],t,o))}),ji(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new Q(n.segments,r))}}function rv(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Vu(o)){const p=nT(o.outlets);return new Q(i,p)}if(0===r&&Lu(e[0])){i.push(new Me(n.segments[t].path,lC(e[0]))),r++;continue}const c=Vu(o)?o.outlets[Gt]:`${o}`,u=r<e.length-1?e[r+1]:null;c&&u&&Lu(u)?(i.push(new Me(c,lC(u))),r+=2):(i.push(new Me(c,{})),r++)}return new Q(i,{})}function nT(n){const t={};return ji(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=rv(new Q([],{}),0,e))}),t}function lC(n){const t={};return ji(n,(e,i)=>t[i]=`${e}`),t}function ov(n,t,e){return n==e.path&&Io(t,e.parameters)}const Uu="imperative";class Go{constructor(t,e){this.id=t,this.url=e}}class Hf extends Go{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ys extends Go{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fg extends Go{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pg extends Go{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class cC extends Go{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iT extends Go{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sv extends Go{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rT extends Go{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dC extends Go{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mg extends Go{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class av{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uC{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hC{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fC{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xd{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oT{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pC{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let lT=(()=>{class n{createUrlTree(e,i,r,o,c,u){return tT(e||i.root,r,o,c,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Hu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){return lT.\u0275fac(t)},providedIn:"root"}),n})();class mC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=lv(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=lv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=cv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return cv(t,this._root).map(e=>e.value)}}function lv(n,t){if(n===t.value)return t;for(const e of t.children){const i=lv(n,e);if(i)return i}return null}function cv(n,t){if(n===t.value)return[t];for(const e of t.children){const i=cv(n,e);if(i.length)return i.unshift(t),i}return[]}class xl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function zu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class gC extends mC{constructor(t,e){super(t),this.snapshot=e,Td(this,t)}toString(){return this.snapshot.toString()}}function dv(n,t){const e=function cT(n,t){const c=new Sd([],{},{},"",{},Gt,t,null,n.root,-1,{});return new Va("",new xl(c,[]))}(n,t),i=new li([new Me("",{})]),r=new li({}),o=new li({}),c=new li({}),u=new li(""),p=new Id(i,r,c,u,o,Gt,t,e.root);return p.snapshot=e.root,new gC(new xl(p,[]),e)}class Id{constructor(t,e,i,r,o,c,u,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=u,this.title=this.data?.pipe((0,G.U)(_=>_[wl]))??We(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,G.U)(t=>pc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,G.U)(t=>pc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _C(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function dT(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Sd{get title(){return this.data?.[wl]}constructor(t,e,i,r,o,c,u,p,_,b,x){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=u,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=b,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Va extends mC{constructor(t,e){super(e),this.url=t,Td(this,e)}toString(){return uv(this._root)}}function Td(n,t){t.value._routerState=n,t.children.forEach(e=>Td(n,e))}function uv(n){const t=n.children.length>0?` { ${n.children.map(uv).join(", ")} } `:"";return`${n.value}${t}`}function gg(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Io(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Io(t.params,e.params)||n.params.next(e.params),function ng(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Io(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Io(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _g(n,t){const e=Io(n.params,t.params)&&function ut(n,t){return ft(n,t)&&n.every((e,i)=>Io(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||_g(n.parent,t.parent))}function yg(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function lN(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return yg(n,i,r);return yg(n,i)})}(n,t,e);return new xl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(u=>yg(n,u)),c}}const i=function hv(n){return new Id(new li(n.url),new li(n.params),new li(n.queryParams),new li(n.fragment),new li(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>yg(n,o));return new xl(i,r)}}const zf="ngNavigationCancelingError";function uT(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=_c(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=hT(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function hT(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[zf]=!0,i.cancellationCode=t,e&&(i.url=e),i}function fv(n){return yC(n)&&_c(n.url)}function yC(n){return n&&n[zf]}class fT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new jf,this.attachRef=null}}let jf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new fT,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vg=!1;let bg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gt,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(jf),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,vg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,vg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,vg);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,vg);this._activatedRoute=e;const r=this.location,c=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,p=new wg(e,u,r.injector);if(i&&function vC(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(c);this.activated=r.createComponent(_,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class wg{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Id?this.route:t===jf?this.childContexts:this.parent.get(t,e)}}let $f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[bg],encapsulation:2}),n})();function bC(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function pv(n){const t=n.children&&n.children.map(pv),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Gt&&(e.component=$f),e}function Wo(n){return n.outlet||Gt}function yT(n,t){const e=n.filter(i=>Wo(i)===t);return e.push(...n.filter(i=>Wo(i)!==t)),e}function Dg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class mv{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),gg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=zu(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),ji(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=zu(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=zu(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=zu(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new oT(o.value.snapshot))}),t.children.length&&this.forwardEvent(new fC(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(gg(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(u.contexts),c.attachRef=u.componentRef,c.route=u.route.value,c.outlet&&c.outlet.attach(u.componentRef,u.route.value),gg(u.route.value),this.activateChildRoutes(t,null,c.children)}else{const u=Dg(r.snapshot),p=u?.get(s._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=u,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class gv{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wf{constructor(t,e){this.component=t,this.route=e}}function wC(n,t,e){const i=n._root;return $u(i,t?t._root:null,e,[i.value])}function ju(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function $u(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=zu(t);return n.children.forEach(c=>{(function CC(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const p=function _v(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ft(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ft(n.url,t.url)||!Io(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_g(n,t)||!Io(n.queryParams,t.queryParams);default:return!_g(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new gv(i)):(o.data=c.data,o._resolvedData=c._resolvedData),$u(n,t,o.component?u?u.children:null:e,i,r),p&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new Wf(u.outlet.component,c))}else c&&Eg(t,u,r),r.canActivateChecks.push(new gv(i)),$u(n,null,o.component?u?u.children:null:e,i,r)})(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),ji(o,(c,u)=>Eg(c,e.getContext(u),r)),r}function Eg(n,t,e){const i=zu(n),r=n.value;ji(i,(o,c)=>{Eg(o,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Wf(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Md(n){return"function"==typeof n}function vv(n){return n instanceof Oa||"EmptyError"===n?.name}const Gu=Symbol("INITIAL_VALUE");function Il(){return Zn(n=>Ut(n.map(t=>t.pipe(Vn(1),zi(Gu)))).pipe((0,G.U)(t=>{for(const e of t)if(!0!==e){if(e===Gu)return Gu;if(!1===e||e instanceof L)return e}return!0}),_n(t=>t!==Gu),Vn(1)))}function TC(n){return(0,_d.z)((0,_i.b)(t=>{if(_c(t))throw uT(0,t)}),(0,G.U)(t=>!0===t))}const Cv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dv(n,t,e,i,r){const o=Ev(n,t,e);return o.matched?function wv(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?We(r.map(c=>{const u=ju(c,n);return Kn(function bT(n){return n&&Md(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))})).pipe(Il(),TC()):We(!0)}(i=bC(t,i),t,e).pipe((0,G.U)(c=>!0===c?o:{...Cv})):We(o)}function Ev(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Cv}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||tg)(e,n,t);if(!r)return{...Cv};const o={};ji(r.posParams,(u,p)=>{o[p]=u.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function qf(n,t,e,i){if(e.length>0&&function Yf(n,t,e){return e.some(i=>Sl(n,t,i)&&Wo(i)!==Gt)}(n,e,i)){const o=new Q(t,function xT(n,t,e,i){const r={};r[Gt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Wo(o)!==Gt){const c=new Q([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Wo(o)]=c}return r}(n,t,i,new Q(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function IT(n,t,e){return e.some(i=>Sl(n,t,i))}(n,e,i)){const o=new Q(n.segments,function hN(n,t,e,i,r){const o={};for(const c of i)if(Sl(n,e,c)&&!r[Wo(c)]){const u=new Q([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,o[Wo(c)]=u}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new Q(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function Sl(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function qu(n,t,e,i){return!!(Wo(n)===i||i!==Gt&&Sl(t,e,n))&&("**"===n.path||Ev(t,n,e).matched)}function MC(n,t,e){return 0===t.length&&!n.children[e]}const Zf=!1;class Ig{constructor(t){this.segmentGroup=t||null}}class AC{constructor(t){this.urlTree=t}}function Kf(n){return zs(new Ig(n))}function xv(n){return zs(new AC(n))}class ST{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=qf(this.urlTree.root,[],[],this.config).segmentGroup,e=new Q(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Gt).pipe((0,G.U)(o=>this.createUrlTree(Vf(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zo(o=>{if(o instanceof AC)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Ig?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Gt).pipe((0,G.U)(r=>this.createUrlTree(Vf(r),t.queryParams,t.fragment))).pipe(zo(r=>{throw r instanceof Ig?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,Zf)}createUrlTree(t,e,i){const r=cg(t);return new L(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,G.U)(o=>new Q([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,En.D)(r).pipe(Fa(o=>{const c=i.children[o],u=yT(e,o);return this.expandSegmentGroup(t,u,c,o).pipe((0,G.U)(p=>({segment:p,outlet:o})))}),fc((o,c)=>(o[c.outlet]=c.segment,o),{}),jo())}expandSegment(t,e,i,r,o,c){return(0,En.D)(i).pipe(Fa(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,o,c).pipe(zo(_=>{if(_ instanceof Ig)return We(null);throw _}))),gs(u=>!!u),zo((u,p)=>{if(vv(u))return MC(e,r,o)?We(new Q([],{})):Kf(e);throw u}))}expandSegmentAgainstRoute(t,e,i,r,o,c,u){return qu(r,e,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,c):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c):Kf(e):Kf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?xv(o):this.lineralizeSegments(i,o).pipe((0,wr.z)(c=>{const u=new Q(c,{});return this.expandSegment(t,u,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){const{matched:u,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=Ev(e,r,o);if(!u)return Kf(e);const x=this.applyRedirectCommands(p,r.redirectTo,b);return r.redirectTo.startsWith("/")?xv(x):this.lineralizeSegments(r,x).pipe((0,wr.z)(M=>this.expandSegment(t,e,i,M.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=bC(i,t),i.loadChildren?(i._loadedRoutes?We({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,G.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new Q(r,{})))):We(new Q(r,{}))):Dv(e,i,r,t).pipe(Zn(({matched:c,consumedSegments:u,remainingSegments:p})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,wr.z)(b=>{const x=b.injector??t,M=b.routes,{segmentGroup:B,slicedSegments:H}=qf(e,u,p,M),K=new Q(B.segments,B.children);if(0===H.length&&K.hasChildren())return this.expandChildren(x,M,K).pipe((0,G.U)(yt=>new Q(u,yt)));if(0===M.length&&0===H.length)return We(new Q(u,{}));const se=Wo(i)===o;return this.expandSegment(x,K,M,H,se?Gt:o,!0).pipe((0,G.U)(mt=>new Q(u.concat(mt.segments),mt.children)))})):Kf(e)))}getChildConfig(t,e,i){return e.children?We({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?We({routes:e._loadedRoutes,injector:e._loadedInjector}):function ET(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?We(!0):We(r.map(c=>{const u=ju(c,n);return Kn(function yv(n){return n&&Md(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))})).pipe(Il(),TC())}(t,e,i).pipe((0,wr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,_i.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Iv(n){return zs(hT(Zf,3))}())):We({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return We(i);if(r.numberOfChildren>1||!r.children[Gt])return t.redirectTo,zs(new s.vHH(4e3,Zf));r=r.children[Gt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new L(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ji(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[o]=e[u]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let c={};return ji(e.children,(u,p)=>{c[p]=this.createSegmentGroup(t,u,i,r)}),new Q(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,Zf);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class TT{}class kT{constructor(t,e,i,r,o,c,u){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.urlSerializer=u}recognize(){const t=qf(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Gt).pipe((0,G.U)(e=>{if(null===e)return null;const i=new Sd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xl(i,e),o=new Va(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=_C(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,En.D)(Object.keys(i.children)).pipe(Fa(r=>{const o=i.children[r],c=yT(e,r);return this.processSegmentGroup(t,c,o,r)}),fc((r,o)=>r&&o?(r.push(...o),r):null),function Ky(n,t=!1){return(0,Hi.e)((e,i)=>{let r=0;e.subscribe((0,Qe.x)(i,o=>{const c=n(o,r++);(c||t)&&i.next(o),!c&&i.complete()}))})}(r=>null!==r),Pf(null),jo(),(0,G.U)(r=>{if(null===r)return null;const o=Rd(r);return function RT(n){n.sort((t,e)=>t.value.outlet===Gt?-1:e.value.outlet===Gt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,En.D)(e).pipe(Fa(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,o)),gs(c=>!!c),zo(c=>{if(vv(c))return MC(i,r,o)?We([]):We(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!qu(e,i,r,o))return We(null);let c;if("**"===e.path){const u=r.length>0?vd(r).parameters:{},p=OC(i)+r.length;c=We({snapshot:new Sd(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FT(e),Wo(e),e.component??e._loadedComponent??null,e,RC(i),p,Mv(e)),consumedSegments:[],remainingSegments:[]})}else c=Dv(i,e,r,t).pipe((0,G.U)(({matched:u,consumedSegments:p,remainingSegments:_,parameters:b})=>{if(!u)return null;const x=OC(i)+p.length;return{snapshot:new Sd(p,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FT(e),Wo(e),e.component??e._loadedComponent??null,e,RC(i),x,Mv(e)),consumedSegments:p,remainingSegments:_}}));return c.pipe(Zn(u=>{if(null===u)return We(null);const{snapshot:p,consumedSegments:_,remainingSegments:b}=u;t=e._injector??t;const x=e._loadedInjector??t,M=function OT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:B,slicedSegments:H}=qf(i,_,b,M.filter(se=>void 0===se.redirectTo));if(0===H.length&&B.hasChildren())return this.processChildren(x,M,B).pipe((0,G.U)(se=>null===se?null:[new xl(p,se)]));if(0===M.length&&0===H.length)return We([new xl(p,[])]);const K=Wo(e)===o;return this.processSegment(x,M,B,H,K?Gt:o).pipe((0,G.U)(se=>null===se?null:[new xl(p,se)]))}))}}function PT(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Rd(n){const t=[],e=new Set;for(const i of n){if(!PT(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Rd(i.children);t.push(new xl(i.value,r))}return t.filter(i=>!e.has(i))}function RC(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function OC(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function FT(n){return n.data||{}}function Mv(n){return n.resolve||{}}function LC(n){return"string"==typeof n.title||null===n.title}function qo(n){return Zn(t=>{const e=n(t);return e?(0,En.D)(e).pipe((0,G.U)(()=>t)):We(t)})}const Zu=new s.OlP("ROUTES");let kv=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return We(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Kn(e.loadComponent()).pipe((0,G.U)(VC),(0,_i.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Pu(()=>{this.componentLoaders.delete(e)})),r=new hc(i,()=>new pt.x).pipe(Of());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return We({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,G.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_,b=!1;Array.isArray(u)?_=u:(p=u.create(e).injector,_=Cr(p.get(Zu,[],s.XFs.Self|s.XFs.Optional)));return{routes:_.map(pv),injector:p}}),Pu(()=>{this.childrenLoaders.delete(i)})),c=new hc(o,()=>new pt.x).pipe(Of());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return Kn(e()).pipe((0,G.U)(VC),(0,wr.z)(r=>r instanceof s.YKP||Array.isArray(r)?We(r):(0,En.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VC(n){return function BT(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Sg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pt.x,this.configLoader=(0,s.f3M)(kv),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(An),this.rootContexts=(0,s.f3M)(jf),this.navigationId=0,this.afterPreactivation=()=>We(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new uC(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new av(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new li({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Uu,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_n(i=>0!==i.id),(0,G.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Zn(i=>{let r=!1,o=!1;return We(i).pipe((0,_i.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zn(c=>{const u=e.browserUrlTree.toString(),p=!e.navigated||c.extractedUrl.toString()!==u||u!==e.currentUrlTree.toString();if(!p&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const b="";return this.events.next(new pg(c.id,e.serializeUrl(i.rawUrl),b,0)),e.rawUrlTree=c.rawUrl,c.resolve(null),Pa.E}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return BC(c.source)&&(e.browserUrlTree=c.extractedUrl),We(c).pipe(Zn(b=>{const x=this.transitions?.getValue();return this.events.next(new Hf(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),x!==this.transitions?.getValue()?Pa.E:Promise.resolve(b)}),function Tv(n,t,e,i){return Zn(r=>function Sv(n,t,e,i,r){return new ST(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,G.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,_i.b)(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},i.urlAfterRedirects=b.urlAfterRedirects}),function fN(n,t,e,i,r){return(0,wr.z)(o=>function AT(n,t,e,i,r,o,c="emptyOnly"){return new kT(n,t,e,i,r,c,o).recognize().pipe(Zn(u=>null===u?function MT(n){return new Yn.y(t=>t.error(n))}(new TT):We(u)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,G.U)(c=>({...o,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,_i.b)(b=>{if(i.targetSnapshot=b.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!b.extras.skipLocationChange){const M=e.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);e.setBrowserUrl(M,b)}e.browserUrlTree=b.urlAfterRedirects}const x=new iT(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(x)}));if(p&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:b,extractedUrl:x,source:M,restoredState:B,extras:H}=c,K=new Hf(b,this.urlSerializer.serialize(x),M,B);this.events.next(K);const se=dv(x,this.rootComponentType).snapshot;return We(i={...c,targetSnapshot:se,urlAfterRedirects:x,extras:{...H,skipLocationChange:!1,replaceUrl:!1}})}{const b="";return this.events.next(new pg(c.id,e.serializeUrl(i.extractedUrl),b,1)),e.rawUrlTree=c.rawUrl,c.resolve(null),Pa.E}}),(0,_i.b)(c=>{const u=new sv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),(0,G.U)(c=>i={...c,guards:wC(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function kd(n,t){return(0,wr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?We({...e,guardsResult:!0}):function IC(n,t,e,i){return(0,En.D)(n).pipe((0,wr.z)(r=>function DT(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?We(o.map(u=>{const p=Dg(t)??r,_=ju(u,p);return Kn(function Ad(n){return n&&Md(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):p.runInContext(()=>_(n,t,e,i))).pipe(gs())})).pipe(Il()):We(!0)}(r.component,r.route,e,t,i)),gs(r=>!0!==r,!0))}(c,i,r,n).pipe((0,wr.z)(u=>u&&function vT(n){return"boolean"==typeof n}(u)?function bv(n,t,e,i){return(0,En.D)(t).pipe(Fa(r=>Eo(function CT(n,t){return null!==n&&t&&t(new hC(n)),We(!0)}(r.route.parent,i),function wT(n,t){return null!==n&&t&&t(new xd(n)),We(!0)}(r.route,i),function Wu(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function uN(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>br(()=>We(c.guards.map(p=>{const _=Dg(c.node)??e,b=ju(p,_);return Kn(function EC(n){return n&&Md(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(gs())})).pipe(Il())));return We(o).pipe(Il())}(n,r.path,e),function SC(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return We(!0);const r=i.map(o=>br(()=>{const c=Dg(t)??e,u=ju(o,c);return Kn(function DC(n){return n&&Md(n.canActivate)}(u)?u.canActivate(t,n):c.runInContext(()=>u(t,n))).pipe(gs())}));return We(r).pipe(Il())}(n,r.route,e))),gs(r=>!0!==r,!0))}(i,o,n,t):We(u)),(0,G.U)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,c=>this.events.next(c)),(0,_i.b)(c=>{if(i.guardsResult=c.guardsResult,_c(c.guardsResult))throw uT(0,c.guardsResult);const u=new rT(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),_n(c=>!!c.guardsResult||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),qo(c=>{if(c.guards.canActivateChecks.length)return We(c).pipe((0,_i.b)(u=>{const p=new dC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),Zn(u=>{let p=!1;return We(u).pipe(function PC(n,t){return(0,wr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return We(e);let o=0;return(0,En.D)(r).pipe(Fa(c=>function FC(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!LC(r)&&(o[wl]=r.title),function NT(n,t,e,i){const r=function NC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return We({});const o={};return(0,En.D)(r).pipe((0,wr.z)(c=>function LT(n,t,e,i){const r=Dg(t)??i,o=ju(n,r);return Kn(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[c],t,e,i).pipe(gs(),(0,_i.b)(u=>{o[c]=u}))),yd(1),Ou(o),zo(c=>vv(c)?Pa.E:zs(c)))}(o,n,t,i).pipe((0,G.U)(c=>(n._resolvedData=c,n.data=_C(n,e).resolve,r&&LC(r)&&(n.data[wl]=r.title),null)))}(c.route,i,n,t)),(0,_i.b)(()=>o++),yd(1),(0,wr.z)(c=>o===r.length?We(e):Pa.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,_i.b)({next:()=>p=!0,complete:()=>{p||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),(0,_i.b)(u=>{const p=new mg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}))}),qo(c=>{const u=p=>{const _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,_i.b)(b=>{p.component=b}),(0,G.U)(()=>{})));for(const b of p.children)_.push(...u(b));return _};return Ut(u(c.targetSnapshot.root)).pipe(Pf(),Vn(1))}),qo(()=>this.afterPreactivation()),(0,G.U)(c=>{const u=function aN(n,t,e){const i=yg(n,t._root,e?e._root:void 0);return new gC(i,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:u}}),(0,_i.b)(c=>{e.currentUrlTree=c.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),e.routerState=c.targetRouterState,"deferred"===e.urlUpdateStrategy&&(c.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,c),e.browserUrlTree=c.urlAfterRedirects)}),((n,t,e)=>(0,G.U)(i=>(new mv(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c)),(0,_i.b)({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new ys(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),Pu(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),zo(c=>{if(o=!0,yC(c)){fv(c)||(e.navigated=!0,e.restoreHistory(i,!0));const u=new fg(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(u),fv(c)){const p=e.urlHandlingStrategy.merge(c.url,e.rawUrlTree),_={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||BC(i.source)};e.scheduleNavigation(p,Uu,null,_,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const u=new cC(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(u);try{i.resolve(e.errorHandler(c))}catch(p){i.reject(p)}}return Pa.E}))}))}cancelNavigationTransition(e,i,r){const o=new fg(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BC(n){return n!==Uu}let UC=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Gt);return i}getResolvedTitleForRoute(e){return e.data[wl]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Xt)},providedIn:"root"}),n})(),Xt=(()=>{class n extends UC{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hd))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(jC)},providedIn:"root"}),n})();class zC{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let jC=(()=>{class n extends zC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tg=new s.OlP("",{providedIn:"root",factory:()=>({})});let $C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(HT)},providedIn:"root"}),n})(),HT=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zT(n){throw n}function jT(n,t,e){return t.parse("/")}const pN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let So=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(Tg,{optional:!0})||{},this.errorHandler=this.options.errorHandler||zT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)($C),this.routeReuseStrategy=(0,s.f3M)(HC),this.urlCreationStrategy=(0,s.f3M)(Hu),this.titleStrategy=(0,s.f3M)(UC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Cr((0,s.f3M)(Zu,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(Sg),this.urlSerializer=(0,s.f3M)(An),this.location=(0,s.f3M)(Re),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new L,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=dv(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Uu,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(o.state=p)}const u=this.parseUrl(e);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(pv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:p}=i,_=p?this.currentUrlTree.fragment:c;let b=null;switch(u){case"merge":b={...this.currentUrlTree.queryParams,...o};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=o||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,b,_??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=_c(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Uu,null,i)}navigate(e,i={skipLocationChange:!1}){return function Od(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...pN}:!1===i?{...GC}:i,_c(e))return og(this.currentUrlTree,e,r);const o=this.parseUrl(e);return og(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let u,p,_,b;return c?(u=c.resolve,p=c.reject,_=c.promise):_=new Promise((x,M)=>{u=x,p=M}),b="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:u,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(x=>Promise.reject(x))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xf=(()=>{class n{constructor(e,i,r,o,c,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.locationStrategy=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new pt.x;const p=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=e.events.subscribe(_=>{_ instanceof ys&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(So),s.Y36(Id),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(dt))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),Ag=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,o,c){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(u=>{u instanceof ys&&this.update()})}ngAfterContentInit(){We(this.links.changes,We(null)).pipe((0,ms.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,En.D)(e).pipe((0,ms.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Rv(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(So),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(Xf,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Xf,5),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.TTD]}),n})();class WC{}let mN=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(_n(e=>e instanceof ys),Fa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const c=o._injector??e,u=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(u,o.children??o._loadedRoutes))}return(0,En.D)(r).pipe((0,ms.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):We(null);const o=r.pipe((0,wr.z)(c=>null===c?We(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,En.D)([o,c]).pipe((0,ms.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(So),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(WC),s.LFG(kv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ov=new s.OlP("");let Pv=(()=>{class n{constructor(e,i,r,o,c={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Hf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ys&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof pC&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pC(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var vs=(()=>((vs=vs||{})[vs.COMPLETE=0]="COMPLETE",vs[vs.FAILED=1]="FAILED",vs[vs.REDIRECTING=2]="REDIRECTING",vs))();const js=!1;function $s(n,t){return{\u0275kind:n,\u0275providers:t}}const Nv=new s.OlP("",{providedIn:"root",factory:()=>!1});function YC(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(So),r=n.get(ZC);1===n.get(Lv)&&i.initialNavigation(),n.get(Vv,null,s.XFs.Optional)?.setUpPreloading(),n.get(Ov,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const ZC=new s.OlP(js?"bootstrap done indicator":"",{factory:()=>new pt.x}),Lv=new s.OlP(js?"initial navigation":"",{providedIn:"root",factory:()=>1});function QC(){let n=[];return n=js?[{provide:s.Xts,multi:!0,useFactory:()=>{const t=(0,s.f3M)(So);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function sT(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],$s(1,n)}const Vv=new s.OlP(js?"router preloader":"");function Bv(n){return $s(0,[{provide:Vv,useExisting:mN},{provide:WC,useExisting:n}])}const kg=!1,Uv=new s.OlP(kg?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),WT=[Re,{provide:An,useClass:Gr},So,jf,{provide:Id,useFactory:function Fv(n){return n.routerState.root},deps:[So]},kv,kg?{provide:Nv,useValue:!0}:[]];function JC(){return new s.PXZ("Router",So)}let eD=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[WT,kg&&i?.enableTracing?QC().\u0275providers:[],{provide:Zu,multi:!0,useValue:e},{provide:Uv,useFactory:Hv,deps:[[So,new s.FiY,new s.tp0]]},{provide:Tg,useValue:i||{}},i?.useHash?{provide:dt,useClass:xe}:{provide:dt,useClass:Se},{provide:Ov,useFactory:()=>{const n=(0,s.f3M)(ma),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(Tg),i=(0,s.f3M)(Sg),r=(0,s.f3M)(An);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Pv(r,i,n,t,e)}},i?.preloadingStrategy?Bv(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:JC},i?.initialNavigation?ep(i):[],[{provide:Og,useFactory:YC},{provide:s.tb,multi:!0,useExisting:Og}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Zu,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Uv,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$f]}),n})();function Hv(n){if(kg&&n)throw new s.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ep(n){return["disabled"===n.initialNavigation?$s(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(So);return()=>{t.setUpLocationChangeListener()}}},{provide:Lv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$s(2,[{provide:Lv,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(me,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(So),o=t.get(ZC);(function $T(n,t){n.events.pipe(_n(e=>e instanceof ys||e instanceof fg||e instanceof cC||e instanceof pg),(0,G.U)(e=>e instanceof ys||e instanceof pg?vs.COMPLETE:e instanceof fg&&(0===e.code||1===e.code)?vs.REDIRECTING:vs.FAILED),_n(e=>e!==vs.REDIRECTING),Vn(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(Sg).afterPreactivation=()=>(i(!0),o.closed?We(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const Og=new s.OlP(kg?"Router Initializer":"");class Pd{}Pd.\u0275fac=function(t){return new(t||Pd)},Pd.\u0275cmp=s.Xpm({type:Pd,selectors:[["app-contact"]],decls:2,vars:0,template:function(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1,"contact works!"),s.qZA())}});class yc{}yc.\u0275fac=function(t){return new(t||yc)},yc.\u0275cmp=s.Xpm({type:yc,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1,"dashboard works!"),s.qZA())}});class vc{constructor(t){this.firstName=t?t.firstName:"",this.lastName=t?t.lastName:"",this.email=t?t.email:"",this.birthDate=t?t.birthDate:"",this.street=t?t.street:"",this.zipCode=t?t.zipCode:"",this.city=t?t.city:""}toJSON(){return{firstName:this.firstName,lastName:this.lastName,email:this.email,birthDate:this.birthDate,street:this.street,zipCode:this.zipCode,city:this.city}}}function qt(n){return null!=n&&"false"!=`${n}`}function Ba(n,t=0){return function ZT(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Fg(n){return Array.isArray(n)?n:[n]}function $i(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ml(n){return n instanceof s.SBq?n.nativeElement:n}var nD=U(1144);const KT=["addListener","removeListener"],QT=["addEventListener","removeEventListener"],Yo=["on","off"];function Qu(n,t,e,i){if((0,xo.m)(e)&&(i=e,e=void 0),i)return Qu(n,t,e).pipe(ct(i));const[r,o]=function rD(n){return(0,xo.m)(n.addEventListener)&&(0,xo.m)(n.removeEventListener)}(n)?QT.map(c=>u=>n[c](t,u,e)):function bN(n){return(0,xo.m)(n.addListener)&&(0,xo.m)(n.removeListener)}(n)?KT.map(iD(n,t)):function zv(n){return(0,xo.m)(n.on)&&(0,xo.m)(n.off)}(n)?Yo.map(iD(n,t)):[];if(!r&&(0,nD.z)(n))return(0,wr.z)(c=>Qu(c,t,e))((0,mi.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Yn.y(c=>{const u=(...p)=>c.next(1<p.length?p:p[0]);return r(u),()=>o(u)})}function iD(n,t){return e=>i=>n[e](t,i)}var oD=U(4408);const tp={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=tp;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new gi.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=tp;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=tp;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var jv=U(7565);const eM=new class JT extends jv.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class XT extends oD.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=tp.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(tp.cancelAnimationFrame(e),t._scheduled=void 0)}});let $v,tM=1;const Ng={};function aD(n){return n in Ng&&(delete Ng[n],!0)}const nM={setImmediate(n){const t=tM++;return Ng[t]=!0,$v||($v=Promise.resolve()),$v.then(()=>aD(t)&&n()),t},clearImmediate(n){aD(n)}},{setImmediate:Gv,clearImmediate:iM}=nM,Lg={setImmediate(...n){const{delegate:t}=Lg;return(t?.setImmediate||Gv)(...n)},clearImmediate(n){const{delegate:t}=Lg;return(t?.clearImmediate||iM)(n)},delegate:void 0},Wv=new class rM extends jv.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class lD extends oD.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Lg.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Lg.clearImmediate(e),t._scheduled=void 0)}});var Fd=U(4986),sM=U(3532);function Bg(n=0,t,e=Fd.P){let i=-1;return null!=t&&((0,sM.K)(t)?e=t:i=t),new Yn.y(r=>{let o=function Vg(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Xu(n,t=Fd.z){return function oM(n){return(0,Hi.e)((t,e)=>{let i=!1,r=null,o=null,c=!1;const u=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const _=r;r=null,e.next(_)}c&&e.complete()},p=()=>{o=null,c&&e.complete()};t.subscribe((0,Qe.x)(e,_=>{i=!0,r=_,o||(0,mi.Xf)(n(_)).subscribe(o=(0,Qe.x)(e,u,p))},()=>{c=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>Bg(n,t))}var aM=U(5032);function Kt(n){return(0,Hi.e)((t,e)=>{(0,mi.Xf)(n).subscribe((0,Qe.x)(e,()=>e.complete(),aM.Z)),!e.closed&&t.subscribe(e)})}let cD;try{cD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{cD=!1}let Nd,Qn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Qc(n){return n===zr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qv=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ug(){if(Nd)return Nd;if("object"!=typeof document||!document)return Nd=new Set(qv),Nd;let n=document.createElement("input");return Nd=new Set(qv.filter(t=>(n.setAttribute("type",t),n.type===t))),Nd}let Zo,bc,Ld,Zv;function Ua(n){return function Hg(){if(null==Zo&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zo=!0}))}finally{Zo=Zo||!1}return Zo}()?n:!!n.capture}function Yv(){if(null==Ld){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ld=!1,Ld;if("scrollBehavior"in document.documentElement.style)Ld=!0;else{const n=Element.prototype.scrollTo;Ld=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ld}function Ju(){if("object"!=typeof document||!document)return 0;if(null==bc){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),bc=0,0===n.scrollLeft&&(n.scrollLeft=1,bc=0===n.scrollLeft?1:2),n.remove()}return bc}function ip(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Vd(n){return n.composedPath?n.composedPath()[0]:n.target}function Kv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const dM=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function uM(){return(0,s.f3M)(J)}}),hM=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Fr=(()=>{class n{constructor(e){this.value="ltr",this.change=new s.vpe,e&&(this.value=function fM(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?hM.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(dM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Qv=["contentWrapper"],pM=["*"],Xv=new s.OlP("VIRTUAL_SCROLL_STRATEGY");let th=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new pt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Yn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Xu(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):We()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(_n(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ml(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Qu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Qn),s.LFG(J,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rp=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new pt.x,this._elementScrolled=new Yn.y(c=>this.ngZone.runOutsideAngular(()=>Qu(this.elementRef.nativeElement,"scroll").pipe(Kt(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Ju()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Ju()?e.left=e.right:1==Ju()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;Yv()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==Ju()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==Ju()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(th),s.Y36(s.R0b),s.Y36(Fr,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),nh=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new pt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Xu(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qn),s.LFG(s.R0b),s.LFG(J,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jv=new s.OlP("VIRTUAL_SCROLLABLE");let _M=(()=>{class n extends rp{constructor(e,i,r,o){super(e,i,r,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(th),s.Y36(s.R0b),s.Y36(Fr,8))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const dD=typeof requestAnimationFrame<"u"?eM:Wv;let SN=(()=>{class n extends _M{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=qt(e)}constructor(e,i,r,o,c,u,p,_){super(e,u,r,c),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=_,this._platform=(0,s.f3M)(Qn),this._detachedSubject=new pt.x,this._renderedRangeSubject=new pt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Yn.y(b=>this._scrollStrategy.scrolledIndexChange.subscribe(x=>Promise.resolve().then(()=>this.ngZone.run(()=>b.next(x))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=gi.w0.EMPTY,this._viewportChanges=p.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(zi(null),Xu(0,dD)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Kt(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function IN(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,c=o?"X":"Y";let p=`translate${c}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(p+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=p&&(this._renderedContentTransform=p,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",o="right",c="rtl"==this.dir?.value;i="start"==e?c?o:r:"end"==e?c?r:o:e||("horizontal"===this.orientation?"left":"top");const u=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-u}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Xv,8),s.Y36(Fr,8),s.Y36(th),s.Y36(nh),s.Y36(Jv,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf(Qv,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[s._Bn([{provide:rp,useFactory:(t,e)=>t||e,deps:[[new s.FiY,new s.tBr(Jv)],n]}]),s.qOj,s.jDz],ngContentSelectors:pM,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),wc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),bs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[eh,wc,SN,eh,wc]}),n})();class Cc{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Ws extends Cc{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class Dc extends Cc{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class rh extends Cc{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class Ec{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Ws?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Dc?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof rh?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class oh extends Ec{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const u=c.element,p=this._document.createComment("dom-portal");u.parentNode.insertBefore(p,u),this.outletElement.appendChild(u),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(u,p)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let sh=(()=>{class n extends Ec{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const c=o.element,u=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(u,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(J))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),ah=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var co=U(6451);const nb=Yv();class fD{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=$i(-this._previousScrollPosition.left),t.style.top=$i(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),nb&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),nb&&(i.scrollBehavior=o,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class CM{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pD{enable(){}disable(){}attach(){}}function jg(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function mD(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class gD{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();jg(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ib=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new pD,this.close=c=>new CM(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new fD(this._viewportRuler,this._document),this.reposition=c=>new gD(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(th),s.LFG(nh),s.LFG(s.R0b),s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lh{constructor(t){if(this.scrollStrategy=new pD,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class $g{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let lp=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gg=(()=>{class n extends lp{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){const u=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ob=(()=>{class n extends lp{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Vd(o)},this._clickListener=o=>{const c=Vd(o),u="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(c)||b.overlayElement.contains(u))break;const x=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(o)):x.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J),s.LFG(Qn),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cp=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Kv()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Kv()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J),s.LFG(Qn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Bd{constructor(t,e,i,r,o,c,u,p,_,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=c,this._document=u,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new pt.x,this._attachments=new pt.x,this._detachments=new pt.x,this._locationChanges=gi.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new pt.x,this._outsidePointerEvents=new pt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Vn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=$i(this._config.width),t.height=$i(this._config.height),t.minWidth=$i(this._config.minWidth),t.minHeight=$i(this._config.minHeight),t.maxWidth=$i(this._config.maxWidth),t.maxHeight=$i(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Fg(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Kt((0,co.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const sb="cdk-overlay-connected-position-bounding-box",yD=/([A-Za-z%]+)$/;class Wg{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new pt.x,this._resizeSubscription=gi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(sb),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let c;for(let u of this._preferredPositions){let p=this._getOriginPoint(t,r,u),_=this._getOverlayPoint(p,e,u),b=this._getOverlayFit(_,e,i,u);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,p);this._canFitWithFlexibleDimensions(b,_,i)?o.push({position:u,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,u)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:p,position:u,overlayRect:e})}if(o.length){let u=null,p=-1;for(const _ of o){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,u=_)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(sb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?c:u}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=ab(e);let{x:c,y:u}=t,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(u+=_);let M=0-u,B=u+o.height-i.height,H=this._subtractOverflows(o.width,0-c,c+o.width-i.width),K=this._subtractOverflows(o.height,M,B),se=H*K;return{visibleArea:se,isCompletelyWithinViewport:o.width*o.height===se,fitsInViewportVertically:K===o.height,fitsInViewportHorizontally:H==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,c=vD(this._overlayRef.getConfig().minHeight),u=vD(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=c&&c<=r)&&(t.fitsInViewportHorizontally||null!=u&&u<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=ab(e),o=this._viewportRect,c=Math.max(t.x+r.width-o.width,0),u=Math.max(t.y+r.height-o.height,0),p=Math.max(o.top-i.top-t.y,0),_=Math.max(o.left-i.left-t.x,0);let b=0,x=0;return b=r.width<=o.width?_||-c:t.x<this._viewportMargin?o.left-i.left-t.x:0,x=r.height<=o.height?p||-u:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:b,y:x},{x:t.x+b,y:t.y+x}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new $g(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,c,u,b,x,M;if("top"===e.overlayY)c=t.y,o=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,o=i.height-u+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),H=this._lastBoundingBoxSize.height;o=2*B,c=t.y-B,o>H&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-H/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)M=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)x=t.x,b=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),H=this._lastBoundingBoxSize.width;b=2*B,x=t.x-B,b>H&&!this._isInitialRender&&!this._growAfterOpen&&(x=t.x-H/2)}return{top:c,left:x,bottom:u,right:M,width:b,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=$i(i.height),r.top=$i(i.top),r.bottom=$i(i.bottom),r.width=$i(i.width),r.left=$i(i.left),r.right=$i(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=$i(o)),c&&(r.maxWidth=$i(c))}this._lastBoundingBoxSize=i,kl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){kl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();kl(i,this._getExactOverlayY(e,t,b)),kl(i,this._getExactOverlayX(e,t,b))}else i.position="static";let u="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(u+=`translateX(${p}px) `),_&&(u+=`translateY(${_}px)`),i.transform=u.trim(),c.maxHeight&&(r?i.maxHeight=$i(c.maxHeight):o&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=$i(c.maxWidth):o&&(i.maxWidth="")),kl(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=$i(o.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=$i(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mD(t,i),isOriginOutsideView:jg(t,i),isOverlayClipped:mD(e,i),isOverlayOutsideView:jg(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Fg(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function kl(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function vD(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(yD);return e&&"px"!==e?null:parseFloat(t)}return n||null}function ab(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const lb="cdk-global-overlay-wrapper";class xM{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(lb),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:c,maxHeight:u}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==o&&"100vh"!==o||u&&"100%"!==u&&"100vh"!==u),b=this._xPosition,x=this._xOffset,M="rtl"===this._overlayRef.getConfig().direction;let B="",H="",K="";p?K="flex-start":"center"===b?(K="center",M?H=x:B=x):M?"left"===b||"end"===b?(K="flex-end",B=x):("right"===b||"start"===b)&&(K="flex-start",H=x):"left"===b||"start"===b?(K="flex-start",B=x):("right"===b||"end"===b)&&(K="flex-end",H=x),t.position=this._cssPosition,t.marginLeft=p?"0":B,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":H,e.justifyContent=K,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(lb),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let bD=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new xM}flexibleConnectedTo(e){return new Wg(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nh),s.LFG(J),s.LFG(Qn),s.LFG(cp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wD=0,To=(()=>{class n{constructor(e,i,r,o,c,u,p,_,b,x,M,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=u,this._ngZone=p,this._document=_,this._directionality=b,this._location=x,this._outsideClickDispatcher=M,this._animationsModuleType=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),c=new lh(e);return c.direction=c.direction||this._directionality.value,new Bd(o,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+wD++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new oh(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ib),s.LFG(cp),s.LFG(s._Vd),s.LFG(bD),s.LFG(Gg),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(J),s.LFG(Fr),s.LFG(Re),s.LFG(ob),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xD={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[To],useFactory:function ED(n){return()=>n.scrollStrategies.reposition()}};let Ud=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[To,xD],imports:[eh,ah,bs,bs]}),n})();function uo(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function mp(n,t=Fd.z){return(0,Hi.e)((e,i)=>{let r=null,o=null,c=null;const u=()=>{if(r){r.unsubscribe(),r=null;const _=o;o=null,i.next(_)}};function p(){const _=c+n,b=t.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);u()}e.subscribe((0,Qe.x)(i,_=>{o=_,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{o=r=null}))})}function mb(n){return _n((t,e)=>n<=e)}function gb(n,t=j.y){return n=n??oA,(0,Hi.e)((e,i)=>{let r,o=!0;e.subscribe((0,Qe.x)(i,c=>{const u=t(c);(o||!n(r,u))&&(o=!1,r=u,i.next(c))}))})}function oA(n,t){return n===t}let BD=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gp=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ml(e);return new Yn.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new pt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(BD))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sA=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=qt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ba(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(mp(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(gp),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),UD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[BD]}),n})();const _p=new Set;let $d,HD=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):aA}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function zD(n){if(!_p.has(n))try{$d||($d=document.createElement("style"),$d.setAttribute("type","text/css"),document.head.appendChild($d)),$d.sheet&&($d.sheet.insertRule(`@media ${n} {body{ }}`,0),_p.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aA(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let yp=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new pt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return fh(Fg(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Ut(fh(Fg(e)).map(c=>this._registerQuery(c).observable));return o=Eo(o.pipe(Vn(1)),o.pipe(mb(1),mp(0))),o.pipe((0,G.U)(c=>{const u={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:_})=>{u.matches=u.matches||p,u.breakpoints[_]=p}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Yn.y(c=>{const u=p=>this._zone.run(()=>c.next(p));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(zi(i),(0,G.U)(({matches:c})=>({query:e,matches:c})),Kt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(HD),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fh(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function vp(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const GD="cdk-describedby-message",bp="cdk-describedby-host";let _b=0,dA=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+_b++,this._document=e,this._id=(0,s.f3M)(s.AFp)+"-"+_b++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=WD(i,r);"string"!=typeof i?(uA(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=WD(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const c=this._messageRegistry.get(o);c&&0===c.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${bp}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(bp);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");uA(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(WD(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=vp(e,"aria-describedby").filter(r=>0!=r.indexOf(GD));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function lA(n,t,e){const i=vp(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(bp,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function $D(n,t,e){const r=vp(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(bp)}_isElementDescribedByMessage(e,i){const r=vp(e,"aria-describedby"),o=this._messageRegistry.get(i),c=o&&o.messageElement.id;return!!c&&-1!=r.indexOf(c)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J),s.LFG(Qn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WD(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function uA(n,t){n.id||(n.id=`${GD}-${t}-${_b++}`)}class bL{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new pt.x,this._typeaheadSubscription=gi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new pt.x,this.change=new pt.x,t instanceof s.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,_i.b)(e=>this._pressedLetters.push(e)),mp(t),_n(()=>this._pressedLetters.length>0),(0,G.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,c=i[o];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(o<c?o:c-1,-1);break}return;default:return void((r||uo(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class yb extends bL{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let wp=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function qD(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function hA(n){try{return n.frameElement}catch{return null}}(function vA(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===YD(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=YD(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function ZD(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function yA(n){return!function fA(n){return function mA(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Cp(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function pA(n){return function gA(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||_A(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _A(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function YD(n){if(!_A(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Dp{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Vn(1)).subscribe(t)}}let Ep=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Dp(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wp),s.LFG(s.R0b),s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KD=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=qt(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=qt(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=ip(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ep),s.Y36(J))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[s.TTD]}),n})();function xp(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function bb(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const QD=new s.OlP("cdk-input-modality-detector-options"),XD={ignoreKeys:[18,17,224,91,16]},ph=Ua({passive:!0,capture:!0});let CA=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new li(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(u=>u===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vd(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(xp(c)?"keyboard":"mouse"),this._mostRecentTarget=Vd(c))},this._onTouchstart=c=>{bb(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vd(c))},this._options={...XD,...o},this.modalityDetected=this._modality.pipe(mb(1)),this.modalityChanged=this.modalityDetected.pipe(gb()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ph),r.addEventListener("mousedown",this._onMousedown,ph),r.addEventListener("touchstart",this._onTouchstart,ph)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ph),document.removeEventListener("mousedown",this._onMousedown,ph),document.removeEventListener("touchstart",this._onTouchstart,ph))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qn),s.LFG(s.R0b),s.LFG(J),s.LFG(QD,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xA=new s.OlP("cdk-focus-monitor-default-options"),Zg=Ua({passive:!0,capture:!0});let Zs=(()=>{class n{constructor(e,i,r,o,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new pt.x,this._rootNodeFocusAndBlurListener=u=>{for(let _=Vd(u);_;_=_.parentElement)"focus"===u.type?this._onFocus(u,_):this._onBlur(u,_)},this._document=o,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=Ml(e);if(!this._platform.isBrowser||1!==r.nodeType)return We(null);const o=function np(n){if(function cM(){if(null==Zv){const n=typeof document<"u"?document.head:null;Zv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Zv}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const u={checkChildren:i,subject:new pt.x,rootNode:o};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=Ml(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Ml(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([u,p])=>this._originChanged(u,i,p)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Vd(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Zg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Zg)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Kt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Zg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Zg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let c=0;c<o.length;c++)if(o[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Qn),s.LFG(CA),s.LFG(J,8),s.LFG(xA,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IA=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new s.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Zs))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const tE="cdk-high-contrast-black-on-white",wb="cdk-high-contrast-white-on-black",Kg="cdk-high-contrast-active";let nE=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(yp).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Kg,tE,wb),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Kg,tE):2===i&&e.add(Kg,wb)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qn),s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cb=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nE))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[UD]}),n})();function iE(n,t){}class Qg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let rE=(()=>{class n extends Ec{constructor(e,i,r,o,c,u,p,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=c,this._ngZone=u,this._overlayRef=p,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const x=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),x},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=ip(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=ip();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ip())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ep),s.Y36(J,8),s.Y36(Qg),s.Y36(wp),s.Y36(s.R0b),s.Y36(Bd),s.Y36(Zs))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(sh,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,iE,0,0,"ng-template",0)},dependencies:[sh],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class Ip{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new pt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!uo(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const Xg=new s.OlP("DialogScrollStrategy"),oE=new s.OlP("DialogData"),Db=new s.OlP("DefaultDialogConfig"),TA={provide:Xg,deps:[To],useFactory:function SA(n){return()=>n.scrollStrategies.block()}};let Eb=0,sE=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,c,u){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new pt.x,this._afterOpenedAtThisLevel=new pt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=br(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(zi(void 0))),this._scrollStrategy=u}open(e,i){(i={...this._defaultOptions||new Qg,...i}).id=i.id||"cdk-dialog-"+Eb++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),c=this._overlay.create(o),u=new Ip(c,i),p=this._attachContainer(c,u,i);return u.containerInstance=p,this._attachDialogContent(e,u,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){Jg(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){Jg(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Jg(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new lh({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,c=[{provide:Qg,useValue:r},{provide:Ip,useValue:i},{provide:Bd,useValue:e}];let u;r.container?"function"==typeof r.container?u=r.container:(u=r.container.type,c.push(...r.container.providers(r))):u=rE;const p=new Ws(u,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:c}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,o){if(e instanceof s.Rgc){const c=this._createInjector(o,i,r,void 0);let u={$implicit:o.data,dialogRef:i};o.templateContext&&(u={...u,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new Dc(e,null,u,c))}else{const c=this._createInjector(o,i,r,this._injector),u=r.attachComponentPortal(new Ws(e,o.viewContainerRef,c,o.componentFactoryResolver));i.componentInstance=u.instance}}_createInjector(e,i,r,o){const c=e.injector||e.viewContainerRef?.injector,u=[{provide:oE,useValue:e.data},{provide:Ip,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!c||!c.get(Fr,null,{optional:!0}))&&u.push({provide:Fr,useValue:{value:e.direction,change:We()}}),s.zs3.create({parent:c||o,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,c)=>{o?c.setAttribute("aria-hidden",o):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(To),s.LFG(s.zs3),s.LFG(Db,8),s.LFG(n,12),s.LFG(cp),s.LFG(Xg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Jg(n,t){let e=n.length;for(;e--;)t(n[e])}let mh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[sE,TA],imports:[Ud,ah,Cb,ah]}),n})();const dE=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function cE(){return!0}});let xn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Kv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nE),s.LFG(dE,8),s.LFG(J))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[eh,eh]}),n})();function t_(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=qt(t)}constructor(...t){super(...t),this._disabled=!1}}}function Sp(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function n_(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=qt(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function uE(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const hE=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function OA(){return(0,s.f3M)(s.soG)}});class Dr{constructor(){this._localeChanges=new pt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Sc=new s.OlP("mat-date-formats"),PA=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Sb(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let FA=(()=>{class n extends Dr{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Sb(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Sb(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Sb(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(PA.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hE,8),s.LFG(Qn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const NA={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let LA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Dr,useClass:FA}]}),n})(),VA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Sc,useValue:NA}],imports:[LA]}),n})(),Tb=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fE{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Mb=Ua({passive:!0,capture:!0});class HA{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Vd(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const c=o.get(i);c?c.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Mb)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Mb)))}}const pE={enterDuration:225,exitDuration:150},mE=Ua({passive:!0,capture:!0}),gE=["mousedown","touchstart"],_E=["mouseup","mouseleave","touchend","touchcancel"];class Tp{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ml(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...pE,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function zA(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,p=e-r.top,_=o.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=u-c+"px",b.style.top=p-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const x=window.getComputedStyle(b),B=x.transitionDuration,H="none"===x.transitionProperty||"0s"===B||"0s, 0s"===B||0===r.width&&0===r.height,K=new fE(this,b,i,H);b.style.transform="scale3d(1, 1, 1)",K.state=0,i.persistent||(this._mostRecentTransientRipple=K);let se=null;return!H&&(_||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ze=()=>this._finishRippleTransition(K),mt=()=>this._destroyRipple(K);b.addEventListener("transitionend",Ze),b.addEventListener("transitioncancel",mt),se={onTransitionEnd:Ze,onTransitionCancel:mt}}),this._activeRipples.set(K,se),(H||!_)&&this._finishRippleTransition(K),K}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...pE,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ml(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,gE.forEach(i=>{Tp._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_E.forEach(e=>{this._triggerElement.addEventListener(e,this,mE)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=xp(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!bb(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(gE.forEach(e=>Tp._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&_E.forEach(e=>t.removeEventListener(e,this,mE)))}}Tp._eventManager=new HA;const Gd=new s.OlP("mat-ripple-global-options");let Ol=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Tp(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Qn),s.Y36(Gd,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),_h=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,xn]}),n})(),jA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn]}),n})(),Ob=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_h,mr,xn,jA]}),n})();class o_{}class Pb{}const $a="*";function ws(n,t){return{type:7,name:n,definitions:t,options:{}}}function Er(n,t=null){return{type:4,styles:t,timings:n}}function bE(n,t=null){return{type:2,steps:n,options:t}}function Bn(n){return{type:6,styles:n,offset:null}}function Cs(n,t,e){return{type:0,name:n,styles:t,options:e}}function Fb(n){return{type:5,steps:n}}function ar(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Nb(n){Promise.resolve().then(n)}class yh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Nb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class wE{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?Nb(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,u)=>Math.max(c,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const l_="!";function CE(n,t){}class xr{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Tc="mdc-dialog--open",DE="mdc-dialog--opening",EE="mdc-dialog--closing";let xE=(()=>{class n extends rE{constructor(e,i,r,o,c,u,p,_){super(e,i,r,o,c,u,p,_),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ep),s.Y36(J,8),s.Y36(xr),s.Y36(wp),s.Y36(s.R0b),s.Y36(Bd),s.Y36(Zs))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const c_="--mat-dialog-transition-duration";function vh(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Ba(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Ba(n.substring(0,n.length-1)):"0"===n?0:null}let YA=(()=>{class n extends xE{constructor(e,i,r,o,c,u,p,_,b){super(e,i,r,o,c,u,p,b),this._animationMode=_,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?vh(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?vh(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(c_,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(DE),this._hostElement.classList.add(Tc),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Tc),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Tc),this._animationsEnabled?(this._hostElement.style.setProperty(c_,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(EE),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(DE),this._hostElement.classList.remove(EE)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ep),s.Y36(J,8),s.Y36(xr),s.Y36(wp),s.Y36(s.R0b),s.Y36(Bd),s.Y36(s.QbO,8),s.Y36(Zs))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[s.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,CE,0,0,"ng-template",2),s.qZA()())},dependencies:[sh],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Wd{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new pt.x,this._beforeClosed=new pt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(_n(r=>"opened"===r.state),Vn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(_n(r=>"closed"===r.state),Vn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,co.T)(this.backdropClick(),this.keydownEvents().pipe(_n(r=>27===r.keyCode&&!this.disableClose&&!uo(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function ZA(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(_n(e=>"closing"===e.state),Vn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const IE=new s.OlP("MatMdcDialogData"),KA=new s.OlP("mat-mdc-dialog-default-options"),SE=new s.OlP("mat-mdc-dialog-scroll-strategy"),Lb={provide:SE,deps:[To],useFactory:function QA(n){return()=>n.scrollStrategies.block()}};let TE=0,d_=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,c,u,p,_,b,x){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new pt.x,this._afterOpenedAtThisLevel=new pt.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=xr,this.afterAllClosed=br(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(zi(void 0))),this._scrollStrategy=u,this._dialog=i.get(sE)}open(e,i){let r;(i={...this._defaultOptions||new xr,...i}).id=i.id||`${this._idPrefix}${TE++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Qg,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,u,p)=>(r=new this._dialogRefConstructor(c,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),bh=(()=>{class n extends d_{constructor(e,i,r,o,c,u,p,_){super(e,i,o,u,p,c,Wd,YA,IE,_),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(To),s.LFG(s.zs3),s.LFG(Re,8),s.LFG(KA,8),s.LFG(SE),s.LFG(n,12),s.LFG(cp),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),$L=0,Vb=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+$L++}ngOnInit(){this._dialogRef||(this._dialogRef=function ek(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wd,8),s.Y36(s.SBq),s.Y36(bh))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),u_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),Mc=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),ME=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[bh,Lb],imports:[mh,Ud,ah,xn,xn]}),n})();var fn=U(2122);function AE(){return(0,Hi.e)((n,t)=>{let e,i=!1;n.subscribe((0,Qe.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var Ct,Ks=U(2011),tk=(U(9568),U(3942)),we=U(5861),Wr=U(9681),Mp=U(4859),Qs=U(1877),te=U(2090),nk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fl={},Bb=Bb||{},Yt=nk||self;function Ap(){}function kp(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function wh(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Ub="closure_uid_"+(1e9*Math.random()>>>0),WL=0;function kE(n,t,e){return n.call.apply(n.bind,arguments)}function qL(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ho(n,t,e){return(ho=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kE:qL).apply(null,arguments)}function Hb(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function qr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var c=Array(arguments.length-2),u=2;u<arguments.length;u++)c[u-2]=arguments[u];return t.prototype[r].apply(i,c)}}function qd(){this.s=this.s,this.o=this.o}qd.prototype.s=!1,qd.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ik(n){Object.prototype.hasOwnProperty.call(n,Ub)&&n[Ub]||(n[Ub]=++WL)}(this)},qd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rk=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function RE(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Rp(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(kp(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let c=0;c<o;c++)n[r+c]=i[c]}else n.push(i)}}function fo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}fo.prototype.h=function(){this.defaultPrevented=!0};var OE=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",Ap,t),Yt.removeEventListener("test",Ap,t)}catch{}return n}();function Yd(n){return/^[\s\xa0]*$/.test(n)}var zb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function f_(n,t){return n<t?-1:n>t?1:0}function jb(){var n=Yt.navigator;return n&&(n=n.userAgent)?n:""}function Ds(n){return-1!=jb().indexOf(n)}function p_(n){return p_[" "](n),n}p_[" "]=Ap;var Gb,n,PE=Ds("Opera"),Op=Ds("Trident")||Ds("MSIE"),FE=Ds("Edge"),$b=FE||Op,NE=Ds("Gecko")&&!(-1!=jb().toLowerCase().indexOf("webkit")&&!Ds("Edge"))&&!(Ds("Trident")||Ds("MSIE"))&&!Ds("Edge"),m_=-1!=jb().toLowerCase().indexOf("webkit")&&!Ds("Edge");function LE(){var n=Yt.document;return n?n.documentMode:void 0}e:{var VE="",BE=(n=jb(),NE?/rv:([^\);]+)(\)|;)/.exec(n):FE?/Edge\/([\d\.]+)/.exec(n):Op?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):m_?/WebKit\/(\S+)/.exec(n):PE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(BE&&(VE=BE?BE[1]:""),Op){var Wb=LE();if(null!=Wb&&Wb>parseFloat(VE)){Gb=String(Wb);break e}}Gb=VE}var sk={};var zE=Yt.document&&Op&&(LE()||parseInt(Gb,10))||void 0;function Ch(n,t){if(fo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(NE){e:{try{p_(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ZL[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ch.X.h.call(this)}}qr(Ch,fo);var ZL={2:"touch",3:"pen",4:"mouse"};Ch.prototype.h=function(){Ch.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var po="closure_listenable_"+(1e6*Math.random()|0),lk=0;function qb(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++lk,this.ba=this.ea=!1}function g_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function jE(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Ko(n){const t={};for(const e in n)t[e]=n[e];return t}const $E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function __(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<$E.length;o++)e=$E[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function y_(n){this.src=n,this.g={},this.h=0}function Yb(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=rk(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(g_(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Pp(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==i)return r}return-1}y_.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=Pp(n,t,i,r);return-1<c?(t=n[c],e||(t.ea=!1)):((t=new qb(t,this.src,o,!!i,r)).ea=e,n.push(t)),t};var v_="closure_lm_"+(1e6*Math.random()|0),b_={};function GE(n,t,e,i,r){if(i&&i.once)return qE(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)GE(n,t[o],e,i,r);return null}return e=Xs(e),n&&n[po]?n.N(t,e,wh(i)?!!i.capture:!!i,r):Zb(n,t,e,!1,i,r)}function Zb(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var c=wh(r)?!!r.capture:!!r,u=C_(n);if(u||(n[v_]=u=new y_(n)),(e=u.add(t,e,i,c,o)).proxy)return e;if(i=function WE(){const t=Ac;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)OE||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(w_(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function qE(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)qE(n,t[o],e,i,r);return null}return e=Xs(e),n&&n[po]?n.O(t,e,wh(i)?!!i.capture:!!i,r):Zb(n,t,e,!0,i,r)}function Kb(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)Kb(n,t[o],e,i,r);else i=wh(i)?!!i.capture:!!i,e=Xs(e),n&&n[po]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Pp(o=n.g[t],e,i,r))&&(g_(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=C_(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Pp(t,e,i,r)),(e=-1<n?t[n]:null)&&Qb(e))}function Qb(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[po])Yb(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(w_(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=C_(t))?(Yb(e,n),0==e.h&&(e.src=null,t[v_]=null)):g_(n)}}}function w_(n){return n in b_?b_[n]:b_[n]="on"+n}function Ac(n,t){if(n.ba)n=!0;else{t=new Ch(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&Qb(n),n=e.call(i,t)}return n}function C_(n){return(n=n[v_])instanceof y_?n:null}var Fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xs(n){return"function"==typeof n?n:(n[Fp]||(n[Fp]=function(t){return n.handleEvent(t)}),n[Fp])}function Ir(){qd.call(this),this.i=new y_(this),this.P=this,this.I=null}function Yr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new fo(t,n);else if(t instanceof fo)t.target=t.target||n;else{var r=t;__(t=new fo(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];r=D_(c,i,!0,t)&&r}if(r=D_(c=t.g=n,i,!0,t)&&r,r=D_(c,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=D_(c=t.g=e[o],i,!1,t)&&r}function D_(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.ba&&c.capture==e){var u=c.listener,p=c.ha||c.src;c.ea&&Yb(n.i,c),r=!1!==u.call(p,i)&&r}}return r&&!i.defaultPrevented}qr(Ir,qd),Ir.prototype[po]=!0,Ir.prototype.removeEventListener=function(n,t,e,i){Kb(this,n,t,e,i)},Ir.prototype.M=function(){if(Ir.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)g_(e[i]);delete n.g[t],n.h--}}this.I=null},Ir.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ir.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Xb=Yt.JSON.stringify;function ck(){var n=e0;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var E_,Jb=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new KL,n=>n.reset());class KL{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function YE(n){Yt.setTimeout(()=>{throw n},0)}function ZE(n,t){E_||function QL(){var n=Yt.Promise.resolve(void 0);E_=function(){n.then(KE)}}(),Np||(E_(),Np=!0),e0.add(n,t)}var Np=!1,e0=new class dk{constructor(){this.h=this.g=null}add(t,e){const i=Jb.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function KE(){for(var n;n=ck();){try{n.h.call(n.g)}catch(e){YE(e)}var t=Jb;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Np=!1}function Lp(n,t){Ir.call(this),this.h=n||1,this.g=t||Yt,this.j=ho(this.lb,this),this.l=Date.now()}function x_(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function I_(n,t,e){if("function"==typeof n)e&&(n=ho(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ho(n.handleEvent,n)}return 2147483647<Number(t)?-1:Yt.setTimeout(n,t||0)}function Vp(n){n.g=I_(()=>{n.g=null,n.i&&(n.i=!1,Vp(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}qr(Lp,Ir),(Ct=Lp.prototype).ca=!1,Ct.R=null,Ct.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Yr(this,"tick"),this.ca&&(x_(this),this.start()))}},Ct.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ct.M=function(){Lp.X.M.call(this),x_(this),delete this.g};class S_ extends qd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Vp(this)}M(){super.M(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dh(n){qd.call(this),this.h=n,this.g={}}qr(Dh,qd);var QE=[];function XE(n,t,e,i){Array.isArray(e)||(e&&(QE[0]=e.toString()),e=QE);for(var r=0;r<e.length;r++){var o=GE(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function uk(n){jE(n.g,function(t,e){this.g.hasOwnProperty(e)&&Qb(t)},n),n.g={}}function t0(){this.g=!0}function Eh(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function fk(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return Xb(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Dh.prototype.M=function(){Dh.X.M.call(this),uk(this)},Dh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},t0.prototype.Aa=function(){this.g=!1},t0.prototype.info=function(){};var xh={},pk=null;function n0(){return pk=pk||new Ir}function mk(n){fo.call(this,xh.Pa,n)}function T_(n){const t=n0();Yr(t,new mk(t))}function ex(n,t){fo.call(this,xh.STAT_EVENT,n),this.stat=t}function Sr(n){const t=n0();Yr(t,new ex(t,n))}function tx(n,t){fo.call(this,xh.Qa,n),this.size=t}function Bp(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},t)}xh.Pa="serverreachability",qr(mk,fo),xh.STAT_EVENT="statevent",qr(ex,fo),xh.Qa="timingevent",qr(tx,fo);var Up={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},kc={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function M_(){}function k_(){}M_.prototype.h=null;var Ih,Hp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function zp(){fo.call(this,"d")}function jp(){fo.call(this,"c")}function r0(){}function R_(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Dh(this),this.O=JL,this.T=new Lp(n=$b?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new gk}function gk(){this.i=null,this.g="",this.h=!1}qr(zp,fo),qr(jp,fo),qr(r0,M_),r0.prototype.g=function(){return new XMLHttpRequest},r0.prototype.i=function(){return{}},Ih=new r0;var JL=45e3,O_={},P_={};function o0(n,t,e){n.K=1,n.v=l0(Ll(t)),n.s=e,n.P=!0,nx(n,null)}function nx(n,t){n.F=Date.now(),Sh(n),n.A=Ll(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),h(e.i,"t",i),n.C=0,e=n.l.H,n.h=new gk,n.g=D2(n.l,e?t:null,!n.s),0<n.N&&(n.L=new S_(ho(n.La,n,n.g),n.N)),XE(n.S,n.g,"readystatechange",n.ib),t=n.H?Ko(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),T_(),function XL(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",u=o.split("&"),p=0;p<u.length;p++){var _=u[p].split("=");if(1<_.length){var b=_[0];_=_[1];var x=b.split("_");c=2<=x.length&&"type"==x[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function ix(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function s0(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=rx(n,e),r==P_){4==t&&(n.o=4,Sr(14),i=!1),Eh(n.j,n.m,null,"[Incomplete Response]");break}if(r==O_){n.o=4,Sr(15),Eh(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Eh(n.j,n.m,r,null),sx(n,r)}ix(n)&&r!=P_&&r!=O_&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Sr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),Ek(t),t.K=!0,Sr(11))):(Eh(n.j,n.m,e,"[Invalid Chunked Response]"),Nl(n),Th(n))}function rx(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?P_:(e=Number(t.substring(e,i)),isNaN(e)?O_:(i+=1)+e>t.length?P_:(t=t.substr(i,e),n.C=i+e,t))}function Sh(n){n.V=Date.now()+n.O,ox(n,n.O)}function ox(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bp(ho(n.gb,n),t)}function F_(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function Th(n){0==n.l.G||n.I||v2(n.l,n)}function Nl(n){F_(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,x_(n.T),uk(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function sx(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||z(e.h,n)))if(!n.J&&z(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;fx(e),ux(e)}Dk(e),Sr(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=Bp(ho(e.cb,e),6e3));if(1>=O(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else $p(e,11)}else if((n.J||e.g==n)&&fx(e),!Yd(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.T=_[0],_=_[1],2==e.G)if("c"==_[0]){e.I=_[1],e.ka=_[2];const b=_[3];null!=b&&(e.ma=b,e.j.info("VER="+e.ma));const x=_[4];null!=x&&(e.Ca=x,e.j.info("SVER="+e.Ca));const M=_[5];null!=M&&"number"==typeof M&&0<M&&(e.J=i=1.5*M,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const H=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var o=i.h;o.g||-1==H.indexOf("spdy")&&-1==H.indexOf("quic")&&-1==H.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(X(o,o.h),o.h=null))}if(i.D){const K=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.za=K,yi(i.F,i.D,K))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var c=n;if((i=e).sa=C2(i,i.H?i.ka:null,i.V),c.J){re(i.h,c);var u=c,p=i.J;p&&u.setTimeout(p),u.B&&(F_(u),Sh(u)),i.g=c}else _2(i);0<e.i.length&&hx(e)}else"stop"!=_[0]&&"close"!=_[0]||$p(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?$p(e,7):Ck(e):"noop"!=_[0]&&e.l&&e.l.wa(_),e.A=0)}T_()}catch{}}function lx(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(kp(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function a0(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(kp(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function ax(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(kp(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Ct=R_.prototype).setTimeout=function(n){this.O=n},Ct.ib=function(n){n=n.target;const t=this.L;t&&3==Zd(n)?t.l():this.La(n)},Ct.La=function(n){try{if(n==this.g)e:{const b=Zd(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||$b||this.g&&(this.h.h||this.g.fa()||u2(this.g)))){this.I||4!=b||7==t||T_(),F_(this);var e=this.g.aa();this.Y=e;t:if(ix(this)){var i=u2(this.g);n="";var r=i.length,o=4==Zd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Nl(this),Th(this);var c="";break t}this.h.i=new Yt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==e,function JE(n,t,e,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.U,b,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,p=this.g;if((u=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yd(u)){var _=u;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,Sr(12),Nl(this),Th(this);break e}Eh(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sx(this,e)}this.P?(s0(this,b,c),$b&&this.i&&3==b&&(XE(this.S,this.T,"tick",this.hb),this.T.start())):(Eh(this.j,this.m,c,null),sx(this,c)),4==b&&Nl(this),this.i&&!this.I&&(4==b?v2(this.l,this):(this.i=!1,Sh(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Sr(12)):(this.o=0,Sr(13)),Nl(this),Th(this)}}}catch{}},Ct.hb=function(){if(this.g){var n=Zd(this.g),t=this.g.fa();this.C<t.length&&(F_(this),s0(this,n,t),this.i&&4!=n&&Sh(this))}},Ct.cancel=function(){this.I=!0,Nl(this)},Ct.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function hk(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(T_(),Sr(17)),Nl(this),this.o=2,Th(this)):ox(this,this.V-n)};var cx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mh(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Mh){this.h=void 0!==t?t:n.h,N_(this,n.j),this.s=n.s,this.g=n.g,L_(this,n.m),this.l=n.l,t=n.i;var e=new U_;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),_k(this,e),this.o=n.o}else n&&(e=String(n).match(cx))?(this.h=!!t,N_(this,e[1]||"",!0),this.s=V_(e[2]||""),this.g=V_(e[3]||"",!0),L_(this,e[4]),this.l=V_(e[5]||"",!0),_k(this,e[6]||"",!0),this.o=V_(e[7]||"")):(this.h=!!t,this.i=new U_(null,this.h))}function Ll(n){return new Mh(n)}function N_(n,t,e){n.j=e?V_(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function L_(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function _k(n,t,e){t instanceof U_?(n.i=t,function m(n,t){t&&!n.j&&(a(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(l(this,i),h(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=B_(t,r2)),n.i=new U_(t,n.h))}function yi(n,t,e){n.i.set(t,e)}function l0(n){return yi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function V_(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function B_(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,yk),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function yk(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Mh.prototype.toString=function(){var n=[],t=this.j;t&&n.push(B_(t,vk,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(B_(t,vk,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(B_(e,"/"==e.charAt(0)?n2:t2,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",B_(e,o2)),n.join("")};var vk=/[#\/\?@]/g,t2=/[#\?:]/g,n2=/[#\?]/g,r2=/[#\?@]/g,o2=/#/g;function U_(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function a(n){n.g||(n.g=new Map,n.h=0,n.i&&function e2(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function l(n,t){a(n),t=f(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function d(n,t){return a(n),t=f(n,t),n.g.has(t)}function h(n,t,e){l(n,t),0<e.length&&(n.i=null,n.g.set(f(n,t),RE(e)),n.h+=e.length)}function f(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function C(n){this.l=n||E,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ga&&Yt.g.Ga()&&Yt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ct=U_.prototype).add=function(n,t){a(this),this.i=null,n=f(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Ct.forEach=function(n,t){a(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Ct.oa=function(){a(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Ct.W=function(n){a(this);let t=[];if("string"==typeof n)d(this,n)&&(t=t.concat(this.g.get(f(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Ct.set=function(n,t){return a(this),this.i=null,d(this,n=f(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Ct.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},Ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=o;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var E=10;function T(n){return!!n.h||!!n.g&&n.g.size>=n.j}function O(n){return n.h?1:n.g?n.g.size:0}function z(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function X(n,t){n.g?n.g.add(t):n.h=t}function re(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function De(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return RE(n.i)}function He(){}function et(){this.g=new He}function _t(n,t,e){const i=e||"";try{lx(n,function(r,o){let c=r;wh(r)&&(c=Xb(r)),t.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Ne(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Ht(n){this.l=n.ac||null,this.j=n.jb||!1}function Un(n,t){Ir.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=vi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}C.prototype.cancel=function(){if(this.i=De(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},He.prototype.stringify=function(n){return Yt.JSON.stringify(n,void 0)},He.prototype.parse=function(n){return Yt.JSON.parse(n,void 0)},qr(Ht,M_),Ht.prototype.g=function(){return new Un(this.l,this.j)},Ht.prototype.i=function(n){return function(){return n}}({}),qr(Un,Ir);var vi=0;function bk(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function c0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,d0(n)}function d0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ct=Un.prototype).open=function(n,t){if(this.readyState!=vi)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,d0(this)},Ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Yt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,c0(this)),this.readyState=vi},Ct.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,d0(this)),this.g&&(this.readyState=3,d0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bk(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Ct.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?c0(this):d0(this),3==this.readyState&&bk(this)}},Ct.Va=function(n){this.g&&(this.response=this.responseText=n,c0(this))},Ct.Ua=function(n){this.g&&(this.response=n,c0(this))},Ct.ga=function(){this.g&&c0(this)},Ct.setRequestHeader=function(n,t){this.v.append(n,t)},Ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Un.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _G=Yt.JSON.parse;function er(n){Ir.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=s2,this.K=this.L=!1}qr(er,Ir);var s2="",yG=/^https?$/i,vG=["POST","PUT"];function a2(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,l2(n),dx(n)}function l2(n){n.D||(n.D=!0,Yr(n,"complete"),Yr(n,"error"))}function c2(n){if(n.h&&typeof Bb<"u"&&(!n.C[1]||4!=Zd(n)||2!=n.aa()))if(n.v&&4==Zd(n))I_(n.Ha,0,n);else if(Yr(n,"readystatechange"),4==Zd(n)){n.h=!1;try{const u=n.aa();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===u){var r=String(n.H).match(cx)[1]||null;if(!r&&Yt.self&&Yt.self.location){var o=Yt.self.location.protocol;r=o.substr(0,o.length-1)}i=!yG.test(r?r.toLowerCase():"")}e=i}if(e)Yr(n,"complete"),Yr(n,"success");else{n.m=6;try{var c=2<Zd(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",l2(n)}}finally{dx(n)}}}function dx(n,t){if(n.g){d2(n);const e=n.g,i=n.C[0]?Ap:null;n.g=null,n.C=null,t||Yr(n,"ready");try{e.onreadystatechange=i}catch{}}}function d2(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function Zd(n){return n.g?n.g.readyState:0}function u2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case s2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function h2(n){let t="";return jE(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function wk(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=h2(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):yi(n,t,e))}function u0(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function f2(n){this.Ca=0,this.i=[],this.j=new t0,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=u0("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=u0("baseRetryDelayMs",5e3,n),this.bb=u0("retryDelaySeedMs",1e4,n),this.$a=u0("forwardChannelMaxRetries",2,n),this.ta=u0("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new C(n&&n.concurrentRequestLimit),this.Fa=new et,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ck(n){if(p2(n),3==n.G){var t=n.U++,e=Ll(n.F);yi(e,"SID",n.I),yi(e,"RID",t),yi(e,"TYPE","terminate"),h0(n,e),(t=new R_(n,n.j,t,void 0)).K=2,t.v=l0(Ll(e)),e=!1,Yt.navigator&&Yt.navigator.sendBeacon&&(e=Yt.navigator.sendBeacon(t.v.toString(),"")),!e&&Yt.Image&&((new Image).src=t.v,e=!0),e||(t.g=D2(t.l,null),t.g.da(t.v)),t.F=Date.now(),Sh(t)}w2(n)}function ux(n){n.g&&(Ek(n),n.g.cancel(),n.g=null)}function p2(n){ux(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),fx(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function hx(n){T(n.h)||n.m||(n.m=!0,ZE(n.Ja,n),n.C=0)}function m2(n,t){var e;e=t?t.m:n.U++;const i=Ll(n.F);yi(i,"SID",n.I),yi(i,"RID",e),yi(i,"AID",n.T),h0(n,i),n.o&&n.s&&wk(i,n.o,n.s),e=new R_(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=g2(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),X(n.h,e),o0(e,i,t)}function h0(n,t){n.ia&&jE(n.ia,function(e,i){yi(t,i,e)}),n.l&&lx({},function(e,i){yi(t,i,e)})}function g2(n,t,e){e=Math.min(n.i.length,e);var i=n.l?ho(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let u=!0;for(let p=0;p<e;p++){let _=r[p].h;const b=r[p].g;if(_-=o,0>_)o=Math.max(0,r[p].h-100),u=!1;else try{_t(b,c,"req"+_+"_")}catch{i&&i(b)}}if(u){i=c.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function _2(n){n.g||n.u||(n.Z=1,ZE(n.Ia,n),n.A=0)}function Dk(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Bp(ho(n.Ia,n),b2(n,n.A)),n.A++,0))}function Ek(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function y2(n){n.g=new R_(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Ll(n.sa);yi(t,"RID","rpc"),yi(t,"SID",n.I),yi(t,"CI",n.L?"0":"1"),yi(t,"AID",n.T),yi(t,"TYPE","xmlhttp"),h0(n,t),n.o&&n.s&&wk(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=l0(Ll(t)),e.s=null,e.P=!0,nx(e,n)}function fx(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function v2(n,t){var e=null;if(n.g==t){fx(n),Ek(n),n.g=null;var i=2}else{if(!z(n.h,t))return;e=t.D,re(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Yr(i=n0(),new tx(i,e)),hx(n)}else _2(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function wG(n,t){return!(O(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Bp(ho(n.Ja,n,t),b2(n,n.C)),n.C++,0)))}(n,t)||2==i&&Dk(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:$p(n,5);break;case 4:$p(n,10);break;case 3:$p(n,6);break;default:$p(n,2)}}function b2(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function $p(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=ho(n.kb,n);e||(e=new Mh("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||N_(e,"https"),l0(e)),function Nt(n,t){const e=new t0;if(Yt.Image){const i=new Image;i.onload=Hb(Ne,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Hb(Ne,e,i,"TestLoadImage: error",!1,t),i.onabort=Hb(Ne,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Hb(Ne,e,i,"TestLoadImage: timeout",!1,t),Yt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Sr(2);n.G=0,n.l&&n.l.va(t),w2(n),p2(n)}function w2(n){if(n.G=0,n.la=[],n.l){const t=De(n.h);(0!=t.length||0!=n.i.length)&&(Rp(n.la,t),Rp(n.la,n.i),n.h.i.length=0,RE(n.i),n.i.length=0),n.l.ua()}}function C2(n,t,e){var i=e instanceof Mh?Ll(e):new Mh(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),L_(i,i.m);else{var r=Yt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Mh(null,void 0);i&&N_(o,i),t&&(o.g=t),r&&L_(o,r),e&&(o.l=e),i=o}return t=n.za,(e=n.D)&&t&&yi(i,e,t),yi(i,"VER",n.ma),h0(n,i),i}function D2(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new er(e&&n.Da&&!n.ra?new Ht({jb:!0}):n.ra)).Ka(n.H),t}function E2(){}function px(){if(Op&&!(10<=Number(zE)))throw Error("Environmental error: no available transport.")}function Js(n,t){Ir.call(this),this.g=new f2(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!Yd(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Yd(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new H_(this)}function x2(n){zp.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function I2(){jp.call(this),this.status=1}function H_(n){this.g=n}(Ct=er.prototype).Ka=function(n){this.L=n},Ct.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ih.g(),this.C=function A_(n){return n.h||(n.h=n.i())}(this.u?this.u:Ih),this.g.onreadystatechange=ho(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void a2(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Yt.FormData&&n instanceof Yt.FormData,!(0<=rk(vG,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of e)this.g.setRequestHeader(o,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{d2(this),0<this.B&&((this.K=function bG(n){return Op&&function ak(){return function ok(n){var t=sk;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=zb(String(Gb)).split("."),e=zb("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",o=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=f_(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||f_(0==r[2].length,0==o[2].length)||f_(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ho(this.qa,this)):this.A=I_(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){a2(this,o)}},Ct.qa=function(){typeof Bb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yr(this,"timeout"),this.abort(8))},Ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yr(this,"complete"),Yr(this,"abort"),dx(this))},Ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dx(this,!0)),er.X.M.call(this)},Ct.Ha=function(){this.s||(this.F||this.v||this.l?c2(this):this.fb())},Ct.fb=function(){c2(this)},Ct.aa=function(){try{return 2<Zd(this)?this.g.status:-1}catch{return-1}},Ct.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ct.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),_G(t)}},Ct.Ea=function(){return this.m},Ct.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ct=f2.prototype).ma=8,Ct.G=1,Ct.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new R_(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=Ko(o),__(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=g2(this,r,t),yi(e=Ll(this.F),"RID",n),yi(e,"CVER",22),this.D&&yi(e,"X-HTTP-Session-Id",this.D),h0(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(h2(o)))+"&"+t:this.o&&wk(e,this.o,o)),X(this.h,r),this.Ya&&yi(e,"TYPE","init"),this.O?(yi(e,"$req",t),yi(e,"SID","null"),r.Z=!0,o0(r,e,null)):o0(r,e,t),this.G=2}}else 3==this.G&&(n?m2(this,n):0==this.i.length||T(this.h)||m2(this))},Ct.Ia=function(){if(this.u=null,y2(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Bp(ho(this.eb,this),n)}},Ct.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Sr(10),ux(this),y2(this))},Ct.cb=function(){null!=this.v&&(this.v=null,ux(this),Dk(this),Sr(19))},Ct.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Sr(2)):(this.j.info("Failed to ping google.com"),Sr(1))},(Ct=E2.prototype).xa=function(){},Ct.wa=function(){},Ct.va=function(){},Ct.ua=function(){},Ct.Ra=function(){},px.prototype.g=function(n,t){return new Js(n,t)},qr(Js,Ir),Js.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Sr(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=C2(n,null,n.V),hx(n)},Js.prototype.close=function(){Ck(this.g)},Js.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Xb(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&hx(t)},Js.prototype.M=function(){this.g.l=null,delete this.j,Ck(this.g),delete this.g,Js.X.M.call(this)},qr(x2,zp),qr(I2,jp),qr(H_,E2),H_.prototype.xa=function(){Yr(this.g,"a")},H_.prototype.wa=function(n){Yr(this.g,new x2(n))},H_.prototype.va=function(n){Yr(this.g,new I2)},H_.prototype.ua=function(){Yr(this.g,"b")},px.prototype.createWebChannel=px.prototype.g,Js.prototype.send=Js.prototype.u,Js.prototype.open=Js.prototype.m,Js.prototype.close=Js.prototype.close,Up.NO_ERROR=0,Up.TIMEOUT=8,Up.HTTP_ERROR=6,kc.COMPLETE="complete",k_.EventType=Hp,Hp.OPEN="a",Hp.CLOSE="b",Hp.ERROR="c",Hp.MESSAGE="d",Ir.prototype.listen=Ir.prototype.N,er.prototype.listenOnce=er.prototype.O,er.prototype.getLastError=er.prototype.Oa,er.prototype.getLastErrorCode=er.prototype.Ea,er.prototype.getStatus=er.prototype.aa,er.prototype.getResponseJson=er.prototype.Sa,er.prototype.getResponseText=er.prototype.fa,er.prototype.send=er.prototype.da,er.prototype.setWithCredentials=er.prototype.Ka;var CG=Fl.createWebChannelTransport=function(){return new px},DG=Fl.getStatEventTarget=function(){return n0()},xk=Fl.ErrorCode=Up,EG=Fl.EventType=kc,xG=Fl.Event=xh,S2=Fl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},IG=Fl.FetchXmlHttpFactory=Ht,mx=Fl.WebChannel=k_,SG=Fl.XhrIo=er;const T2="@firebase/firestore";class Zr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let z_="9.17.2";const Ah=new Qs.Yd("@firebase/firestore");function Ik(){return Ah.logLevel}function Ue(n,...t){if(Ah.logLevel<=Qs.in.DEBUG){const e=t.map(Sk);Ah.debug(`Firestore (${z_}): ${n}`,...e)}}function lr(n,...t){if(Ah.logLevel<=Qs.in.ERROR){const e=t.map(Sk);Ah.error(`Firestore (${z_}): ${n}`,...e)}}function Gp(n,...t){if(Ah.logLevel<=Qs.in.WARN){const e=t.map(Sk);Ah.warn(`Firestore (${z_}): ${n}`,...e)}}function Sk(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function gt(n="Unexpected state"){const t=`FIRESTORE (${z_}) INTERNAL ASSERTION FAILED: `+n;throw lr(t),new Error(t)}function St(n,t){n||gt()}function ot(n,t){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends te.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class M2{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class AG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Zr.UNAUTHENTICATED))}shutdown(){}}class kG{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class RG{constructor(t){this.t=t,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let c=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Nr,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const _=c;t.enqueueRetryable((0,we.Z)(function*(){yield _.promise,yield o(i.currentUser)}))},p=_=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Nr)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St("string"==typeof i.accessToken),new M2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return St(null===t||"string"==typeof t),new Zr(t)}}class OG{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Zr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(St(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class PG{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new OG(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FG{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=o=>{null!=o.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.A;return this.A=o.token,Ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(St("string"==typeof e.token),this.A=e.token,new A2(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function NG(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class k2{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=NG(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function tn(n,t){return n<t?-1:n>t?1:0}function j_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function R2(n){return n+"\0"}class Ti{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Le(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Le(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Le(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Le(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ti.fromMillis(Date.now())}static fromDate(t){return Ti.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ti(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?tn(this.nanoseconds,t.nanoseconds):tn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Ti(0,0))}static max(){return new Tt(new Ti(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class f0{constructor(t,e,i){void 0===e?e=0:e>t.length&&gt(),void 0===i?i=t.length-e:i>t.length-e&&gt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===f0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof f0?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class In extends f0{construct(t,e,i){return new In(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Le(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new In(e)}static emptyPath(){return new In([])}}const LG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends f0{construct(t,e,i){return new tr(t,e,i)}static isValidIdentifier(t){return LG.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Le(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new Le(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Le(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===u?(c=!c,r++):"."!==u||c?(i+=u,r++):(o(),r++)}if(o(),c)throw new Le(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tr(e)}static emptyPath(){return new tr([])}}class tt{constructor(t){this.path=t}static fromPath(t){return new tt(In.fromString(t))}static fromName(t){return new tt(In.fromString(t).popFirst(5))}static empty(){return new tt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===In.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return In.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tt(new In(t.slice()))}}class gx{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Tk(n){return n.fields.find(t=>2===t.kind)}function Wp(n){return n.fields.filter(t=>2!==t.kind)}gx.UNKNOWN_ID=-1;class _x{constructor(t,e){this.fieldPath=t,this.kind=e}}class p0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new p0(0,ea.min())}}function O2(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Tt.fromTimestamp(1e9===i?new Ti(e+1,0):new Ti(e,i));return new ea(r,tt.empty(),t)}function P2(n){return new ea(n.readTime,n.key,-1)}class ea{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ea(Tt.min(),tt.empty(),-1)}static max(){return new ea(Tt.max(),tt.empty(),-1)}}function Mk(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=tt.comparator(n.documentKey,t.documentKey),0!==e?e:tn(n.largestBatchId,t.largestBatchId))}const F2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function kh(n){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,we.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==F2)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),Ak.apply(this,arguments)}class ue{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ue((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ue?e:ue.resolve(e)}catch(e){return ue.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ue.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ue.reject(e)}static resolve(t){return new ue((e,i)=>{e(t)})}static reject(t){return new ue((e,i)=>{i(t)})}static waitFor(t){return new ue((e,i)=>{let r=0,o=0,c=!1;t.forEach(u=>{++r,u.next(()=>{++o,c&&o===r&&e()},p=>i(p))}),c=!0,o===r&&e()})}static or(t){let e=ue.resolve(!1);for(const i of t)e=e.next(r=>r?ue.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ue((i,r)=>{const o=t.length,c=new Array(o);let u=0;for(let p=0;p<o;p++){const _=p;e(t[_]).next(b=>{c[_]=b,++u,u===o&&i(c)},b=>r(b))}})}static doWhile(t,e){return new ue((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class yx{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Nr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new m0(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=kk(i.target.error);this.v.reject(new m0(t,r))}}static open(t,e,i,r){try{return new yx(e,t.transaction(r,i))}catch(o){throw new m0(e,o)}}get P(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new HG(e)}}class Vl{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Vl.D((0,te.z$)())&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ue("SimpleDb","Removing database:",t),qp(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,te.hl)())return!1;if(Vl.N())return!0;const t=(0,te.z$)(),e=Vl.D(t),i=0<e&&e<10,r=Vl.k(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,we.Z)(function*(){return e.db||(Ue("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new m0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const u=c.target.error;r("VersionError"===u.name?new Le(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new Le(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new m0(t,u))},o.onupgradeneeded=c=>{Ue("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.S.$(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,we.Z)(function*(){const c="readonly"===e;let u=0;for(;;){++u;try{o.db=yield o.F(t);const p=yx.open(o.db,t,c?"readonly":"readwrite",i),_=r(p).next(b=>(p.V(),b)).catch(b=>(p.abort(b),ue.reject(b))).toPromise();return _.catch(()=>{}),yield p.P,_}catch(p){const _=p,b="FirebaseError"!==_.name&&u<3;if(Ue("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),o.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class UG{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return qp(this.q.delete())}}class m0 extends Le{constructor(t,e){super(fe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Rh(n){return"IndexedDbTransactionError"===n.name}class HG{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ue("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),qp(i)}add(t){return Ue("SimpleDb","ADD",this.store.name,t,t),qp(this.store.add(t))}get(t){return qp(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ue("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ue("SimpleDb","DELETE",this.store.name,t),qp(this.store.delete(t))}count(){return Ue("SimpleDb","COUNT",this.store.name),qp(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(c,u)=>{o.push(u)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ue((o,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{o(u.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ue((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(t,e){Ue("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Z=!1;const r=this.cursor(i);return this.H(r,(o,c,u)=>u.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new ue((i,r)=>{e.onerror=o=>{const c=kk(o.target.error);r(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(u=>{u?c.continue():i()}):i()}})}H(t,e){const i=[];return new ue((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const u=c.target.result;if(!u)return void r();const p=new UG(u),_=e(u.primaryKey,u.value,p);if(_ instanceof ue){const b=_.catch(x=>(p.done(),ue.reject(x)));i.push(b)}p.isDone?r():null===p.G?u.continue():u.continue(p.G)}}).next(()=>ue.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Z?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function qp(n){return new ue((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=kk(i.target.error);e(r)}})}let L2=!1;function kk(n){const t=Vl.D((0,te.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return L2||(L2=!0,setTimeout(()=>{throw i},0)),i}}return n}class zG{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Ue("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,we.Z)(function*(){e.task=null;try{Ue("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Rh(i)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield kh(i)}yield e.nt(6e4)}))}}class jG{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,we.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,o=!0;return ue.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return Ue("IndexBackiller",`Processing collection: ${c}`),this.rt(t,c,r).next(u=>{r-=u,i.add(c)});o=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.ot(r,o)).next(u=>(Ue("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>c.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,o)=>{const c=P2(o);Mk(c,i)>0&&(i=c)}),new ea(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ta=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}return n.at=-1,n})();class WG{constructor(t,e,i,r,o,c,u,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.useFetchStreams=p}}class Oh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Oh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Oh&&t.projectId===this.projectId&&t.database===this.database}}function V2(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Yp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function B2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function g0(n){return null==n}function _0(n){return 0===n&&1/n==-1/0}function U2(n){return"number"==typeof n&&Number.isInteger(n)&&!_0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class qG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw r instanceof DOMException?new qG("Invalid base64 string: "+r):r}}(t);return new Lr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Lr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return tn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Lr.EMPTY_BYTE_STRING=new Lr("");const ZG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ph(n){if(St(!!n),"string"==typeof n){let t=0;const e=ZG.exec(n);if(St(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:nr(n.seconds),nanos:nr(n.nanos)}}function nr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Zp(n){return"string"==typeof n?Lr.fromBase64String(n):Lr.fromUint8Array(n)}function Ok(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function H2(n){const t=n.mapValue.fields.__previous_value__;return Ok(t)?H2(t):t}function y0(n){const t=Ph(n.mapValue.fields.__local_write_time__.timestampValue);return new Ti(t.seconds,t.nanos)}const Fh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vx={nullValue:"NULL_VALUE"};function Kp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ok(n)?4:G2(n)?9007199254740991:10:gt()}function Rc(n,t){if(n===t)return!0;const e=Kp(n);if(e!==Kp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return y0(n).isEqual(y0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Ph(i.timestampValue),c=Ph(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Zp(n.bytesValue).isEqual(Zp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return nr(i.geoPointValue.latitude)===nr(r.geoPointValue.latitude)&&nr(i.geoPointValue.longitude)===nr(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return nr(i.integerValue)===nr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=nr(i.doubleValue),c=nr(r.doubleValue);return o===c?_0(o)===_0(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return j_(n.arrayValue.values||[],t.arrayValue.values||[],Rc);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(V2(o)!==V2(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===c[u]||!Rc(o[u],c[u])))return!1;return!0}(n,t);default:return gt()}var r}function v0(n,t){return void 0!==(n.values||[]).find(e=>Rc(e,t))}function Nh(n,t){if(n===t)return 0;const e=Kp(n),i=Kp(t);if(e!==i)return tn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return tn(n.booleanValue,t.booleanValue);case 2:return function(r,o){const c=nr(r.integerValue||r.doubleValue),u=nr(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,t);case 3:return z2(n.timestampValue,t.timestampValue);case 4:return z2(y0(n),y0(t));case 5:return tn(n.stringValue,t.stringValue);case 6:return function(r,o){const c=Zp(r),u=Zp(o);return c.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const c=r.split("/"),u=o.split("/");for(let p=0;p<c.length&&p<u.length;p++){const _=tn(c[p],u[p]);if(0!==_)return _}return tn(c.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const c=tn(nr(r.latitude),nr(o.latitude));return 0!==c?c:tn(nr(r.longitude),nr(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const c=r.values||[],u=o.values||[];for(let p=0;p<c.length&&p<u.length;++p){const _=Nh(c[p],u[p]);if(_)return _}return tn(c.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Fh.mapValue&&o===Fh.mapValue)return 0;if(r===Fh.mapValue)return 1;if(o===Fh.mapValue)return-1;const c=r.fields||{},u=Object.keys(c),p=o.fields||{},_=Object.keys(p);u.sort(),_.sort();for(let b=0;b<u.length&&b<_.length;++b){const x=tn(u[b],_[b]);if(0!==x)return x;const M=Nh(c[u[b]],p[_[b]]);if(0!==M)return M}return tn(u.length,_.length)}(n.mapValue,t.mapValue);default:throw gt()}}function z2(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return tn(n,t);const e=Ph(n),i=Ph(t),r=tn(e.seconds,i.seconds);return 0!==r?r:tn(e.nanos,i.nanos)}function $_(n){return Pk(n)}function Pk(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ph(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Zp(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=Pk(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const u of r)c?c=!1:o+=",",o+=`${u}:${Pk(i.fields[u])}`;return o+"}"}(n.mapValue):gt();var t}function Qp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Fk(n){return!!n&&"integerValue"in n}function b0(n){return!!n&&"arrayValue"in n}function j2(n){return!!n&&"nullValue"in n}function $2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bx(n){return!!n&&"mapValue"in n}function w0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Yp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=w0(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=w0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function G2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function KG(n){return"nullValue"in n?vx:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qp(Oh.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gt()}function QG(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qp(Oh.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Fh:gt()}function W2(n,t){const e=Nh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function q2(n,t){const e=Nh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Lh{constructor(t,e){this.position=t,this.inclusive=e}}function Y2(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(i=o.field.isKeyField()?tt.comparator(tt.fromName(c.referenceValue),e.key):Nh(c,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Z2(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Rc(n.position[e],t.position[e]))return!1;return!0}class K2{}class yn extends K2{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new XG(t,e,i):"array-contains"===e?new t4(t,i):"in"===e?new nV(t,i):"not-in"===e?new n4(t,i):"array-contains-any"===e?new r4(t,i):new yn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new JG(t,i):new e4(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Nh(e,this.value)):null!==e&&Kp(this.value)===Kp(e)&&this.matchesComparison(Nh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Hn extends K2{constructor(t,e){super(),this.filters=t,this.op=e,this.ft=null}static create(t,e){return new Hn(t,e)}matches(t){return G_(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.dt(e=>e.isInequality());return null!==t?t.field:null}dt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function G_(n){return"and"===n.op}function Nk(n){return"or"===n.op}function Lk(n){return Q2(n)&&G_(n)}function Q2(n){for(const t of n.filters)if(t instanceof Hn)return!1;return!0}function Vk(n){if(n instanceof yn)return n.field.canonicalString()+n.op.toString()+$_(n.value);if(Lk(n))return n.filters.map(t=>Vk(t)).join(",");{const t=n.filters.map(e=>Vk(e)).join(",");return`${n.op}(${t})`}}function X2(n,t){return n instanceof yn?(e=n,(i=t)instanceof yn&&e.op===i.op&&e.field.isEqual(i.field)&&Rc(e.value,i.value)):n instanceof Hn?function(e,i){return i instanceof Hn&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,c)=>r&&X2(o,i.filters[c]),!0)}(n,t):void gt();var e,i}function J2(n,t){const e=n.filters.concat(t);return Hn.create(e,n.op)}function eV(n){return n instanceof yn?`${(t=n).field.canonicalString()} ${t.op} ${$_(t.value)}`:n instanceof Hn?function(t){return t.op.toString()+" {"+t.getFilters().map(eV).join(" ,")+"}"}(n):"Filter";var t}class XG extends yn{constructor(t,e,i){super(t,e,i),this.key=tt.fromName(i.referenceValue)}matches(t){const e=tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class JG extends yn{constructor(t,e){super(t,"in",e),this.keys=tV(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class e4 extends yn{constructor(t,e){super(t,"not-in",e),this.keys=tV(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function tV(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>tt.fromName(i.referenceValue))}class t4 extends yn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return b0(e)&&v0(e.arrayValue,this.value)}}class nV extends yn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&v0(this.value.arrayValue,e)}}class n4 extends yn{constructor(t,e){super(t,"not-in",e)}matches(t){if(v0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!v0(this.value.arrayValue,e)}}class r4 extends yn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!b0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>v0(this.value.arrayValue,i))}}class W_{constructor(t,e="asc"){this.field=t,this.dir=e}}function o4(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class ir{constructor(t,e){this.comparator=t,this.root=e||mo.EMPTY}insert(t,e){return new ir(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,mo.BLACK,null,null))}remove(t){return new ir(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wx(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wx(this.root,t,this.comparator,!1)}getReverseIterator(){return new wx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wx(this.root,t,this.comparator,!0)}}class wx{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mo{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??mo.RED,this.left=r??mo.EMPTY,this.right=o??mo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new mo(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return mo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const t=this.left.check();if(t!==this.right.check())throw gt();return t+(this.isRed()?0:1)}}mo.EMPTY=null,mo.RED=!0,mo.BLACK=!1,mo.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new mo(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(t){this.comparator=t,this.data=new ir(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new iV(this.data.getIterator())}getIteratorFrom(t){return new iV(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof $n)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $n(this.comparator);return e.data=t,e}}class iV{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function q_(n){return n.hasNext()?n.getNext():void 0}class Es{constructor(t){this.fields=t,t.sort(tr.comparator)}static empty(){return new Es([])}unionWith(t){let e=new $n(tr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Es(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return j_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Kr{constructor(t){this.value=t}static empty(){return new Kr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!bx(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=w0(e)}setAll(t){let e=tr.emptyPath(),i={},r=[];t.forEach((c,u)=>{if(!e.isImmediateParentOf(u)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=u.popLast()}c?i[u.lastSegment()]=w0(c):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());bx(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Rc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];bx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Yp(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Kr(w0(this.value))}}function rV(n){const t=[];return Yp(n.fields,(e,i)=>{const r=new tr([e]);if(bx(i)){const o=rV(i.mapValue).fields;if(0===o.length)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new Es(t)}class bi{constructor(t,e,i,r,o,c,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(t){return new bi(t,0,Tt.min(),Tt.min(),Tt.min(),Kr.empty(),0)}static newFoundDocument(t,e,i,r){return new bi(t,1,e,Tt.min(),i,r,0)}static newNoDocument(t,e){return new bi(t,2,e,Tt.min(),Tt.min(),Kr.empty(),0)}static newUnknownDocument(t,e){return new bi(t,3,e,Tt.min(),Tt.min(),Kr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof bi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class s4{constructor(t,e=null,i=[],r=[],o=null,c=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=u,this._t=null}}function Bk(n,t=null,e=[],i=[],r=null,o=null,c=null){return new s4(n,t,e,i,r,o,c)}function Xp(n){const t=ot(n);if(null===t._t){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Vk(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),g0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>$_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>$_(i)).join(",")),t._t=e}return t._t}function C0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!o4(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!X2(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Z2(n.startAt,t.startAt)&&Z2(n.endAt,t.endAt)}function Cx(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Dx(n,t){return n.filters.filter(e=>e instanceof yn&&e.field.isEqual(t))}function oV(n,t,e){let i=vx,r=!0;for(const o of Dx(n,t)){let c=vx,u=!0;switch(o.op){case"<":case"<=":c=KG(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,u=!1;break;case"!=":case"not-in":c=vx}W2({value:i,inclusive:r},{value:c,inclusive:u})<0&&(i=c,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];W2({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function sV(n,t,e){let i=Fh,r=!0;for(const o of Dx(n,t)){let c=Fh,u=!0;switch(o.op){case">=":case">":c=QG(o.value),u=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,u=!1;break;case"!=":case"not-in":c=Fh}q2({value:i,inclusive:r},{value:c,inclusive:u})>0&&(i=c,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];q2({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class Kd{constructor(t,e=null,i=[],r=[],o=null,c="F",u=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=p,this.wt=null,this.gt=null}}function aV(n,t,e,i,r,o,c,u){return new Kd(n,t,e,i,r,o,c,u)}function Y_(n){return new Kd(n)}function lV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Uk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ex(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Hk(n){return null!==n.collectionGroup}function Jp(n){const t=ot(n);if(null===t.wt){t.wt=[];const e=Ex(t),i=Uk(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new W_(e)),t.wt.push(new W_(tr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new W_(tr.keyField(),o))}}}return t.wt}function Qo(n){const t=ot(n);if(!t.gt)if("F"===t.limitType)t.gt=Bk(t.path,t.collectionGroup,Jp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Jp(t))e.push(new W_(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Lh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lh(t.startAt.position,t.startAt.inclusive):null;t.gt=Bk(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.gt}function zk(n,t){t.getFirstInequalityField(),Ex(n);const e=n.filters.concat([t]);return new Kd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function xx(n,t,e){return new Kd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function D0(n,t){return C0(Qo(n),Qo(t))&&n.limitType===t.limitType}function cV(n){return`${Xp(Qo(n))}|lt:${n.limitType}`}function jk(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>eV(i)).join(", ")}]`),g0(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>$_(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>$_(i)).join(",")),`Target(${e})`}(Qo(n))}; limitType=${n.limitType})`}function E0(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):tt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Jp(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,c){const u=Y2(r,o,c);return r.inclusive?u<=0:u<0}(e.startAt,Jp(e),i)||e.endAt&&!function(r,o,c){const u=Y2(r,o,c);return r.inclusive?u>=0:u>0}(e.endAt,Jp(e),i)));var e,i}function dV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uV(n){return(t,e)=>{let i=!1;for(const r of Jp(n)){const o=a4(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function a4(n,t,e){const i=n.field.isKeyField()?tt.comparator(t.key,e.key):function(r,o,c){const u=o.data.field(r),p=c.data.field(r);return null!==u&&null!==p?Nh(u,p):gt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return gt()}}function hV(n,t){if(n.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_0(t)?"-0":t}}function fV(n){return{integerValue:""+n}}function pV(n,t){return U2(t)?fV(t):hV(n,t)}class Ix{constructor(){this._=void 0}}function l4(n,t,e){return n instanceof Z_?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof em?gV(n,t):n instanceof tm?_V(n,t):function(i,r){const o=mV(i,r),c=yV(o)+yV(i.It);return Fk(o)&&Fk(i.It)?fV(c):hV(i.Tt,c)}(n,t)}function c4(n,t,e){return n instanceof em?gV(n,t):n instanceof tm?_V(n,t):e}function mV(n,t){return n instanceof K_?Fk(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Z_ extends Ix{}class em extends Ix{constructor(t){super(),this.elements=t}}function gV(n,t){const e=vV(t);for(const i of n.elements)e.some(r=>Rc(r,i))||e.push(i);return{arrayValue:{values:e}}}class tm extends Ix{constructor(t){super(),this.elements=t}}function _V(n,t){let e=vV(t);for(const i of n.elements)e=e.filter(r=>!Rc(r,i));return{arrayValue:{values:e}}}class K_ extends Ix{constructor(t,e){super(),this.Tt=t,this.It=e}}function yV(n){return nr(n.integerValue||n.doubleValue)}function vV(n){return b0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class x0{constructor(t,e){this.field=t,this.transform=e}}class u4{constructor(t,e){this.version=t,this.transformResults=e}}class Mi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Mi}static exists(t){return new Mi(void 0,t)}static updateTime(t){return new Mi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sx(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Tx{}function bV(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new X_(n.key,Mi.none()):new Q_(n.key,n.data,Mi.none());{const e=n.data,i=Kr.empty();let r=new $n(tr.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);null===c&&o.length>1&&(o=o.popLast(),c=e.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new Qd(n.key,i,new Es(r.toArray()),Mi.none())}}function h4(n,t,e){n instanceof Q_?function(i,r,o){const c=i.value.clone(),u=DV(i.fieldTransforms,r,o.transformResults);c.setAll(u),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Qd?function(i,r,o){if(!Sx(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=DV(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(CV(i)),u.setAll(c),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function I0(n,t,e,i){return n instanceof Q_?function(r,o,c,u){if(!Sx(r.precondition,o))return c;const p=r.value.clone(),_=EV(r.fieldTransforms,u,o);return p.setAll(_),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Qd?function(r,o,c,u){if(!Sx(r.precondition,o))return c;const p=EV(r.fieldTransforms,u,o),_=o.data;return _.setAll(CV(r)),_.setAll(p),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(c=e,Sx(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function f4(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=mV(i.transform,r||null);null!=o&&(null===e&&(e=Kr.empty()),e.set(i.field,o))}return e||null}function wV(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&j_(e,i,(r,o)=>function d4(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof em&&i instanceof em||e instanceof tm&&i instanceof tm?j_(e.elements,i.elements,Rc):e instanceof K_&&i instanceof K_?Rc(e.It,i.It):e instanceof Z_&&i instanceof Z_);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Q_ extends Tx{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qd extends Tx{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function CV(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function DV(n,t,e){const i=new Map;St(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,u=t.data.field(o.field);i.set(o.field,c4(c,u,e[r]))}return i}function EV(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,l4(o,c,t))}return i}class X_ extends Tx{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $k extends Tx{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class p4{constructor(t){this.count=t}}var Tr,Sn;function xV(n){switch(n){default:return gt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function IV(n){if(void 0===n)return lr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Tr.OK:return fe.OK;case Tr.CANCELLED:return fe.CANCELLED;case Tr.UNKNOWN:return fe.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return fe.INTERNAL;case Tr.UNAVAILABLE:return fe.UNAVAILABLE;case Tr.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Tr.NOT_FOUND:return fe.NOT_FOUND;case Tr.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Tr.ABORTED:return fe.ABORTED;case Tr.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Tr.DATA_LOSS:return fe.DATA_LOSS;default:return gt()}}(Sn=Tr||(Tr={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";class Vh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Yp(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return B2(this.inner)}size(){return this.innerSize}}const m4=new ir(tt.comparator);function xs(){return m4}const SV=new ir(tt.comparator);function S0(...n){let t=SV;for(const e of n)t=t.insert(e.key,e);return t}function TV(n){let t=SV;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Oc(){return T0()}function MV(){return T0()}function T0(){return new Vh(n=>n.toString(),(n,t)=>n.isEqual(t))}const g4=new ir(tt.comparator),_4=new $n(tt.comparator);function an(...n){let t=_4;for(const e of n)t=t.add(e);return t}const y4=new $n(tn);function Mx(){return y4}class M0{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,A0.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new M0(Tt.min(),r,Mx(),xs(),an())}}class A0{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new A0(i,e,an(),an(),an())}}class Ax{constructor(t,e,i,r){this.Et=t,this.removedTargetIds=e,this.key=i,this.At=r}}class AV{constructor(t,e){this.targetId=t,this.Rt=e}}class kV{constructor(t,e,i=Lr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class RV{constructor(){this.bt=0,this.vt=PV(),this.Pt=Lr.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return 0!==this.bt}get Ct(){return this.St}xt(t){t.approximateByteSize()>0&&(this.St=!0,this.Pt=t)}Nt(){let t=an(),e=an(),i=an();return this.vt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:gt()}}),new A0(this.Pt,this.Vt,t,e,i)}kt(){this.St=!1,this.vt=PV()}Ot(t,e){this.St=!0,this.vt=this.vt.insert(t,e)}Mt(t){this.St=!0,this.vt=this.vt.remove(t)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class v4{constructor(t){this.Lt=t,this.qt=new Map,this.Ut=xs(),this.Kt=OV(),this.Gt=new $n(tn)}Qt(t){for(const e of t.Et)t.At&&t.At.isFoundDocument()?this.jt(e,t.At):this.zt(e,t.key,t.At);for(const e of t.removedTargetIds)this.zt(e,t.key,t.At)}Wt(t){this.forEachTarget(t,e=>{const i=this.Ht(e);switch(t.state){case 0:this.Jt(e)&&i.xt(t.resumeToken);break;case 1:i.$t(),i.Dt||i.kt(),i.xt(t.resumeToken);break;case 2:i.$t(),i.Dt||this.removeTarget(e);break;case 3:this.Jt(e)&&(i.Bt(),i.xt(t.resumeToken));break;case 4:this.Jt(e)&&(this.Yt(e),i.xt(t.resumeToken));break;default:gt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qt.forEach((i,r)=>{this.Jt(r)&&e(r)})}Zt(t){const e=t.targetId,i=t.Rt.count,r=this.Xt(e);if(r){const o=r.target;if(Cx(o))if(0===i){const c=new tt(o.path);this.zt(e,c,bi.newNoDocument(c,Tt.min()))}else St(1===i);else this.te(e)!==i&&(this.Yt(e),this.Gt=this.Gt.add(e))}}ee(t){const e=new Map;this.qt.forEach((o,c)=>{const u=this.Xt(c);if(u){if(o.current&&Cx(u.target)){const p=new tt(u.target.path);null!==this.Ut.get(p)||this.ne(c,p)||this.zt(c,p,bi.newNoDocument(p,t))}o.Ct&&(e.set(c,o.Nt()),o.kt())}});let i=an();this.Kt.forEach((o,c)=>{let u=!0;c.forEachWhile(p=>{const _=this.Xt(p);return!_||2===_.purpose||(u=!1,!1)}),u&&(i=i.add(o))}),this.Ut.forEach((o,c)=>c.setReadTime(t));const r=new M0(t,e,this.Gt,this.Ut,i);return this.Ut=xs(),this.Kt=OV(),this.Gt=new $n(tn),r}jt(t,e){if(!this.Jt(t))return;const i=this.ne(t,e.key)?2:0;this.Ht(t).Ot(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.Kt=this.Kt.insert(e.key,this.se(e.key).add(t))}zt(t,e,i){if(!this.Jt(t))return;const r=this.Ht(t);this.ne(t,e)?r.Ot(e,1):r.Mt(e),this.Kt=this.Kt.insert(e,this.se(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.qt.delete(t)}te(t){const e=this.Ht(t).Nt();return this.Lt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ft(t){this.Ht(t).Ft()}Ht(t){let e=this.qt.get(t);return e||(e=new RV,this.qt.set(t,e)),e}se(t){let e=this.Kt.get(t);return e||(e=new $n(tn),this.Kt=this.Kt.insert(t,e)),e}Jt(t){const e=null!==this.Xt(t);return e||Ue("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.qt.get(t);return e&&e.Dt?null:this.Lt.ie(t)}Yt(t){this.qt.set(t,new RV),this.Lt.getRemoteKeysForTarget(t).forEach(e=>{this.zt(t,e,null)})}ne(t,e){return this.Lt.getRemoteKeysForTarget(t).has(e)}}function OV(){return new ir(tt.comparator)}function PV(){return new ir(tt.comparator)}const b4={asc:"ASCENDING",desc:"DESCENDING"},w4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C4={and:"AND",or:"OR"};class D4{constructor(t,e){this.databaseId=t,this.yt=e}}function J_(n,t){return n.yt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FV(n,t){return n.yt?t.toBase64():t.toUint8Array()}function E4(n,t){return J_(n,t.toTimestamp())}function cr(n){return St(!!n),Tt.fromTimestamp(function(t){const e=Ph(t);return new Ti(e.seconds,e.nanos)}(n))}function Gk(n,t){return(e=n,new In(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function NV(n){const t=In.fromString(n);return St(GV(t)),t}function k0(n,t){return Gk(n.databaseId,t.path)}function Pc(n,t){const e=NV(t);if(e.get(1)!==n.databaseId.projectId)throw new Le(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Le(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new tt(VV(e))}function Wk(n,t){return Gk(n.databaseId,t)}function LV(n){const t=NV(n);return 4===t.length?In.emptyPath():VV(t)}function R0(n){return new In(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VV(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function BV(n,t,e){return{name:k0(n,t),fields:e.value.mapValue.fields}}function UV(n,t,e){const i=Pc(n,t.name),r=cr(t.updateTime),o=t.createTime?cr(t.createTime):Tt.min(),c=new Kr({mapValue:{fields:t.fields}}),u=bi.newFoundDocument(i,r,o,c);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function O0(n,t){let e;if(t instanceof Q_)e={update:BV(n,t.key,t.value)};else if(t instanceof X_)e={delete:k0(n,t.key)};else if(t instanceof Qd)e={update:BV(n,t.key,t.data),updateMask:R4(t.fieldMask)};else{if(!(t instanceof $k))return gt();e={verify:k0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof Z_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof em)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof tm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof K_)return{fieldPath:o.field.canonicalString(),increment:c.It};throw gt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:E4(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:gt()),e;var r}function qk(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Mi.updateTime(cr(r.updateTime)):void 0!==r.exists?Mi.exists(r.exists):Mi.none():Mi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let u=null;"setToServerValue"in c?(St("REQUEST_TIME"===c.setToServerValue),u=new Z_):"appendMissingElements"in c?u=new em(c.appendMissingElements.values||[]):"removeAllFromArray"in c?u=new tm(c.removeAllFromArray.values||[]):"increment"in c?u=new K_(o,c.increment):gt();const p=tr.fromServerFormat(c.fieldPath);return new x0(p,u)}(n,r)):[];var r;if(t.update){const r=Pc(n,t.update.name),o=new Kr({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Es((t.updateMask.fieldPaths||[]).map(_=>tr.fromServerFormat(_)));return new Qd(r,o,c,e,i)}return new Q_(r,o,e,i)}if(t.delete){const r=Pc(n,t.delete);return new X_(r,e)}if(t.verify){const r=Pc(n,t.verify);return new $k(r,e)}return gt()}function HV(n,t){return{documents:[Wk(n,t.path)]}}function Yk(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Wk(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Wk(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return $V(Hn.create(p,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(p){if(0!==p.length)return p.map(_=>{return{field:Bh((b=_).field),direction:M4(b.dir)};var b})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=(_=t.limit,n.yt||g0(_)?_:{value:_});var _,u,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function zV(n){let t=LV(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){St(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let o=[];e.where&&(o=function(b){const x=jV(b);return x instanceof Hn&&Lk(x)?x.getFilters():[x]}(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(b=>{return new W_(ey((x=b).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let u=null;e.limit&&(u=function(b){let x;return x="object"==typeof b?b.value:b,g0(x)?null:x}(e.limit));let p=null;var b;e.startAt&&(p=new Lh((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new Lh(b.values||[],!b.before)}(e.endAt)),aV(t,r,c,o,u,"F",p,_)}function jV(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ey(t.unaryFilter.field);return yn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=ey(t.unaryFilter.field);return yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ey(t.unaryFilter.field);return yn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ey(t.unaryFilter.field);return yn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(n):void 0!==n.fieldFilter?yn.create(ey((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Hn.create(t.compositeFilter.filters.map(e=>jV(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return gt()}}(t.compositeFilter.op))}(n):gt();var t}function M4(n){return b4[n]}function A4(n){return w4[n]}function k4(n){return C4[n]}function Bh(n){return{fieldPath:n.canonicalString()}}function ey(n){return tr.fromServerFormat(n.fieldPath)}function $V(n){return n instanceof yn?function(t){if("=="===t.op){if($2(t.value))return{unaryFilter:{field:Bh(t.field),op:"IS_NAN"}};if(j2(t.value))return{unaryFilter:{field:Bh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if($2(t.value))return{unaryFilter:{field:Bh(t.field),op:"IS_NOT_NAN"}};if(j2(t.value))return{unaryFilter:{field:Bh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bh(t.field),op:A4(t.op),value:t.value}}}(n):n instanceof Hn?function(t){const e=t.getFilters().map(i=>$V(i));return 1===e.length?e[0]:{compositeFilter:{op:k4(t.op),filters:e}}}(n):gt()}function R4(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function GV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Xo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=WV(t)),t=O4(n.get(e),t);return WV(t)}function O4(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function WV(n){return n+"\x01\x01"}function Fc(n){const t=n.length;if(St(t>=2),2===t)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),In.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&gt(),n.charAt(c+1)){case"\x01":const u=n.substring(o,c);let p;0===r.length?p=u:(r+=u,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:gt()}o=c+2}return new In(i)}const qV=["userId","batchId"];function kx(n,t){return[n,Xo(t)]}function YV(n,t,e){return[n,Xo(t),e]}const P4={},F4=["prefixPath","collectionGroup","readTime","documentId"],N4=["prefixPath","collectionGroup","documentId"],L4=["collectionGroup","readTime","prefixPath","documentId"],V4=["canonicalId","targetId"],B4=["targetId","path"],U4=["path","targetId"],H4=["collectionId","parent"],z4=["indexId","uid"],j4=["uid","sequenceNumber"],$4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],G4=["indexId","uid","orderedDocumentKey"],W4=["userId","collectionPath","documentId"],q4=["userId","collectionPath","largestBatchId"],Y4=["userId","collectionGroup","largestBatchId"],ZV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Z4=[...ZV,"documentOverlays"],KV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QV=KV,K4=[...QV,"indexConfiguration","indexState","indexEntries"];class Zk extends N2{constructor(t,e){super(),this.re=t,this.currentSequenceNumber=e}}function Qr(n,t){const e=ot(n);return Vl.M(e.re,t)}class Kk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&h4(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=I0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=I0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=MV();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=e.has(r.key)?null:u;const p=bV(c,u);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Tt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),an())}isEqual(t){return this.batchId===t.batchId&&j_(this.mutations,t.mutations,(e,i)=>wV(e,i))&&j_(this.baseMutations,t.baseMutations,(e,i)=>wV(e,i))}}class Qk{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){St(t.mutations.length===i.length);let r=g4;const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Qk(t,e,i,r)}}class Xk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uh{constructor(t,e,i,r,o=Tt.min(),c=Tt.min(),u=Lr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u}withSequenceNumber(t){return new Uh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Uh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Uh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class XV{constructor(t){this.oe=t}}function JV(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Rx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:k0(r=n.oe,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:J_(r,o.version.toTimestamp()),createTime:J_(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:nm(t.version)};else{if(!t.isUnknownDocument())return gt();i.unknownDocument={path:e.path.toArray(),version:nm(t.version)}}var r,o;return i}function Rx(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function nm(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function im(n){const t=new Ti(n.seconds,n.nanoseconds);return Tt.fromTimestamp(t)}function rm(n,t){const e=(t.baseMutations||[]).map(o=>qk(n.oe,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>qk(n.oe,o)),r=Ti.fromMillis(t.localWriteTimeMs);return new Kk(t.batchId,r,e,i)}function P0(n){const t=im(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?im(n.lastLimboFreeSnapshotVersion):Tt.min();let i;var r;return void 0!==n.query.documents?(St(1===(r=n.query).documents.length),i=Qo(Y_(LV(r.documents[0])))):i=Qo(zV(n.query)),new Uh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Lr.fromBase64String(n.resumeToken))}function eB(n,t){const e=nm(t.snapshotVersion),i=nm(t.lastLimboFreeSnapshotVersion);let r;r=Cx(t.target)?HV(n.oe,t.target):Yk(n.oe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Xp(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Jk(n){const t=zV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?xx(t,t.limit,"L"):t}function eR(n,t){return new Xk(t.largestBatchId,qk(n.oe,t.overlayMutation))}function tB(n,t){const e=t.path.lastSegment();return[n,Xo(t.path.popLast()),e]}function nB(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:nm(i.readTime),documentKey:Xo(i.documentKey.path),largestBatchId:i.largestBatchId}}class X4{getBundleMetadata(t,e){return iB(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:im(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return iB(t).put({bundleId:(i=e).id,createTime:nm(cr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return rB(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:Jk(r.bundledQuery),readTime:im(r.readTime)};var r})}saveNamedQuery(t,e){return rB(t).put({name:(i=e).name,readTime:nm(cr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function iB(n){return Qr(n,"bundles")}function rB(n){return Qr(n,"namedQueries")}class Ox{constructor(t,e){this.Tt=t,this.userId=e}static ue(t,e){return new Ox(t,e.uid||"")}getOverlay(t,e){return F0(t).get(tB(this.userId,e)).next(i=>i?eR(this.Tt,i):null)}getOverlays(t,e){const i=Oc();return ue.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,c)=>{const u=new Xk(e,c);r.push(this.ce(t,u))}),ue.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(Xo(c.getCollectionPath())));const o=[];return r.forEach(c=>{const u=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(F0(t).Y("collectionPathOverlayIndex",u))}),ue.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Oc(),o=Xo(e),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return F0(t).W("collectionPathOverlayIndex",c).next(u=>{for(const p of u){const _=eR(this.Tt,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Oc();let c;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return F0(t).X({index:"collectionGroupOverlayIndex",range:u},(p,_,b)=>{const x=eR(this.Tt,_);o.size()<r||x.largestBatchId===c?(o.set(x.getKey(),x),c=x.largestBatchId):b.done()}).next(()=>o)}ce(t,e){return F0(t).put(function(i,r,o){const[c,u,p]=tB(r,o.mutation.key);return{userId:r,collectionPath:u,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:O0(i.oe,o.mutation)}}(this.Tt,this.userId,e))}}function F0(n){return Qr(n,"documentOverlays")}class om{constructor(){}ae(t,e){this.he(t,e),e.le()}he(t,e){if("nullValue"in t)this.fe(e,5);else if("booleanValue"in t)this.fe(e,10),e.de(t.booleanValue?1:0);else if("integerValue"in t)this.fe(e,15),e.de(nr(t.integerValue));else if("doubleValue"in t){const i=nr(t.doubleValue);isNaN(i)?this.fe(e,13):(this.fe(e,15),_0(i)?e.de(0):e.de(i))}else if("timestampValue"in t){const i=t.timestampValue;this.fe(e,20),"string"==typeof i?e._e(i):(e._e(`${i.seconds||""}`),e.de(i.nanos||0))}else if("stringValue"in t)this.we(t.stringValue,e),this.me(e);else if("bytesValue"in t)this.fe(e,30),e.ge(Zp(t.bytesValue)),this.me(e);else if("referenceValue"in t)this.ye(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.fe(e,45),e.de(i.latitude||0),e.de(i.longitude||0)}else"mapValue"in t?G2(t)?this.fe(e,Number.MAX_SAFE_INTEGER):(this.pe(t.mapValue,e),this.me(e)):"arrayValue"in t?(this.Ie(t.arrayValue,e),this.me(e)):gt()}we(t,e){this.fe(e,25),this.Te(t,e)}Te(t,e){e._e(t)}pe(t,e){const i=t.fields||{};this.fe(e,55);for(const r of Object.keys(i))this.we(r,e),this.he(i[r],e)}Ie(t,e){const i=t.values||[];this.fe(e,50);for(const r of i)this.he(r,e)}ye(t,e){this.fe(e,37),tt.fromName(t).path.forEach(i=>{this.fe(e,60),this.Te(i,e)})}fe(t,e){t.de(e)}me(t){t.de(2)}}function J4(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function oB(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=J4(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}om.Ee=new om;class eW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Re(i.value),i=e.next();this.be()}ve(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.Ve()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=e.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.be()}De(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.Ve()}Ce(t){const e=this.xe(t),i=oB(e);this.Ne(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}ke(t){const e=this.xe(t),i=oB(e);this.Ne(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Oe(){this.Me(255),this.Me(255)}Fe(){this.$e(255),this.$e(255)}reset(){this.position=0}seed(t){this.Ne(t.length),this.buffer.set(t,this.position),this.position+=t.length}Be(){return this.buffer.slice(0,this.position)}xe(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Re(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}Pe(t){const e=255&t;0===e?(this.$e(0),this.$e(255)):255===e?(this.$e(255),this.$e(0)):this.$e(t)}be(){this.Me(0),this.Me(1)}Ve(){this.$e(0),this.$e(1)}Me(t){this.Ne(1),this.buffer[this.position++]=t}$e(t){this.Ne(1),this.buffer[this.position++]=~t}Ne(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class tW{constructor(t){this.Le=t}ge(t){this.Le.Ae(t)}_e(t){this.Le.Se(t)}de(t){this.Le.Ce(t)}le(){this.Le.Oe()}}class nW{constructor(t){this.Le=t}ge(t){this.Le.ve(t)}_e(t){this.Le.De(t)}de(t){this.Le.ke(t)}le(){this.Le.Fe()}}class N0{constructor(){this.Le=new eW,this.qe=new tW(this.Le),this.Ue=new nW(this.Le)}seed(t){this.Le.seed(t)}Ke(t){return 0===t?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class sm{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ge(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new sm(this.indexId,this.documentKey,this.arrayValue,i)}}function Hh(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=sB(n.arrayValue,t.arrayValue),0!==e?e:(e=sB(n.directionalValue,t.directionalValue),0!==e?e:tt.comparator(n.documentKey,t.documentKey)))}function sB(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class iW{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];for(const e of t.filters){const i=e;i.isInequality()?this.ze=i:this.je.push(i)}}We(t){St(t.collectionGroup===this.collectionId);const e=Tk(t);if(void 0!==e&&!this.He(e))return!1;const i=Wp(t);let r=0,o=0;for(;r<i.length&&this.He(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.ze){const c=i[r];if(!this.Je(this.ze,c)||!this.Ye(this.Qe[o++],c))return!1;++r}for(;r<i.length;++r)if(o>=this.Qe.length||!this.Ye(this.Qe[o++],i[r]))return!1;return!0}He(t){for(const e of this.je)if(this.Je(e,t))return!0;return!1}Je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ye(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function aB(n){var t,e;if(St(n instanceof yn||n instanceof Hn),n instanceof yn){if(n instanceof nV){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>yn.create(n.field,"==",o)))||[];return Hn.create(r,"or")}return n}const i=n.filters.map(r=>aB(r));return Hn.create(i,n.op)}function rW(n){if(0===n.getFilters().length)return[];const t=iR(aB(n));return St(lB(t)),tR(t)||nR(t)?[t]:t.getFilters()}function tR(n){return n instanceof yn}function nR(n){return n instanceof Hn&&Lk(n)}function lB(n){return tR(n)||nR(n)||function(t){if(t instanceof Hn&&Nk(t)){for(const e of t.getFilters())if(!tR(e)&&!nR(e))return!1;return!0}return!1}(n)}function iR(n){if(St(n instanceof yn||n instanceof Hn),n instanceof yn)return n;if(1===n.filters.length)return iR(n.filters[0]);const t=n.filters.map(i=>iR(i));let e=Hn.create(t,n.op);return e=Px(e),lB(e)?e:(St(e instanceof Hn),St(G_(e)),St(e.filters.length>1),e.filters.reduce((i,r)=>rR(i,r)))}function rR(n,t){let e;return St(n instanceof yn||n instanceof Hn),St(t instanceof yn||t instanceof Hn),e=n instanceof yn?t instanceof yn?Hn.create([n,t],"and"):cB(n,t):t instanceof yn?cB(t,n):function(i,r){if(St(i.filters.length>0&&r.filters.length>0),G_(i)&&G_(r))return J2(i,r.getFilters());const o=Nk(i)?i:r,c=Nk(i)?r:i,u=o.filters.map(p=>rR(p,c));return Hn.create(u,"or")}(n,t),Px(e)}function cB(n,t){if(G_(t))return J2(t,n.getFilters());{const e=t.filters.map(i=>rR(n,i));return Hn.create(e,"or")}}function Px(n){if(St(n instanceof yn||n instanceof Hn),n instanceof yn)return n;const t=n.getFilters();if(1===t.length)return Px(t[0]);if(Q2(n))return n;const e=t.map(r=>Px(r)),i=[];return e.forEach(r=>{r instanceof yn?i.push(r):r instanceof Hn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Hn.create(i,n.op)}class oW{constructor(){this.Ze=new oR}addToCollectionParentIndex(t,e){return this.Ze.add(e),ue.resolve()}getCollectionParents(t,e){return ue.resolve(this.Ze.getEntries(e))}addFieldIndex(t,e){return ue.resolve()}deleteFieldIndex(t,e){return ue.resolve()}getDocumentsMatchingTarget(t,e){return ue.resolve(null)}getIndexType(t,e){return ue.resolve(0)}getFieldIndexes(t,e){return ue.resolve([])}getNextCollectionGroupToUpdate(t){return ue.resolve(null)}getMinOffset(t,e){return ue.resolve(ea.min())}getMinOffsetFromCollectionGroup(t,e){return ue.resolve(ea.min())}updateCollectionGroup(t,e,i){return ue.resolve()}updateIndexEntries(t,e){return ue.resolve()}}class oR{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new $n(In.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new $n(In.comparator)).toArray()}}const Fx=new Uint8Array(0);class sW{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new oR,this.tn=new Vh(i=>Xp(i),(i,r)=>C0(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const o={collectionId:i,parent:Xo(r)};return dB(t).put(o)}return ue.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[R2(e),""],!1,!0);return dB(t).W(r).next(o=>{for(const c of o){if(c.collectionId!==e)break;i.push(Fc(c.parent))}return i})}addFieldIndex(t,e){const i=Nx(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var c;delete r.indexId;const o=i.add(r);if(e.indexState){const c=V0(t);return o.next(u=>{c.put(nB(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=Nx(t),r=V0(t),o=L0(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=L0(t);let r=!0;const o=new Map;return ue.forEach(this.en(e),c=>this.nn(t,c).next(u=>{r&&(r=!!u),o.set(c,u)})).next(()=>{if(r){let c=an();const u=[];return ue.forEach(o,(p,_)=>{var b;Ue("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(yt=>`${yt.fieldPath}:${yt.kind}`).join(",")}`} to execute ${Xp(e)}`);const x=function(yt,vt){const Lt=Tk(vt);if(void 0===Lt)return null;for(const zt of Dx(yt,Lt.fieldPath))switch(zt.op){case"array-contains-any":return zt.value.arrayValue.values||[];case"array-contains":return[zt.value]}return null}(_,p),M=function(yt,vt){const Lt=new Map;for(const zt of Wp(vt))for(const Cn of Dx(yt,zt.fieldPath))switch(Cn.op){case"==":case"in":Lt.set(zt.fieldPath.canonicalString(),Cn.value);break;case"not-in":case"!=":return Lt.set(zt.fieldPath.canonicalString(),Cn.value),Array.from(Lt.values())}return null}(_,p),B=function(yt,vt){const Lt=[];let zt=!0;for(const Cn of Wp(vt)){const os=0===Cn.kind?oV(yt,Cn.fieldPath,yt.startAt):sV(yt,Cn.fieldPath,yt.startAt);Lt.push(os.value),zt&&(zt=os.inclusive)}return new Lh(Lt,zt)}(_,p),H=function(yt,vt){const Lt=[];let zt=!0;for(const Cn of Wp(vt)){const os=0===Cn.kind?sV(yt,Cn.fieldPath,yt.endAt):oV(yt,Cn.fieldPath,yt.endAt);Lt.push(os.value),zt&&(zt=os.inclusive)}return new Lh(Lt,zt)}(_,p),K=this.sn(p,_,B),se=this.sn(p,_,H),Ze=this.rn(p,_,M),mt=this.on(p.indexId,x,K,B.inclusive,se,H.inclusive,Ze);return ue.forEach(mt,yt=>i.J(yt,e.limit).next(vt=>{vt.forEach(Lt=>{const zt=tt.fromSegments(Lt.documentKey);c.has(zt)||(c=c.add(zt),u.push(zt))})}))}).next(()=>u)}return ue.resolve(null)})}en(t){let e=this.tn.get(t);return e||(e=0===t.filters.length?[t]:rW(Hn.create(t.filters,"and")).map(i=>Bk(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.tn.set(t,e),e)}on(t,e,i,r,o,c,u){const p=(null!=e?e.length:1)*Math.max(i.length,o.length),_=p/(null!=e?e.length:1),b=[];for(let x=0;x<p;++x){const M=e?this.un(e[x/_]):Fx,B=this.cn(t,M,i[x%_],r),H=this.an(t,M,o[x%_],c),K=u.map(se=>this.cn(t,M,se,!0));b.push(...this.createRange(B,H,K))}return b}cn(t,e,i,r){const o=new sm(t,tt.empty(),e,i);return r?o:o.Ge()}an(t,e,i,r){const o=new sm(t,tt.empty(),e,i);return r?o.Ge():o}nn(t,e){const i=new iW(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let c=null;for(const u of o)i.We(u)&&(!c||u.fields.length>c.fields.length)&&(c=u);return c})}getIndexType(t,e){let i=2;const r=this.en(e);return ue.forEach(r,o=>this.nn(t,o).next(c=>{c?0!==i&&c.fields.length<function(u){let p=new $n(tr.comparator),_=!1;for(const b of u.filters)for(const x of b.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?_=!0:p=p.add(x.field));for(const b of u.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(_?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}hn(t,e){const i=new N0;for(const r of Wp(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const c=i.Ke(r.kind);om.Ee.ae(o,c)}return i.Be()}un(t){const e=new N0;return om.Ee.ae(t,e.Ke(0)),e.Be()}ln(t,e){const i=new N0;return om.Ee.ae(Qp(this.databaseId,e),i.Ke(function(r){const o=Wp(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Be()}rn(t,e,i){if(null===i)return[];let r=[];r.push(new N0);let o=0;for(const c of Wp(t)){const u=i[o++];for(const p of r)if(this.fn(e,c.fieldPath)&&b0(u))r=this.dn(r,c,u);else{const _=p.Ke(c.kind);om.Ee.ae(u,_)}}return this._n(r)}sn(t,e,i){return this.rn(t,e,i.position)}_n(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Be();return e}dn(t,e,i){const r=[...t],o=[];for(const c of i.arrayValue.values||[])for(const u of r){const p=new N0;p.seed(u.Be()),om.Ee.ae(c,p.Ke(e.kind)),o.push(p)}return o}fn(t,e){return!!t.filters.find(i=>i instanceof yn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Nx(t),r=V0(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const c=[];return ue.forEach(o,u=>r.get([u.indexId,this.uid]).next(p=>{c.push(function(_,b){const x=b?new p0(b.sequenceNumber,new ea(im(b.readTime),new tt(Fc(b.documentKey)),b.largestBatchId)):p0.empty(),M=_.fields.map(([B,H])=>new _x(tr.fromServerFormat(B),H));return new gx(_.indexId,_.collectionGroup,M,x)}(u,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:tn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Nx(t),o=V0(t);return this.wn(t).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>ue.forEach(u,p=>o.put(nB(p.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return ue.forEach(e,(r,o)=>{const c=i.get(r.collectionGroup);return(c?ue.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),ue.forEach(u,p=>this.mn(t,r,p).next(_=>{const b=this.gn(o,p);return _.isEqual(b)?ue.resolve():this.yn(t,o,p,_,b)}))))})}pn(t,e,i,r){return L0(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(i,e.key),documentKey:e.key.path.toArray()})}In(t,e,i,r){return L0(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(i,e.key),e.key.path.toArray()])}mn(t,e,i){const r=L0(t);let o=new $n(Hh);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.ln(i,e)])},(c,u)=>{o=o.add(new sm(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>o)}gn(t,e){let i=new $n(Hh);const r=this.hn(e,t);if(null==r)return i;const o=Tk(e);if(null!=o){const c=t.data.field(o.fieldPath);if(b0(c))for(const u of c.arrayValue.values||[])i=i.add(new sm(e.indexId,t.key,this.un(u),r))}else i=i.add(new sm(e.indexId,t.key,Fx,r));return i}yn(t,e,i,r,o){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(u,p,_,b,x){const M=u.getIterator(),B=p.getIterator();let H=q_(M),K=q_(B);for(;H||K;){let se=!1,Ze=!1;if(H&&K){const mt=_(H,K);mt<0?Ze=!0:mt>0&&(se=!0)}else null!=H?Ze=!0:se=!0;se?(b(K),K=q_(B)):Ze?(x(H),H=q_(M)):(H=q_(M),K=q_(B))}}(r,o,Hh,u=>{c.push(this.pn(t,e,i,u))},u=>{c.push(this.In(t,e,i,u))}),ue.waitFor(c)}wn(t){let e=1;return V0(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,u)=>Hh(c,u)).filter((c,u,p)=>!u||0!==Hh(c,p[u-1]));const r=[];r.push(t);for(const c of i){const u=Hh(c,t),p=Hh(c,e);if(0===u)r[0]=t.Ge();else if(u>0&&p<0)r.push(c),r.push(c.Ge());else if(p>0)break}r.push(e);const o=[];for(let c=0;c<r.length;c+=2){if(this.Tn(r[c],r[c+1]))return[];o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,Fx,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,Fx,[]]))}return o}Tn(t,e){return Hh(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(uB)}getMinOffset(t,e){return ue.mapArray(this.en(e),i=>this.nn(t,i).next(r=>r||gt())).next(uB)}}function dB(n){return Qr(n,"collectionParents")}function L0(n){return Qr(n,"indexEntries")}function Nx(n){return Qr(n,"indexConfiguration")}function V0(n){return Qr(n,"indexState")}function uB(n){St(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Mk(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ea(t.readTime,t.documentKey,e)}const hB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Is{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Is(t,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fB(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let u=0;const p=i.X({range:c},(b,x,M)=>(u++,M.delete()));o.push(p.next(()=>{St(1===u)}));const _=[];for(const b of e.mutations){const x=YV(t,b.key.path,e.batchId);o.push(r.delete(x)),_.push(b.key)}return ue.waitFor(o).next(()=>_)}function Lx(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw gt();t=n.noDocument}return JSON.stringify(t).length}Is.DEFAULT_COLLECTION_PERCENTILE=10,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Is.DEFAULT=new Is(41943040,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Is.DISABLED=new Is(-1,0,0);class Vx{constructor(t,e,i,r){this.userId=t,this.Tt=e,this.indexManager=i,this.referenceDelegate=r,this.En={}}static ue(t,e,i,r){St(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new Vx(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zh(t).X({index:"userMutationsIndex",range:i},(r,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=ty(t),c=zh(t);return c.add({}).next(u=>{St("number"==typeof u);const p=new Kk(u,e,i,r),_=function(M,B,H){const K=H.baseMutations.map(Ze=>O0(M.oe,Ze)),se=H.mutations.map(Ze=>O0(M.oe,Ze));return{userId:B,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:K,mutations:se}}(this.Tt,this.userId,p),b=[];let x=new $n((M,B)=>tn(M.canonicalString(),B.canonicalString()));for(const M of r){const B=YV(this.userId,M.key.path,u);x=x.add(M.key.path.popLast()),b.push(c.put(_)),b.push(o.put(B,P4))}return x.forEach(M=>{b.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.En[u]=p.keys()}),ue.waitFor(b).next(()=>p)})}lookupMutationBatch(t,e){return zh(t).get(e).next(i=>i?(St(i.userId===this.userId),rm(this.Tt,i)):null)}An(t,e){return this.En[e]?ue.resolve(this.En[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.En[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return zh(t).X({index:"userMutationsIndex",range:r},(c,u,p)=>{u.userId===this.userId&&(St(u.batchId>=i),o=rm(this.Tt,u)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return zh(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zh(t).W("userMutationsIndex",e).next(i=>i.map(r=>rm(this.Tt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=kx(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return ty(t).X({range:r},(c,u,p)=>{const[_,b,x]=c,M=Fc(b);if(_===this.userId&&e.path.isEqual(M))return zh(t).get(x).next(B=>{if(!B)throw gt();St(B.userId===this.userId),o.push(rm(this.Tt,B))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new $n(tn);const r=[];return e.forEach(o=>{const c=kx(this.userId,o.path),u=IDBKeyRange.lowerBound(c),p=ty(t).X({range:u},(_,b,x)=>{const[M,B,H]=_,K=Fc(B);M===this.userId&&o.path.isEqual(K)?i=i.add(H):x.done()});r.push(p)}),ue.waitFor(r).next(()=>this.Rn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=kx(this.userId,i),c=IDBKeyRange.lowerBound(o);let u=new $n(tn);return ty(t).X({range:c},(p,_,b)=>{const[x,M,B]=p,H=Fc(M);x===this.userId&&i.isPrefixOf(H)?H.length===r&&(u=u.add(B)):b.done()}).next(()=>this.Rn(t,u))}Rn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(zh(t).get(o).next(c=>{if(null===c)throw gt();St(c.userId===this.userId),i.push(rm(this.Tt,c))}))}),ue.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return fB(t.re,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.bn(e.batchId)}),ue.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}bn(t){delete this.En[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ue.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ty(t).X({range:i},(o,c,u)=>{if(o[0]===this.userId){const p=Fc(o[1]);r.push(p)}else u.done()}).next(()=>{St(0===r.length)})})}containsKey(t,e){return pB(t,this.userId,e)}vn(t){return mB(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pB(n,t,e){const i=kx(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return ty(n).X({range:o,Z:!0},(u,p,_)=>{const[b,x,M]=u;b===t&&x===r&&(c=!0),_.done()}).next(()=>c)}function zh(n){return Qr(n,"mutations")}function ty(n){return Qr(n,"documentMutations")}function mB(n){return Qr(n,"mutationQueues")}class am{constructor(t){this.Pn=t}next(){return this.Pn+=2,this.Pn}static Vn(){return new am(0)}static Sn(){return new am(-1)}}class aW{constructor(t,e){this.referenceDelegate=t,this.Tt=e}allocateTargetId(t){return this.Dn(t).next(e=>{const i=new am(e.highestTargetId);return e.highestTargetId=i.next(),this.Cn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Dn(t).next(e=>Tt.fromTimestamp(new Ti(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Dn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Dn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Cn(t,r)))}addTargetData(t,e){return this.xn(t,e).next(()=>this.Dn(t).next(i=>(i.targetCount+=1,this.Nn(e,i),this.Cn(t,i))))}updateTargetData(t,e){return this.xn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>ny(t).delete(e.targetId)).next(()=>this.Dn(t)).next(i=>(St(i.targetCount>0),i.targetCount-=1,this.Cn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return ny(t).X((c,u)=>{const p=P0(u);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,o.push(this.removeTargetData(t,p)))}).next(()=>ue.waitFor(o)).next(()=>r)}forEachTarget(t,e){return ny(t).X((i,r)=>{const o=P0(r);e(o)})}Dn(t){return gB(t).get("targetGlobalKey").next(e=>(St(null!==e),e))}Cn(t,e){return gB(t).put("targetGlobalKey",e)}xn(t,e){return ny(t).put(eB(this.Tt,e))}Nn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Dn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Xp(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return ny(t).X({range:r,index:"queryTargetsIndex"},(c,u,p)=>{const _=P0(u);C0(e,_.target)&&(o=_,p.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=jh(t);return e.forEach(c=>{const u=Xo(c.path);r.push(o.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,c))}),ue.waitFor(r)}removeMatchingKeys(t,e,i){const r=jh(t);return ue.forEach(e,o=>{const c=Xo(o.path);return ue.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=jh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=jh(t);let o=an();return r.X({range:i,Z:!0},(c,u,p)=>{const _=Fc(c[1]),b=new tt(_);o=o.add(b)}).next(()=>o)}containsKey(t,e){const i=Xo(e.path),r=IDBKeyRange.bound([i],[R2(i)],!1,!0);let o=0;return jh(t).X({index:"documentTargetsIndex",Z:!0,range:r},([c,u],p,_)=>{0!==c&&(o++,_.done())}).next(()=>o>0)}ie(t,e){return ny(t).get(e).next(i=>i?P0(i):null)}}function ny(n){return Qr(n,"targets")}function gB(n){return Qr(n,"targetGlobal")}function jh(n){return Qr(n,"targetDocuments")}function _B([n,t],[e,i]){const r=tn(n,e);return 0===r?tn(t,i):r}class lW{constructor(t){this.kn=t,this.buffer=new $n(_B),this.On=0}Mn(){return++this.On}Fn(t){const e=[t,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();_B(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class cW{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.$n=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.$n&&(this.$n.cancel(),this.$n=null)}get started(){return null!==this.$n}Bn(t){var e=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,we.Z)(function*(){e.$n=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Rh(i)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield kh(i)}yield e.Bn(3e5)}))}}class dW{constructor(t,e){this.Ln=t,this.params=e}calculateTargetCount(t,e){return this.Ln.qn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ue.resolve(ta.at);const i=new lW(e);return this.Ln.forEachTarget(t,r=>i.Fn(r.sequenceNumber)).next(()=>this.Ln.Un(t,r=>i.Fn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Ln.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Ln.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(hB)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hB):this.Kn(t,e))}getCacheSize(t){return this.Ln.getCacheSize(t)}Kn(t,e){let i,r,o,c,u,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,c=Date.now(),this.nthSequenceNumber(t,r))).next(x=>(i=x,u=Date.now(),this.removeTargets(t,i,e))).next(x=>(o=x,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(x=>(_=Date.now(),Ik()<=Qs.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${r} in `+(u-c)+`ms\n\tRemoved ${o} targets in `+(p-u)+`ms\n\tRemoved ${x} documents in `+(_-p)+`ms\nTotal Duration: ${_-b}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:x})))}}class uW{constructor(t,e){this.db=t,this.garbageCollector=new dW(this,e)}qn(t){const e=this.Gn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Gn(t){let e=0;return this.Un(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Un(t,e){return this.Qn(t,(i,r)=>e(r))}addReference(t,e,i){return Bx(t,i)}removeReference(t,e,i){return Bx(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Bx(t,e)}jn(t,e){return function(i,r){let o=!1;return mB(i).tt(c=>pB(i,c,r).next(u=>(u&&(o=!0),ue.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Qn(t,(c,u)=>{if(u<=e){const p=this.jn(t,c).next(_=>{if(!_)return o++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Tt.min()),jh(t).delete([0,Xo(c.path)])))});r.push(p)}}).next(()=>ue.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Bx(t,e)}Qn(t,e){const i=jh(t);let r,o=ta.at;return i.X({index:"documentTargetsIndex"},([c,u],{path:p,sequenceNumber:_})=>{0===c?(o!==ta.at&&e(new tt(Fc(r)),o),o=_,r=p):o=ta.at}).next(()=>{o!==ta.at&&e(new tt(Fc(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Bx(n,t){return jh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Xo(t.path),sequenceNumber:i}));var i}class yB{constructor(){this.changes=new Vh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,bi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ue.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class hW{constructor(t){this.Tt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return lm(t).put(i)}removeEntry(t,e,i){return lm(t).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Rx(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.zn(t,i)))}getEntry(t,e){let i=bi.newInvalidDocument(e);return lm(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(B0(e))},(r,o)=>{i=this.Wn(e,o)}).next(()=>i)}Hn(t,e){let i={size:0,document:bi.newInvalidDocument(e)};return lm(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(B0(e))},(r,o)=>{i={document:this.Wn(e,o),size:Lx(o)}}).next(()=>i)}getEntries(t,e){let i=xs();return this.Jn(t,e,(r,o)=>{const c=this.Wn(r,o);i=i.insert(r,c)}).next(()=>i)}Yn(t,e){let i=xs(),r=new ir(tt.comparator);return this.Jn(t,e,(o,c)=>{const u=this.Wn(o,c);i=i.insert(o,u),r=r.insert(o,Lx(c))}).next(()=>({documents:i,Zn:r}))}Jn(t,e,i){if(e.isEmpty())return ue.resolve();let r=new $n(CB);e.forEach(p=>r=r.add(p));const o=IDBKeyRange.bound(B0(r.first()),B0(r.last())),c=r.getIterator();let u=c.getNext();return lm(t).X({index:"documentKeyIndex",range:o},(p,_,b)=>{const x=tt.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;u&&CB(u,x)<0;)i(u,null),u=c.getNext();u&&u.isEqual(x)&&(i(u,_),u=c.hasNext()?c.getNext():null),u?b.j(B0(u)):b.done()}).next(()=>{for(;u;)i(u,null),u=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,c=[o.popLast().toArray(),o.lastSegment(),Rx(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lm(t).W(IDBKeyRange.bound(c,u,!0)).next(p=>{let _=xs();for(const b of p){const x=this.Wn(tt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);x.isFoundDocument()&&(E0(e,x)||r.has(x.key))&&(_=_.insert(x.key,x))}return _})}getAllFromCollectionGroup(t,e,i,r){let o=xs();const c=wB(e,i),u=wB(e,ea.max());return lm(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,u,!0)},(p,_,b)=>{const x=this.Wn(tt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);o=o.insert(x.key,x),o.size===r&&b.done()}).next(()=>o)}newChangeBuffer(t){return new fW(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return bB(t).get("remoteDocumentGlobalKey").next(e=>(St(!!e),e))}zn(t,e){return bB(t).put("remoteDocumentGlobalKey",e)}Wn(t,e){if(e){const i=function Q4(n,t){let e;if(t.document)e=UV(n.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=tt.fromSegments(t.noDocument.path),r=im(t.noDocument.readTime);e=bi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return gt();{const i=tt.fromSegments(t.unknownDocument.path),r=im(t.unknownDocument.version);e=bi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ti(i[0],i[1]);return Tt.fromTimestamp(r)}(t.readTime)),e}(this.Tt,e);if(!i.isNoDocument()||!i.version.isEqual(Tt.min()))return i}return bi.newInvalidDocument(t)}}function vB(n){return new hW(n)}class fW extends yB{constructor(t,e){super(),this.Xn=t,this.trackRemovals=e,this.ts=new Vh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new $n((o,c)=>tn(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const u=this.ts.get(o);if(e.push(this.Xn.removeEntry(t,o,u.readTime)),c.isValidDocument()){const p=JV(this.Xn.Tt,c);r=r.add(o.path.popLast());const _=Lx(p);i+=_-u.size,e.push(this.Xn.addEntry(t,o,p))}else if(i-=u.size,this.trackRemovals){const p=JV(this.Xn.Tt,c.convertToNoDocument(Tt.min()));e.push(this.Xn.addEntry(t,o,p))}}),r.forEach(o=>{e.push(this.Xn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Xn.updateMetadata(t,i)),ue.waitFor(e)}getFromCache(t,e){return this.Xn.Hn(t,e).next(i=>(this.ts.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Xn.Yn(t,e).next(({documents:i,Zn:r})=>(r.forEach((o,c)=>{this.ts.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function bB(n){return Qr(n,"remoteDocumentGlobal")}function lm(n){return Qr(n,"remoteDocumentsV14")}function B0(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function wB(n,t){const e=t.documentKey.path.toArray();return[n,Rx(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function CB(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=tn(e[o],i[o]),r)return r;return r=tn(e.length,i.length),r||(r=tn(e[e.length-2],i[i.length-2]),r||tn(e[e.length-1],i[i.length-1]))}class pW{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class DB{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&I0(i.mutation,r,Es.empty(),Ti.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,an()).next(()=>i))}getLocalViewOfDocuments(t,e,i=an()){const r=Oc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=S0();return o.forEach((u,p)=>{c=c.insert(u,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Oc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,an()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,u)=>{e.set(c,u)})})}computeViews(t,e,i,r){let o=xs();const c=T0(),u=T0();return e.forEach((p,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof Qd)?o=o.insert(_.key,_):void 0!==b?(c.set(_.key,b.mutation.getFieldMask()),I0(b.mutation,_,b.mutation.getFieldMask(),Ti.now())):c.set(_.key,Es.empty())}),this.recalculateAndSaveOverlays(t,o).next(p=>(p.forEach((_,b)=>c.set(_,b)),e.forEach((_,b)=>{var x;return u.set(_,new pW(b,null!==(x=c.get(_))&&void 0!==x?x:null))}),u))}recalculateAndSaveOverlays(t,e){const i=T0();let r=new ir((c,u)=>c-u),o=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const u of c)u.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let b=i.get(p)||Es.empty();b=u.applyToLocalView(_,b),i.set(p,b);const x=(r.get(u.batchId)||an()).add(p);r=r.insert(u.batchId,x)})}).next(()=>{const c=[],u=r.getReverseIterator();for(;u.hasNext();){const p=u.getNext(),_=p.key,b=p.value,x=MV();b.forEach(M=>{if(!o.has(M)){const B=bV(e.get(M),i.get(M));null!==B&&x.set(M,B),o=o.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(t,_,x))}return ue.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return tt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Hk(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ue.resolve(Oc());let u=-1,p=o;return c.next(_=>ue.forEach(_,(b,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),o.get(b)?ue.resolve():this.remoteDocumentCache.getEntry(t,b).next(M=>{p=p.insert(b,M)}))).next(()=>this.populateOverlays(t,_,o)).next(()=>this.computeViews(t,p,_,an())).next(b=>({batchId:u,changes:TV(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new tt(e)).next(i=>{let r=S0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=S0();return this.indexManager.getCollectionParents(t,r).next(c=>ue.forEach(c,u=>{const p=(_=e,b=u.child(r),new Kd(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(_=>{_.forEach((b,x)=>{o=o.insert(b,x)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((u,p)=>{const _=p.getKey();null===o.get(_)&&(o=o.insert(_,bi.newInvalidDocument(_)))});let c=S0();return o.forEach((u,p)=>{const _=r.get(u);void 0!==_&&I0(_.mutation,p,Es.empty(),Ti.now()),E0(e,p)&&(c=c.insert(u,p))}),c})}}class mW{constructor(t){this.Tt=t,this.es=new Map,this.ns=new Map}getBundleMetadata(t,e){return ue.resolve(this.es.get(e))}saveBundleMetadata(t,e){var i;return this.es.set(e.id,{id:(i=e).id,version:i.version,createTime:cr(i.createTime)}),ue.resolve()}getNamedQuery(t,e){return ue.resolve(this.ns.get(e))}saveNamedQuery(t,e){return this.ns.set(e.name,{name:(i=e).name,query:Jk(i.bundledQuery),readTime:cr(i.readTime)}),ue.resolve();var i}}class gW{constructor(){this.overlays=new ir(tt.comparator),this.ss=new Map}getOverlay(t,e){return ue.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Oc();return ue.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ce(t,e,o)}),ue.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ss.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ss.delete(i)),ue.resolve()}getOverlaysForCollection(t,e,i){const r=Oc(),o=e.length+1,c=new tt(e.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const p=u.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===o&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ue.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ir((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=o.get(_.largestBatchId);null===b&&(b=Oc(),o=o.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const u=Oc(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>u.set(_,b)),!(u.size()>=r)););return ue.resolve(u)}ce(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ss.get(r.largestBatchId).delete(i.key);this.ss.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Xk(e,i));let o=this.ss.get(e);void 0===o&&(o=an(),this.ss.set(e,o)),this.ss.set(e,o.add(i.key))}}class sR{constructor(){this.rs=new $n(Xr.os),this.us=new $n(Xr.cs)}isEmpty(){return this.rs.isEmpty()}addReference(t,e){const i=new Xr(t,e);this.rs=this.rs.add(i),this.us=this.us.add(i)}hs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ls(new Xr(t,e))}fs(t,e){t.forEach(i=>this.removeReference(i,e))}ds(t){const e=new tt(new In([])),i=new Xr(e,t),r=new Xr(e,t+1),o=[];return this.us.forEachInRange([i,r],c=>{this.ls(c),o.push(c.key)}),o}_s(){this.rs.forEach(t=>this.ls(t))}ls(t){this.rs=this.rs.delete(t),this.us=this.us.delete(t)}ws(t){const e=new tt(new In([])),i=new Xr(e,t),r=new Xr(e,t+1);let o=an();return this.us.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new Xr(t,0),i=this.rs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Xr{constructor(t,e){this.key=t,this.gs=e}static os(t,e){return tt.comparator(t.key,e.key)||tn(t.gs,e.gs)}static cs(t,e){return tn(t.gs,e.gs)||tt.comparator(t.key,e.key)}}class _W{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ys=1,this.ps=new $n(Xr.os)}checkEmpty(t){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.ys;this.ys++;const c=new Kk(o,e,i,r);this.mutationQueue.push(c);for(const u of r)this.ps=this.ps.add(new Xr(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(t,e){return ue.resolve(this.Is(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ts(e+1),o=r<0?0:r;return ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(t){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Xr(e,0),r=new Xr(e,Number.POSITIVE_INFINITY),o=[];return this.ps.forEachInRange([i,r],c=>{const u=this.Is(c.gs);o.push(u)}),ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new $n(tn);return e.forEach(r=>{const o=new Xr(r,0),c=new Xr(r,Number.POSITIVE_INFINITY);this.ps.forEachInRange([o,c],u=>{i=i.add(u.gs)})}),ue.resolve(this.Es(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;tt.isDocumentKey(o)||(o=o.child(""));const c=new Xr(new tt(o),0);let u=new $n(tn);return this.ps.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(u=u.add(p.gs)),!0)},c),ue.resolve(this.Es(u))}Es(t){const e=[];return t.forEach(i=>{const r=this.Is(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){St(0===this.As(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ps;return ue.forEach(e.mutations,r=>{const o=new Xr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ps=i})}bn(t){}containsKey(t,e){const i=new Xr(e,0),r=this.ps.firstAfterOrEqual(i);return ue.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ue.resolve()}As(t,e){return this.Ts(t)}Ts(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Is(t){const e=this.Ts(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class yW{constructor(t){this.Rs=t,this.docs=new ir(tt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.Rs(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ue.resolve(i?i.document.mutableCopy():bi.newInvalidDocument(e))}getEntries(t,e){let i=xs();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():bi.newInvalidDocument(r))}),ue.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=xs();const c=e.path,u=new tt(c.child("")),p=this.docs.getIteratorFrom(u);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||Mk(P2(b),i)<=0||(r.has(b.key)||E0(e,b))&&(o=o.insert(b.key,b.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(t,e,i,r){gt()}bs(t,e){return ue.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new vW(this)}getSize(t){return ue.resolve(this.size)}}class vW extends yB{constructor(t){super(),this.Xn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Xn.addEntry(t,r)):this.Xn.removeEntry(i)}),ue.waitFor(e)}getFromCache(t,e){return this.Xn.getEntry(t,e)}getAllFromCache(t,e){return this.Xn.getEntries(t,e)}}class bW{constructor(t){this.persistence=t,this.vs=new Vh(e=>Xp(e),C0),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new sR,this.targetCount=0,this.Ss=am.Vn()}forEachTarget(t,e){return this.vs.forEach((i,r)=>e(r)),ue.resolve()}getLastRemoteSnapshotVersion(t){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ue.resolve(this.Ps)}allocateTargetId(t){return this.highestTargetId=this.Ss.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ps&&(this.Ps=e),ue.resolve()}xn(t){this.vs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ss=new am(e),this.highestTargetId=e),t.sequenceNumber>this.Ps&&(this.Ps=t.sequenceNumber)}addTargetData(t,e){return this.xn(e),this.targetCount+=1,ue.resolve()}updateTargetData(t,e){return this.xn(e),ue.resolve()}removeTargetData(t,e){return this.vs.delete(e.target),this.Vs.ds(e.targetId),this.targetCount-=1,ue.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.vs.forEach((c,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.vs.delete(c),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),ue.waitFor(o).next(()=>r)}getTargetCount(t){return ue.resolve(this.targetCount)}getTargetData(t,e){const i=this.vs.get(e)||null;return ue.resolve(i)}addMatchingKeys(t,e,i){return this.Vs.hs(e,i),ue.resolve()}removeMatchingKeys(t,e,i){this.Vs.fs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),ue.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Vs.ds(e),ue.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Vs.ws(e);return ue.resolve(i)}containsKey(t,e){return ue.resolve(this.Vs.containsKey(e))}}class EB{constructor(t,e){this.Ds={},this.overlays={},this.Cs=new ta(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new bW(this),this.indexManager=new oW,this.remoteDocumentCache=new yW(i=>this.referenceDelegate.ks(i)),this.Tt=new XV(e),this.Os=new mW(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new gW,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Ds[t.toKey()];return i||(i=new _W(e,this.referenceDelegate),this.Ds[t.toKey()]=i),i}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(t,e,i){Ue("MemoryPersistence","Starting transaction:",t);const r=new wW(this.Cs.next());return this.referenceDelegate.Ms(),i(r).next(o=>this.referenceDelegate.Fs(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}$s(t,e){return ue.or(Object.values(this.Ds).map(i=>()=>i.containsKey(t,e)))}}class wW extends N2{constructor(t){super(),this.currentSequenceNumber=t}}class Ux{constructor(t){this.persistence=t,this.Bs=new sR,this.Ls=null}static qs(t){return new Ux(t)}get Us(){if(this.Ls)return this.Ls;throw gt()}addReference(t,e,i){return this.Bs.addReference(i,e),this.Us.delete(i.toString()),ue.resolve()}removeReference(t,e,i){return this.Bs.removeReference(i,e),this.Us.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(t,e){return this.Us.add(e.toString()),ue.resolve()}removeTarget(t,e){this.Bs.ds(e.targetId).forEach(r=>this.Us.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Us.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ms(){this.Ls=new Set}Fs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Us,i=>{const r=tt.fromPath(i);return this.Ks(t,r).next(o=>{o||e.removeEntry(r,Tt.min())})}).next(()=>(this.Ls=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ks(t,e).next(i=>{i?this.Us.delete(e.toString()):this.Us.add(e.toString())})}ks(t){return 0}Ks(t,e){return ue.or([()=>ue.resolve(this.Bs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.$s(t,e)])}}class CW{constructor(t){this.Tt=t}$(t,e,i,r){const o=new yx("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qV,{unique:!0}),u.createObjectStore("documentMutations"),xB(t),function(u){u.createObjectStore("remoteDocuments")}(t));let c=ue.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),xB(t)),c=c.next(()=>function(u){const p=u.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(u,p){return p.store("mutations").W().next(_=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qV,{unique:!0});const b=p.store("mutations"),x=_.map(M=>b.put(M));return ue.waitFor(x)})}(t,o))),c=c.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Gs(o))),i<6&&r>=6&&(c=c.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Qs(o)))),i<7&&r>=7&&(c=c.next(()=>this.js(o))),i<8&&r>=8&&(c=c.next(()=>this.zs(t,o))),i<9&&r>=9&&(c=c.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.Ws(o))),i<11&&r>=11&&(c=c.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(u){const p=u.createObjectStore("documentOverlays",{keyPath:W4});p.createIndex("collectionPathOverlayIndex",q4,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",Y4,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(u){const p=u.createObjectStore("remoteDocumentsV14",{keyPath:F4});p.createIndex("documentKeyIndex",N4),p.createIndex("collectionGroupIndex",L4)}(t)).next(()=>this.Hs(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.Js(t,o))),i<15&&r>=15&&(c=c.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:z4}).createIndex("sequenceNumberIndex",j4,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:$4}).createIndex("documentKeyIndex",G4,{unique:!1})}(t))),c}Qs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=Lx(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Gs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>ue.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(u=>ue.forEach(u,p=>{St(p.userId===o.userId);const _=rm(this.Tt,p);return fB(t,o.userId,_).next(()=>{})}))}))}js(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((c,u)=>{const p=new In(c),_=[0,Xo(p)];o.push(e.get(_).next(b=>b?ue.resolve():e.put({targetId:0,path:Xo(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ue.waitFor(o))})}zs(t,e){t.createObjectStore("collectionParents",{keyPath:H4});const i=e.store("collectionParents"),r=new oR,o=c=>{if(r.add(c)){const u=c.lastSegment(),p=c.popLast();return i.put({collectionId:u,parent:Xo(p)})}};return e.store("remoteDocuments").X({Z:!0},(c,u)=>{const p=new In(c);return o(p.popLast())}).next(()=>e.store("documentMutations").X({Z:!0},([c,u,p],_)=>{const b=Fc(u);return o(b.popLast())}))}Ws(t){const e=t.store("targets");return e.X((i,r)=>{const o=P0(r),c=eB(this.Tt,o);return e.put(c)})}Hs(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,c)=>{const u=e.store("remoteDocumentsV14"),p=(_=c,_.document?new tt(In.fromString(_.document.name).popFirst(5)):_.noDocument?tt.fromSegments(_.noDocument.path):_.unknownDocument?tt.fromSegments(_.unknownDocument.path):gt()).path.toArray();var _;const b={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(u.put(b))}).next(()=>ue.waitFor(r))}Js(t,e){const i=e.store("mutations"),r=vB(this.Tt),o=new EB(Ux.qs,this.Tt.oe);return i.W().next(c=>{const u=new Map;return c.forEach(p=>{var _;let b=null!==(_=u.get(p.userId))&&void 0!==_?_:an();rm(this.Tt,p).keys().forEach(x=>b=b.add(x)),u.set(p.userId,b)}),ue.forEach(u,(p,_)=>{const b=new Zr(_),x=Ox.ue(this.Tt,b),M=o.getIndexManager(b),B=Vx.ue(b,this.Tt,M,o.referenceDelegate);return new DB(r,B,x,M).recalculateAndSaveOverlaysForDocumentKeys(new Zk(e,ta.at),p).next()})})}}function xB(n){n.createObjectStore("targetDocuments",{keyPath:B4}).createIndex("documentTargetsIndex",U4,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",V4,{unique:!0}),n.createObjectStore("targetGlobal")}const aR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lR{constructor(t,e,i,r,o,c,u,p,_,b,x=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Ys=o,this.window=c,this.document=u,this.Zs=_,this.Xs=b,this.ti=x,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=M=>Promise.resolve(),!lR.C())throw new Le(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uW(this,r),this.oi=e+"main",this.Tt=new XV(p),this.ui=new Vl(this.oi,this.ti,new CW(this.Tt)),this.Ns=new aW(this.referenceDelegate,this.Tt),this.remoteDocumentCache=vB(this.Tt),this.Os=new X4,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===b&&lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(fe.FAILED_PRECONDITION,aR);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ns.getHighestSequenceNumber(t))}).then(t=>{this.Cs=new ta(t,this.Zs)}).then(()=>{this.xs=!0}).catch(t=>(this.ui&&this.ui.close(),Promise.reject(t)))}di(t){var e=this;return this.ri=function(){var i=(0,we.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ui.L(function(){var e=(0,we.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Ys.enqueueAndForget((0,we.Z)(function*(){e.started&&(yield e.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Hx(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(t).next(e=>{e||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(t)).next(e=>this.isPrimary&&!e?this.mi(t).next(()=>!1):!!e&&this.gi(t).next(()=>!0))).catch(t=>{if(Rh(t))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Ys.enqueueRetryable(()=>this.ri(t)),this.isPrimary=t})}_i(t){return U0(t).get("owner").next(e=>ue.resolve(this.yi(e)))}pi(t){return Hx(t).delete(this.clientId)}Ii(){var t=this;return(0,we.Z)(function*(){if(t.isPrimary&&!t.Ti(t.ii,18e5)){t.ii=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Qr(i,"clientMetadata");return r.W().next(o=>{const c=t.Ei(o,18e5),u=o.filter(p=>-1===c.indexOf(p));return ue.forEach(u,p=>r.delete(p.clientId)).next(()=>u)})}).catch(()=>[]);if(t.ci)for(const i of e)t.ci.removeItem(t.Ai(i.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(t){return!!t&&t.ownerId===this.clientId}wi(t){return this.Xs?ue.resolve(!0):U0(t).get("owner").next(e=>{if(null!==e&&this.Ti(e.leaseTimestampMs,5e3)&&!this.Ri(e.ownerId)){if(this.yi(e)&&this.networkEnabled)return!0;if(!this.yi(e)){if(!e.allowTabSynchronization)throw new Le(fe.FAILED_PRECONDITION,aR);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hx(t).W().next(i=>void 0===this.Ei(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ue("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,we.Z)(function*(){t.xs=!1,t.bi(),t.si&&(t.si.cancel(),t.si=null),t.vi(),t.Pi(),yield t.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Zk(e,ta.at);return t.mi(i).next(()=>t.pi(i))}),t.ui.close(),t.Vi()})()}Ei(t,e){return t.filter(i=>this.Ti(i.updateTimeMs,e)&&!this.Ri(i.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",t=>Hx(t).W().next(e=>this.Ei(e,18e5).map(i=>i.clientId)))}get started(){return this.xs}getMutationQueue(t,e){return Vx.ue(t,this.Tt,e,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new sW(t,this.Tt.oe.databaseId)}getDocumentOverlayCache(t){return Ox.ue(this.Tt,t)}getBundleCache(){return this.Os}runTransaction(t,e,i){Ue("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(c=this.ti)?K4:14===c?QV:13===c?KV:12===c?Z4:11===c?ZV:void gt();var c;let u;return this.ui.runTransaction(t,r,o,p=>(u=new Zk(p,this.Cs?this.Cs.next():ta.at),"readwrite-primary"===e?this._i(u).next(_=>!!_||this.wi(u)).next(_=>{if(!_)throw lr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new Le(fe.FAILED_PRECONDITION,F2);return i(u)}).next(_=>this.gi(u).next(()=>_)):this.Di(u).next(()=>i(u)))).then(p=>(u.raiseOnCommittedEvent(),p))}Di(t){return U0(t).get("owner").next(e=>{if(null!==e&&this.Ti(e.leaseTimestampMs,5e3)&&!this.Ri(e.ownerId)&&!this.yi(e)&&!(this.Xs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Le(fe.FAILED_PRECONDITION,aR)})}gi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return U0(t).put("owner",e)}static C(){return Vl.C()}mi(t){const e=U0(t);return e.get("owner").next(i=>this.yi(i)?(Ue("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ue.resolve())}Ti(t,e){const i=Date.now();return!(t<i-e||t>i&&(lr(`Detected an update time that is in the future: ${t} > ${i}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ei=()=>{this.bi(),(0,te.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}Pi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(t){var e;try{const i=null!==(null===(e=this.ci)||void 0===e?void 0:e.getItem(this.Ai(t)));return Ue("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return lr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}bi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(t){lr("Failed to set zombie client id.",t)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function U0(n){return Qr(n,"owner")}function Hx(n){return Qr(n,"clientMetadata")}function cR(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class dR{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Ci=i,this.xi=r}static Ni(t,e){let i=an(),r=an();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new dR(t,e.fromCache,i,r)}}class IB{constructor(){this.ki=!1}initialize(t,e){this.Oi=t,this.indexManager=e,this.ki=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Mi(t,e).next(o=>o||this.Fi(t,e,r,i)).next(o=>o||this.$i(t,e))}Mi(t,e){if(lV(e))return ue.resolve(null);let i=Qo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=xx(e,null,"F"),i=Qo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=an(...o);return this.Oi.getDocuments(t,c).next(u=>this.indexManager.getMinOffset(t,i).next(p=>{const _=this.Bi(e,u);return this.Li(e,_,c,p.readTime)?this.Mi(t,xx(e,null,"F")):this.qi(t,_,e,p)}))})))}Fi(t,e,i,r){return lV(e)||r.isEqual(Tt.min())?this.$i(t,e):this.Oi.getDocuments(t,i).next(o=>{const c=this.Bi(e,o);return this.Li(e,c,i,r)?this.$i(t,e):(Ik()<=Qs.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jk(e)),this.qi(t,c,e,O2(r,-1)))})}Bi(t,e){let i=new $n(uV(t));return e.forEach((r,o)=>{E0(t,o)&&(i=i.add(o))}),i}Li(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}$i(t,e){return Ik()<=Qs.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",jk(e)),this.Oi.getDocumentsMatchingQuery(t,e,ea.min())}qi(t,e,i,r){return this.Oi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}class DW{constructor(t,e,i,r){this.persistence=t,this.Ui=e,this.Tt=r,this.Ki=new ir(tn),this.Gi=new Vh(o=>Xp(o),C0),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.Os=t.getBundleCache(),this.zi(i)}zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DB(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ki))}}function SB(n,t,e,i){return new DW(n,t,e,i)}function TB(n,t){return uR.apply(this,arguments)}function uR(){return uR=(0,we.Z)(function*(n,t){const e=ot(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.zi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],u=[];let p=an();for(const _ of r){c.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of o){u.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return e.localDocuments.getDocuments(i,p).next(_=>({Wi:_,removedBatchIds:c,addedBatchIds:u}))})})}),uR.apply(this,arguments)}function MB(n){const t=ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ns.getLastRemoteSnapshotVersion(e))}function AB(n,t,e){let i=an(),r=an();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=xs();return e.forEach((u,p)=>{const _=o.get(u);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(u)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(u,p.readTime),c=c.insert(u,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),c=c.insert(u,p)):Ue("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",p.version)}),{Hi:c,Ji:r}})}function IW(n,t){const e=ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function iy(n,t){const e=ot(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ns.getTargetData(i,t).next(o=>o?(r=o,ue.resolve(r)):e.Ns.allocateTargetId(i).next(c=>(r=new Uh(t,c,0,i.currentSequenceNumber),e.Ns.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ki.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ki=e.Ki.insert(i.targetId,i),e.Gi.set(t,i.targetId)),i})}function ry(n,t,e){return hR.apply(this,arguments)}function hR(){return hR=(0,we.Z)(function*(n,t,e){const i=ot(n),r=i.Ki.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Rh(c))throw c;Ue("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ki=i.Ki.remove(t),i.Gi.delete(r.target)}),hR.apply(this,arguments)}function zx(n,t,e){const i=ot(n);let r=Tt.min(),o=an();return i.persistence.runTransaction("Execute query","readonly",c=>function(u,p,_){const b=ot(u),x=b.Gi.get(_);return void 0!==x?ue.resolve(b.Ki.get(x)):b.Ns.getTargetData(p,_)}(i,c,Qo(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Ns.getMatchingKeysForTargetId(c,u.targetId).next(p=>{o=p})}).next(()=>i.Ui.getDocumentsMatchingQuery(c,t,e?r:Tt.min(),e?o:an())).next(u=>(OB(i,dV(t),u),{documents:u,Yi:o})))}function kB(n,t){const e=ot(n),i=ot(e.Ns),r=e.Ki.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ie(o,t).next(c=>c?c.target:null))}function RB(n,t){const e=ot(n),i=e.Qi.get(t)||Tt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ji.getAllFromCollectionGroup(r,t,O2(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(OB(e,t,r),r))}function OB(n,t,e){let i=n.Qi.get(t)||Tt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Qi.set(t,i)}function fR(){return fR=(0,we.Z)(function*(n,t,e,i){const r=ot(n);let o=an(),c=xs();for(const _ of e){const b=t.Zi(_.metadata.name);_.document&&(o=o.add(b));const x=t.Xi(_);x.setReadTime(t.tr(_.metadata.readTime)),c=c.insert(b,x)}const u=r.ji.newChangeBuffer({trackRemovals:!0}),p=yield iy(r,(_=i,Qo(Y_(In.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>AB(_,u,c).next(b=>(u.apply(_),b)).next(b=>r.Ns.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.Ns.addMatchingKeys(_,o,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.Hi,b.Ji)).next(()=>b.Hi)))}),fR.apply(this,arguments)}function TW(n,t){return pR.apply(this,arguments)}function pR(){return pR=(0,we.Z)(function*(n,t,e=an()){const i=yield iy(n,Qo(Jk(t.bundledQuery))),r=ot(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=cr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Os.saveNamedQuery(o,t);const u=i.withResumeToken(Lr.EMPTY_BYTE_STRING,c);return r.Ki=r.Ki.insert(u.targetId,u),r.Ns.updateTargetData(o,u).next(()=>r.Ns.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Ns.addMatchingKeys(o,e,i.targetId)).next(()=>r.Os.saveNamedQuery(o,t))})}),pR.apply(this,arguments)}function PB(n,t){return`firestore_clients_${n}_${t}`}function FB(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function mR(n,t){return`firestore_targets_${n}_${t}`}class jx{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static er(t,e,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Le(r.error.code,r.error.message))),c?new jx(t,e,r.state,o):(lr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}nr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class H0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static er(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Le(i.error.code,i.error.message))),o?new H0(t,i.state,r):(lr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}nr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class $x{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static er(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Mx();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=U2(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new $x(t,o):(lr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class gR{constructor(t,e){this.clientId=t,this.onlineState=e}static er(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new gR(e.clientId,e.onlineState):(lr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class _R{constructor(){this.activeTargetIds=Mx()}sr(t){this.activeTargetIds=this.activeTargetIds.add(t)}ir(t){this.activeTargetIds=this.activeTargetIds.delete(t)}nr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yR{constructor(t,e,i,r,o){this.window=t,this.Ys=e,this.persistenceKey=i,this.rr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new ir(tn),this.started=!1,this.hr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.lr=PB(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new _R),this._r=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,we.Z)(function*(){const e=yield t.syncEngine.Si();for(const r of e){if(r===t.rr)continue;const o=t.getItem(PB(t.persistenceKey,r));if(o){const c=$x.er(r,o);c&&(t.ar=t.ar.insert(c.clientId,c))}}t.pr();const i=t.storage.getItem(t.gr);if(i){const r=t.Ir(i);r&&t.Tr(r)}for(const r of t.hr)t.cr(r);t.hr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.dr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(t){let e=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ar(t,"pending")}updateMutationState(t,e,i){this.Ar(t,e,i),this.Rr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(mR(this.persistenceKey,t));if(i){const r=H0.er(t,i);r&&(e=r.state)}}return this.br.sr(t),this.pr(),e}removeLocalQueryTarget(t){this.br.ir(t),this.pr()}isLocalQueryTarget(t){return this.br.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(mR(this.persistenceKey,t))}updateQueryState(t,e,i){this.vr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Rr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Pr(t)}notifyBundleLoaded(t){this.Vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ue("SharedClientState","READ",t,e),e}setItem(t,e){Ue("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ue("SharedClientState","REMOVE",t),this.storage.removeItem(t)}cr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ue("SharedClientState","EVENT",i.key,i.newValue),i.key===this.lr)return void lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,we.Z)(function*(){if(e.started){if(null!==i.key)if(e._r.test(i.key)){if(null==i.newValue){const r=e.Sr(i.key);return e.Dr(r,null)}{const r=e.Cr(i.key,i.newValue);if(r)return e.Dr(r.clientId,r)}}else if(e.wr.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(e.mr.test(i.key)){if(null!==i.newValue){const r=e.Or(i.key,i.newValue);if(r)return e.Mr(r)}}else if(i.key===e.gr){if(null!==i.newValue){const r=e.Ir(i.newValue);if(r)return e.Tr(r)}}else if(i.key===e.dr){const r=function(o){let c=ta.at;if(null!=o)try{const u=JSON.parse(o);St("number"==typeof u),c=u}catch(u){lr("SharedClientState","Failed to read sequence number from WebStorage",u)}return c}(i.newValue);r!==ta.at&&e.sequenceNumberHandler(r)}else if(i.key===e.yr){const r=e.Fr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.$r(o)))}}else e.hr.push(i)}))}}get br(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.br.nr())}Ar(t,e,i){const r=new jx(this.currentUser,t,e,i),o=FB(this.persistenceKey,this.currentUser,t);this.setItem(o,r.nr())}Rr(t){const e=FB(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Pr(t){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:t}))}vr(t,e,i){const r=mR(this.persistenceKey,t),o=new H0(t,e,i);this.setItem(r,o.nr())}Vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.yr,e)}Sr(t){const e=this._r.exec(t);return e?e[1]:null}Cr(t,e){const i=this.Sr(t);return $x.er(i,e)}Nr(t,e){const i=this.wr.exec(t),r=Number(i[1]);return jx.er(new Zr(void 0!==i[2]?i[2]:null),r,e)}Or(t,e){const i=this.mr.exec(t),r=Number(i[1]);return H0.er(r,e)}Ir(t){return gR.er(t)}Fr(t){return JSON.parse(t)}kr(t){var e=this;return(0,we.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Br(t.batchId,t.state,t.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Mr(t){return this.syncEngine.Lr(t.targetId,t.state,t.error)}Dr(t,e){const i=e?this.ar.insert(t,e):this.ar.remove(t),r=this.Er(this.ar),o=this.Er(i),c=[],u=[];return o.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{o.has(p)||u.push(p)}),this.syncEngine.qr(c,u).then(()=>{this.ar=i})}Tr(t){this.ar.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Er(t){let e=Mx();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class NB{constructor(){this.Ur=new _R,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Ur.sr(t),this.Kr[t]||"not-current"}updateQueryState(t,e,i){this.Kr[t]=e}removeLocalQueryTarget(t){this.Ur.ir(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.Kr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new _R,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class MW{Gr(t){}shutdown(){}}class LB{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(t){this.Hr.push(t)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Hr)t(0)}Wr(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Hr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const AW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kW{constructor(t){this.Yr=t.Yr,this.Zr=t.Zr}Xr(t){this.eo=t}no(t){this.so=t}onMessage(t){this.io=t}close(){this.Zr()}send(t){this.Yr(t)}ro(){this.eo()}oo(t){this.so(t)}uo(t){this.io(t)}}class RW extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.co=(t.ssl?"https":"http")+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(t,e,i,r,o){const c=this.fo(t,e);Ue("RestConnection","Sending: ",c,i);const u={};return this._o(u,r,o),this.wo(t,c,u,i).then(p=>(Ue("RestConnection","Received: ",p),p),p=>{throw Gp("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}mo(t,e,i,r,o,c){return this.lo(t,e,i,r,o)}_o(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+z_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}fo(t,e){return`${this.co}/v1/${e}:${AW[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}wo(t,e,i,r){return new Promise((o,c)=>{const u=new SG;u.setWithCredentials(!0),u.listenOnce(EG.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xk.NO_ERROR:const _=u.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(_)),o(_);break;case xk.TIMEOUT:Ue("Connection",'RPC "'+t+'" timed out'),c(new Le(fe.DEADLINE_EXCEEDED,"Request time out"));break;case xk.HTTP_ERROR:const b=u.getStatus();if(Ue("Connection",'RPC "'+t+'" failed with status:',b,"response text:",u.getResponseText()),b>0){let x=u.getResponseJson();Array.isArray(x)&&(x=x[0]);const M=x?.error;if(M&&M.status&&M.message){const B=function(H){const K=H.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(K)>=0?K:fe.UNKNOWN}(M.status);c(new Le(B,M.message))}else c(new Le(fe.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Le(fe.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{Ue("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);u.send(e,"POST",p,i,15)})}yo(t,e,i){const r=[this.co,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=CG(),c=DG(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new IG({})),this._o(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const p=r.join("");Ue("Connection","Creating WebChannel: "+p,u);const _=o.createWebChannel(p,u);let b=!1,x=!1;const M=new kW({Yr:H=>{x?Ue("Connection","Not sending because WebChannel is closed:",H):(b||(Ue("Connection","Opening WebChannel transport."),_.open(),b=!0),Ue("Connection","WebChannel sending:",H),_.send(H))},Zr:()=>_.close()}),B=(H,K,se)=>{H.listen(K,Ze=>{try{se(Ze)}catch(mt){setTimeout(()=>{throw mt},0)}})};return B(_,mx.EventType.OPEN,()=>{x||Ue("Connection","WebChannel transport opened.")}),B(_,mx.EventType.CLOSE,()=>{x||(x=!0,Ue("Connection","WebChannel transport closed"),M.oo())}),B(_,mx.EventType.ERROR,H=>{x||(x=!0,Gp("Connection","WebChannel transport errored:",H),M.oo(new Le(fe.UNAVAILABLE,"The operation could not be completed")))}),B(_,mx.EventType.MESSAGE,H=>{var K;if(!x){const se=H.data[0];St(!!se);const mt=se.error||(null===(K=se[0])||void 0===K?void 0:K.error);if(mt){Ue("Connection","WebChannel received error:",mt);const yt=mt.status;let vt=function(zt){const Cn=Tr[zt];if(void 0!==Cn)return IV(Cn)}(yt),Lt=mt.message;void 0===vt&&(vt=fe.INTERNAL,Lt="Unknown error status: "+yt+" with message "+mt.message),x=!0,M.oo(new Le(vt,Lt)),_.close()}else Ue("Connection","WebChannel received:",se),M.uo(se)}}),B(c,xG.STAT_EVENT,H=>{H.stat===S2.PROXY?Ue("Connection","Detected buffering proxy"):H.stat===S2.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.ro()},0),M}}function VB(){return typeof window<"u"?window:null}function Gx(){return typeof document<"u"?document:null}function z0(n){return new D4(n,!0)}class vR{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Ys=t,this.timerId=e,this.po=i,this.Io=r,this.To=o,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(t){this.cancel();const e=Math.floor(this.Eo+this.Po()),i=Math.max(0,Date.now()-this.Ro),r=Math.max(0,e-i);r>0&&Ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Eo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,r,()=>(this.Ro=Date.now(),t())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}class BB{constructor(t,e,i,r,o,c,u,p){this.Ys=t,this.So=i,this.Do=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=p,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new vR(t,e)}Oo(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Fo()}stop(){var t=this;return(0,we.Z)(function*(){t.Oo()&&(yield t.close(0))})()}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(t){this.Uo(),this.stream.send(t)}Lo(){var t=this;return(0,we.Z)(function*(){if(t.Mo())return t.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(t,e){var i=this;return(0,we.Z)(function*(){i.Uo(),i.Ko(),i.ko.cancel(),i.Co++,4!==t?i.ko.reset():e&&e.code===fe.RESOURCE_EXHAUSTED?(lr(e.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),i.ko.bo()):e&&e.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Go(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.no(e)})()}Go(){}auth(){this.state=1;const t=this.Qo(this.Co),e=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Co===e&&this.jo(i,r)},i=>{t(()=>{const r=new Le(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.zo(r)})})}jo(t,e){const i=this.Qo(this.Co);this.stream=this.Wo(t,e),this.stream.Xr(()=>{i(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(r=>{i(()=>this.zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Fo(){var t=this;this.state=5,this.ko.vo((0,we.Z)(function*(){t.state=0,t.start()}))}zo(t){return Ue("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Qo(t){return e=>{this.Ys.enqueueAndForget(()=>this.Co===t?e():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OW extends BB{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.Tt=o}Wo(t,e){return this.connection.yo("Listen",t,e)}onMessage(t){this.ko.reset();const e=function I4(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:gt(),r=t.targetChange.targetIds||[],o=function(p,_){return p.yt?(St(void 0===_||"string"==typeof _),Lr.fromBase64String(_||"")):(St(void 0===_||_ instanceof Uint8Array),Lr.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,u=c&&function(p){const _=void 0===p.code?fe.UNKNOWN:IV(p.code);return new Le(_,p.message||"")}(c);e=new kV(i,r,o,u||null)}else if("documentChange"in t){const i=t.documentChange,r=Pc(n,i.document.name),o=cr(i.document.updateTime),c=i.document.createTime?cr(i.document.createTime):Tt.min(),u=new Kr({mapValue:{fields:i.document.fields}}),p=bi.newFoundDocument(r,o,c,u);e=new Ax(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in t){const i=t.documentDelete,r=Pc(n,i.document),o=i.readTime?cr(i.readTime):Tt.min(),c=bi.newNoDocument(r,o);e=new Ax([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=Pc(n,i.document);e=new Ax([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return gt();{const i=t.filter,o=new p4(i.count||0);e=new AV(i.targetId,o)}}var p;return e}(this.Tt,t),i=function(r){if(!("targetChange"in r))return Tt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Tt.min():o.readTime?cr(o.readTime):Tt.min()}(t);return this.listener.Ho(e,i)}Jo(t){const e={};e.database=R0(this.Tt),e.addTarget=function(r,o){let c;const u=o.target;return c=Cx(u)?{documents:HV(r,u)}:{query:Yk(r,u)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=FV(r,o.resumeToken):o.snapshotVersion.compareTo(Tt.min())>0&&(c.readTime=J_(r,o.snapshotVersion.toTimestamp())),c}(this.Tt,t);const i=function T4(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.qo(e)}Yo(t){const e={};e.database=R0(this.Tt),e.removeTarget=t,this.qo(e)}}class PW extends BB{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.Tt=o,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(t,e){return this.connection.yo("Write",t,e)}onMessage(t){if(St(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Zo){this.ko.reset();const e=function S4(n,t){return n&&n.length>0?(St(void 0!==t),n.map(e=>function(i,r){let o=cr(i.updateTime?i.updateTime:r);return o.isEqual(Tt.min())&&(o=cr(r)),new u4(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=cr(t.commitTime);return this.listener.eu(i,e)}return St(!t.writeResults||0===t.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const t={};t.database=R0(this.Tt),this.qo(t)}tu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>O0(this.Tt,i))};this.qo(e)}}class FW extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.Tt=r,this.iu=!1}ru(){if(this.iu)throw new Le(fe.FAILED_PRECONDITION,"The client has already been terminated.")}lo(t,e,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.lo(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Le(fe.UNKNOWN,r.toString())})}mo(t,e,i,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.mo(t,e,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(fe.UNKNOWN,o.toString())})}terminate(){this.iu=!0}}class LW{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(t){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.hu("Offline")))}set(t){this.du(),this.ou=0,"Online"===t&&(this.cu=!1),this.hu(t)}hu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}lu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(lr(e),this.cu=!1):Ue("OnlineStateTracker",e)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class VW{constructor(t,e,i,r,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=o,this.yu.Gr(u=>{i.enqueueAndForget((0,we.Z)(function*(){var p;Xd(c)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,we.Z)(function*(_){const b=ot(_);b.mu.add(4),yield oy(b),b.pu.set("Unknown"),b.mu.delete(4),yield j0(b)}),function(_){return p.apply(this,arguments)})(c))}))}),this.pu=new LW(i,r)}}function j0(n){return wR.apply(this,arguments)}function wR(){return wR=(0,we.Z)(function*(n){if(Xd(n))for(const t of n.gu)yield t(!0)}),wR.apply(this,arguments)}function oy(n){return CR.apply(this,arguments)}function CR(){return CR=(0,we.Z)(function*(n){for(const t of n.gu)yield t(!1)}),CR.apply(this,arguments)}function Wx(n,t){const e=ot(n);e.wu.has(t.targetId)||(e.wu.set(t.targetId,t),xR(e)?ER(e):ay(e).Mo()&&DR(e,t))}function $0(n,t){const e=ot(n),i=ay(e);e.wu.delete(t),i.Mo()&&UB(e,t),0===e.wu.size&&(i.Mo()?i.Bo():Xd(e)&&e.pu.set("Unknown"))}function DR(n,t){n.Iu.Ft(t.targetId),ay(n).Jo(t)}function UB(n,t){n.Iu.Ft(t),ay(n).Yo(t)}function ER(n){n.Iu=new v4({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ie:t=>n.wu.get(t)||null}),ay(n).start(),n.pu.au()}function xR(n){return Xd(n)&&!ay(n).Oo()&&n.wu.size>0}function Xd(n){return 0===ot(n).mu.size}function HB(n){n.Iu=void 0}function BW(n){return IR.apply(this,arguments)}function IR(){return IR=(0,we.Z)(function*(n){n.wu.forEach((t,e)=>{DR(n,t)})}),IR.apply(this,arguments)}function UW(n,t){return SR.apply(this,arguments)}function SR(){return SR=(0,we.Z)(function*(n,t){HB(n),xR(n)?(n.pu.fu(t),ER(n)):n.pu.set("Unknown")}),SR.apply(this,arguments)}function HW(n,t,e){return TR.apply(this,arguments)}function TR(){return TR=(0,we.Z)(function*(n,t,e){if(n.pu.set("Online"),t instanceof kV&&2===t.state&&t.cause)try{yield(i=(0,we.Z)(function*(r,o){const c=o.cause;for(const u of o.targetIds)r.wu.has(u)&&(yield r.remoteSyncer.rejectListen(u,c),r.wu.delete(u),r.Iu.removeTarget(u))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield qx(n,i)}else if(t instanceof Ax?n.Iu.Qt(t):t instanceof AV?n.Iu.Zt(t):n.Iu.Wt(t),!e.isEqual(Tt.min()))try{const i=yield MB(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const c=r.Iu.ee(o);return c.targetChanges.forEach((u,p)=>{if(u.resumeToken.approximateByteSize()>0){const _=r.wu.get(p);_&&r.wu.set(p,_.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach(u=>{const p=r.wu.get(u);if(!p)return;r.wu.set(u,p.withResumeToken(Lr.EMPTY_BYTE_STRING,p.snapshotVersion)),UB(r,u);const _=new Uh(p.target,u,1,p.sequenceNumber);DR(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Ue("RemoteStore","Failed to raise snapshot:",i),yield qx(n,i)}var i}),TR.apply(this,arguments)}function qx(n,t,e){return MR.apply(this,arguments)}function MR(){return MR=(0,we.Z)(function*(n,t,e){if(!Rh(t))throw t;n.mu.add(1),yield oy(n),n.pu.set("Offline"),e||(e=()=>MB(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield e(),n.mu.delete(1),yield j0(n)}))}),MR.apply(this,arguments)}function zB(n,t){return t().catch(e=>qx(n,e,t))}function sy(n){return AR.apply(this,arguments)}function AR(){return AR=(0,we.Z)(function*(n){const t=ot(n),e=$h(t);let i=t._u.length>0?t._u[t._u.length-1].batchId:-1;for(;zW(t);)try{const r=yield IW(t.localStore,i);if(null===r){0===t._u.length&&e.Bo();break}i=r.batchId,jW(t,r)}catch(r){yield qx(t,r)}jB(t)&&$B(t)}),AR.apply(this,arguments)}function zW(n){return Xd(n)&&n._u.length<10}function jW(n,t){n._u.push(t);const e=$h(n);e.Mo()&&e.Xo&&e.tu(t.mutations)}function jB(n){return Xd(n)&&!$h(n).Oo()&&n._u.length>0}function $B(n){$h(n).start()}function $W(n){return kR.apply(this,arguments)}function kR(){return kR=(0,we.Z)(function*(n){$h(n).su()}),kR.apply(this,arguments)}function GW(n){return RR.apply(this,arguments)}function RR(){return RR=(0,we.Z)(function*(n){const t=$h(n);for(const e of n._u)t.tu(e.mutations)}),RR.apply(this,arguments)}function WW(n,t,e){return OR.apply(this,arguments)}function OR(){return OR=(0,we.Z)(function*(n,t,e){const i=n._u.shift(),r=Qk.from(i,t,e);yield zB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield sy(n)}),OR.apply(this,arguments)}function qW(n,t){return PR.apply(this,arguments)}function PR(){return PR=(0,we.Z)(function*(n,t){var e;t&&$h(n).Xo&&(yield(e=(0,we.Z)(function*(i,r){if(xV(o=r.code)&&o!==fe.ABORTED){const c=i._u.shift();$h(i).$o(),yield zB(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield sy(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),jB(n)&&$B(n)}),PR.apply(this,arguments)}function GB(n,t){return FR.apply(this,arguments)}function FR(){return FR=(0,we.Z)(function*(n,t){const e=ot(n);e.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const i=Xd(e);e.mu.add(3),yield oy(e),i&&e.pu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.mu.delete(3),yield j0(e)}),FR.apply(this,arguments)}function NR(n,t){return LR.apply(this,arguments)}function LR(){return LR=(0,we.Z)(function*(n,t){const e=ot(n);t?(e.mu.delete(2),yield j0(e)):t||(e.mu.add(2),yield oy(e),e.pu.set("Unknown"))}),LR.apply(this,arguments)}function ay(n){return n.Tu||(n.Tu=function(t,e,i){const r=ot(t);return r.ru(),new OW(e,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:BW.bind(null,n),no:UW.bind(null,n),Ho:HW.bind(null,n)}),n.gu.push(function(){var t=(0,we.Z)(function*(e){e?(n.Tu.$o(),xR(n)?ER(n):n.pu.set("Unknown")):(yield n.Tu.stop(),HB(n))});return function(e){return t.apply(this,arguments)}}())),n.Tu}function $h(n){return n.Eu||(n.Eu=function(t,e,i){const r=ot(t);return r.ru(),new PW(e,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:$W.bind(null,n),no:qW.bind(null,n),nu:GW.bind(null,n),eu:WW.bind(null,n)}),n.gu.push(function(){var t=(0,we.Z)(function*(e){e?(n.Eu.$o(),yield sy(n)):(yield n.Eu.stop(),n._u.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(e){return t.apply(this,arguments)}}())),n.Eu}class VR{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,u=new VR(t,e,c,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(n,t){if(lr("AsyncQueue",`${t}: ${n}`),Rh(n))return new Le(fe.UNAVAILABLE,`${t}: ${n}`);throw n}class cy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||tt.comparator(e.key,i.key):(e,i)=>tt.comparator(e.key,i.key),this.keyedMap=S0(),this.sortedSet=new ir(this.comparator)}static emptySet(t){return new cy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof cy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new cy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class WB{constructor(){this.Au=new ir(tt.comparator)}track(t){const e=t.doc.key,i=this.Au.get(e);i?0!==t.type&&3===i.type?this.Au=this.Au.insert(e,t):3===t.type&&1!==i.type?this.Au=this.Au.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Au=this.Au.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Au=this.Au.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Au=this.Au.remove(e):1===t.type&&2===i.type?this.Au=this.Au.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Au=this.Au.insert(e,{type:2,doc:t.doc}):gt():this.Au=this.Au.insert(e,t)}Ru(){const t=[];return this.Au.inorderTraversal((e,i)=>{t.push(i)}),t}}class dy{constructor(t,e,i,r,o,c,u,p,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(u=>{c.push({type:0,doc:u})}),new dy(t,e,cy.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&D0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class YW{constructor(){this.bu=void 0,this.listeners=[]}}class ZW{constructor(){this.queries=new Vh(t=>cV(t),D0),this.onlineState="Unknown",this.vu=new Set}}function BR(n,t){return UR.apply(this,arguments)}function UR(){return UR=(0,we.Z)(function*(n,t){const e=ot(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new YW),r)try{o.bu=yield e.onListen(i)}catch(c){const u=ly(c,`Initialization of query '${jk(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,o),o.listeners.push(t),t.Pu(e.onlineState),o.bu&&t.Vu(o.bu)&&jR(e)}),UR.apply(this,arguments)}function HR(n,t){return zR.apply(this,arguments)}function zR(){return zR=(0,we.Z)(function*(n,t){const e=ot(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),zR.apply(this,arguments)}function KW(n,t){const e=ot(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const u of c.listeners)u.Vu(r)&&(i=!0);c.bu=r}}i&&jR(e)}function QW(n,t,e){const i=ot(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function jR(n){n.vu.forEach(t=>{t.next()})}class $R{constructor(t,e,i){this.query=t,this.Su=e,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=i||{}}Vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new dy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Du?this.xu(t)&&(this.Su.next(t),e=!0):this.Nu(t,this.onlineState)&&(this.ku(t),e=!0),this.Cu=t,e}onError(t){this.Su.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,t)&&(this.ku(this.Cu),e=!0),e}Nu(t,e){return!t.fromCache||(!this.options.Ou||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}xu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(t){t=dy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Du=!0,this.Su.next(t)}}class XW{constructor(t,e){this.Mu=t,this.byteLength=e}Fu(){return"metadata"in this.Mu}}class qB{constructor(t){this.Tt=t}Zi(t){return Pc(this.Tt,t)}Xi(t){return t.metadata.exists?UV(this.Tt,t.document,!1):bi.newNoDocument(this.Zi(t.metadata.name),this.tr(t.metadata.readTime))}tr(t){return cr(t)}}class JW{constructor(t,e,i){this.$u=t,this.localStore=e,this.Tt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=YB(t)}Bu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Mu.namedQuery)this.queries.push(t.Mu.namedQuery);else if(t.Mu.documentMetadata){this.documents.push({metadata:t.Mu.documentMetadata}),t.Mu.documentMetadata.exists||++e;const i=In.fromString(t.Mu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Mu.document&&(this.documents[this.documents.length-1].document=t.Mu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Lu(t){const e=new Map,i=new qB(this.Tt);for(const r of t)if(r.metadata.queries){const o=i.Zi(r.metadata.name);for(const c of r.metadata.queries){const u=(e.get(c)||an()).add(o);e.set(c,u)}}return e}complete(){var t=this;return(0,we.Z)(function*(){const e=yield function SW(n,t,e,i){return fR.apply(this,arguments)}(t.localStore,new qB(t.Tt),t.documents,t.$u.id),i=t.Lu(t.documents);for(const r of t.queries)yield TW(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,qu:t.collectionGroups,Uu:e}})()}}function YB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ZB{constructor(t){this.key=t}}class KB{constructor(t){this.key=t}}class QB{constructor(t,e){this.query=t,this.Ku=e,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=an(),this.mutatedKeys=an(),this.ju=uV(t),this.zu=new cy(this.ju)}get Wu(){return this.Ku}Hu(t,e){const i=e?e.Ju:new WB,r=e?e.zu:this.zu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,u=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,x)=>{const M=r.get(b),B=E0(this.query,x)?x:null,H=!!M&&this.mutatedKeys.has(M.key),K=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let se=!1;M&&B?M.data.isEqual(B.data)?H!==K&&(i.track({type:3,doc:B}),se=!0):this.Yu(M,B)||(i.track({type:2,doc:B}),se=!0,(p&&this.ju(B,p)>0||_&&this.ju(B,_)<0)&&(u=!0)):!M&&B?(i.track({type:0,doc:B}),se=!0):M&&!B&&(i.track({type:1,doc:M}),se=!0,(p||_)&&(u=!0)),se&&(B?(c=c.add(B),o=K?o.add(b):o.delete(b)):(c=c.delete(b),o=o.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),o=o.delete(b.key),i.track({type:1,doc:b})}return{zu:c,Ju:i,Li:u,mutatedKeys:o}}Yu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.zu;this.zu=t.zu,this.mutatedKeys=t.mutatedKeys;const o=t.Ju.Ru();o.sort((_,b)=>function(x,M){const B=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return B(x)-B(M)}(_.type,b.type)||this.ju(_.doc,b.doc)),this.Zu(i);const c=e?this.Xu():[],u=0===this.Qu.size&&this.current?1:0,p=u!==this.Gu;return this.Gu=u,0!==o.length||p?{snapshot:new dy(this.query,t.zu,r,o,t.mutatedKeys,0===u,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),tc:c}:{tc:c}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new WB,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(t){return!this.Ku.has(t)&&!!this.zu.has(t)&&!this.zu.get(t).hasLocalMutations}Zu(t){t&&(t.addedDocuments.forEach(e=>this.Ku=this.Ku.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ku=this.Ku.delete(e)),this.current=t.current)}Xu(){if(!this.current)return[];const t=this.Qu;this.Qu=an(),this.zu.forEach(i=>{this.ec(i.key)&&(this.Qu=this.Qu.add(i.key))});const e=[];return t.forEach(i=>{this.Qu.has(i)||e.push(new KB(i))}),this.Qu.forEach(i=>{t.has(i)||e.push(new ZB(i))}),e}nc(t){this.Ku=t.Yi,this.Qu=an();const e=this.Hu(t.documents);return this.applyChanges(e,!0)}sc(){return dy.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class e5{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class t5{constructor(t){this.key=t,this.ic=!1}}class n5{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.rc={},this.oc=new Vh(u=>cV(u),D0),this.uc=new Map,this.cc=new Set,this.ac=new ir(tt.comparator),this.hc=new Map,this.lc=new sR,this.fc={},this.dc=new Map,this._c=am.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function r5(n,t){return GR.apply(this,arguments)}function GR(){return GR=(0,we.Z)(function*(n,t){const e=m1(n);let i,r;const o=e.oc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.sc();else{const c=yield iy(e.localStore,Qo(t));e.isPrimaryClient&&Wx(e.remoteStore,c);const u=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield WR(e,t,i,"current"===u,c.resumeToken)}return r}),GR.apply(this,arguments)}function WR(n,t,e,i,r){return qR.apply(this,arguments)}function qR(){return qR=(0,we.Z)(function*(n,t,e,i,r){n.mc=(x,M,B)=>{return(H=(0,we.Z)(function*(K,se,Ze,mt){let yt=se.view.Hu(Ze);yt.Li&&(yt=yield zx(K.localStore,se.query,!1).then(({documents:zt})=>se.view.Hu(zt,yt)));const vt=mt&&mt.targetChanges.get(se.targetId),Lt=se.view.applyChanges(yt,K.isPrimaryClient,vt);return r1(K,se.targetId,Lt.tc),Lt.snapshot}),function(K,se,Ze,mt){return H.apply(this,arguments)})(n,x,M,B);var H};const o=yield zx(n.localStore,t,!0),c=new QB(t,o.Yi),u=c.Hu(o.documents),p=A0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),_=c.applyChanges(u,n.isPrimaryClient,p);r1(n,e,_.tc);const b=new e5(t,e,c);return n.oc.set(t,b),n.uc.has(e)?n.uc.get(e).push(t):n.uc.set(e,[t]),_.snapshot}),qR.apply(this,arguments)}function o5(n,t){return YR.apply(this,arguments)}function YR(){return YR=(0,we.Z)(function*(n,t){const e=ot(n),i=e.oc.get(t),r=e.uc.get(i.targetId);if(r.length>1)return e.uc.set(i.targetId,r.filter(o=>!D0(o,t))),void e.oc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ry(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),$0(e.remoteStore,i.targetId),uy(e,i.targetId)}).catch(kh))):(uy(e,i.targetId),yield ry(e.localStore,i.targetId,!0))}),YR.apply(this,arguments)}function ZR(){return ZR=(0,we.Z)(function*(n,t,e){const i=g1(n);try{const r=yield function(o,c){const u=ot(o),p=Ti.now(),_=c.reduce((M,B)=>M.add(B.key),an());let b,x;return u.persistence.runTransaction("Locally write mutations","readwrite",M=>{let B=xs(),H=an();return u.ji.getEntries(M,_).next(K=>{B=K,B.forEach((se,Ze)=>{Ze.isValidDocument()||(H=H.add(se))})}).next(()=>u.localDocuments.getOverlayedDocuments(M,B)).next(K=>{b=K;const se=[];for(const Ze of c){const mt=f4(Ze,b.get(Ze.key).overlayedDocument);null!=mt&&se.push(new Qd(Ze.key,mt,rV(mt.value.mapValue),Mi.exists(!0)))}return u.mutationQueue.addMutationBatch(M,p,se,c)}).next(K=>{x=K;const se=K.applyToLocalDocumentSet(b,H);return u.documentOverlayCache.saveOverlays(M,K.batchId,se)})}).then(()=>({batchId:x.batchId,changes:TV(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,u){let p=o.fc[o.currentUser.toKey()];p||(p=new ir(tn)),p=p.insert(c,u),o.fc[o.currentUser.toKey()]=p}(i,r.batchId,e),yield Jd(i,r.changes),yield sy(i.remoteStore)}catch(r){const o=ly(r,"Failed to persist write");e.reject(o)}}),ZR.apply(this,arguments)}function XB(n,t){return KR.apply(this,arguments)}function KR(){return KR=(0,we.Z)(function*(n,t){const e=ot(n);try{const i=yield function xW(n,t){const e=ot(n),i=t.snapshotVersion;let r=e.Ki;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.ji.newChangeBuffer({trackRemovals:!0});r=e.Ki;const u=[];t.targetChanges.forEach((b,x)=>{const M=r.get(x);if(!M)return;u.push(e.Ns.removeMatchingKeys(o,b.removedDocuments,x).next(()=>e.Ns.addMatchingKeys(o,b.addedDocuments,x)));let B=M.withSequenceNumber(o.currentSequenceNumber);var H,K,se;t.targetMismatches.has(x)?B=B.withResumeToken(Lr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(b.resumeToken,i)),r=r.insert(x,B),K=B,se=b,(0===(H=M).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&u.push(e.Ns.updateTargetData(o,B))});let p=xs(),_=an();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,b))}),u.push(AB(o,c,t.documentUpdates).next(b=>{p=b.Hi,_=b.Ji})),!i.isEqual(Tt.min())){const b=e.Ns.getLastRemoteSnapshotVersion(o).next(x=>e.Ns.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(b)}return ue.waitFor(u).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,p,_)).next(()=>p)}).then(o=>(e.Ki=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.hc.get(o);c&&(St(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.ic=!0:r.modifiedDocuments.size>0?St(c.ic):r.removedDocuments.size>0&&(St(c.ic),c.ic=!1))}),yield Jd(e,i,t)}catch(i){yield kh(i)}}),KR.apply(this,arguments)}function JB(n,t,e){const i=ot(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.oc.forEach((o,c)=>{const u=c.view.Pu(t);u.snapshot&&r.push(u.snapshot)}),function(o,c){const u=ot(o);u.onlineState=c;let p=!1;u.queries.forEach((_,b)=>{for(const x of b.listeners)x.Pu(c)&&(p=!0)}),p&&jR(u)}(i.eventManager,t),r.length&&i.rc.Ho(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function a5(n,t,e){return QR.apply(this,arguments)}function QR(){return QR=(0,we.Z)(function*(n,t,e){const i=ot(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.hc.get(t),o=r&&r.key;if(o){let c=new ir(tt.comparator);c=c.insert(o,bi.newNoDocument(o,Tt.min()));const u=an().add(o),p=new M0(Tt.min(),new Map,new $n(tn),c,u);yield XB(i,p),i.ac=i.ac.remove(o),i.hc.delete(t),o1(i)}else yield ry(i.localStore,t,!1).then(()=>uy(i,t,e)).catch(kh)}),QR.apply(this,arguments)}function l5(n,t){return XR.apply(this,arguments)}function XR(){return XR=(0,we.Z)(function*(n,t){const e=ot(n),i=t.batch.batchId;try{const r=yield function EW(n,t){const e=ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.ji.newChangeBuffer({trackRemovals:!0});return function(c,u,p,_){const b=p.batch,x=b.keys();let M=ue.resolve();return x.forEach(B=>{M=M.next(()=>_.getEntry(u,B)).next(H=>{const K=p.docVersions.get(B);St(null!==K),H.version.compareTo(K)<0&&(b.applyToRemoteDocument(H,p),H.isValidDocument()&&(H.setReadTime(p.commitVersion),_.addEntry(H)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(u,b))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=an();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(u=u.add(c.batch.mutations[p].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);n1(e,i,null),t1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Jd(e,r)}catch(r){yield kh(r)}}),XR.apply(this,arguments)}function c5(n,t,e){return JR.apply(this,arguments)}function JR(){return JR=(0,we.Z)(function*(n,t,e){const i=ot(n);try{const r=yield function(o,c){const u=ot(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return u.mutationQueue.lookupMutationBatch(p,c).next(b=>(St(null!==b),_=b.keys(),u.mutationQueue.removeMutationBatch(p,b))).next(()=>u.mutationQueue.performConsistencyCheck(p)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>u.localDocuments.getDocuments(p,_))})}(i.localStore,t);n1(i,t,e),t1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Jd(i,r)}catch(r){yield kh(r)}}),JR.apply(this,arguments)}function e1(){return e1=(0,we.Z)(function*(n,t){const e=ot(n);Xd(e.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=ot(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>c.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.dc.get(i)||[];r.push(t),e.dc.set(i,r)}catch(i){const r=ly(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),e1.apply(this,arguments)}function t1(n,t){(n.dc.get(t)||[]).forEach(e=>{e.resolve()}),n.dc.delete(t)}function n1(n,t,e){const i=ot(n);let r=i.fc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.fc[i.currentUser.toKey()]=r}}function uy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.uc.get(t))n.oc.delete(i),e&&n.rc.gc(i,e);n.uc.delete(t),n.isPrimaryClient&&n.lc.ds(t).forEach(i=>{n.lc.containsKey(i)||eU(n,i)})}function eU(n,t){n.cc.delete(t.path.canonicalString());const e=n.ac.get(t);null!==e&&($0(n.remoteStore,e),n.ac=n.ac.remove(t),n.hc.delete(e),o1(n))}function r1(n,t,e){for(const i of e)i instanceof ZB?(n.lc.addReference(i.key,t),u5(n,i)):i instanceof KB?(Ue("SyncEngine","Document no longer in limbo: "+i.key),n.lc.removeReference(i.key,t),n.lc.containsKey(i.key)||eU(n,i.key)):gt()}function u5(n,t){const e=t.key,i=e.path.canonicalString();n.ac.get(e)||n.cc.has(i)||(Ue("SyncEngine","New document in limbo: "+e),n.cc.add(i),o1(n))}function o1(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const t=n.cc.values().next().value;n.cc.delete(t);const e=new tt(In.fromString(t)),i=n._c.next();n.hc.set(i,new t5(e)),n.ac=n.ac.insert(e,i),Wx(n.remoteStore,new Uh(Qo(Y_(e.path)),i,2,ta.at))}}function Jd(n,t,e){return s1.apply(this,arguments)}function s1(){return s1=(0,we.Z)(function*(n,t,e){const i=ot(n),r=[],o=[],c=[];var u;i.oc.isEmpty()||(i.oc.forEach((u,p)=>{c.push(i.mc(p,t,e).then(_=>{if((_||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=dR.Ni(p.targetId,_);o.push(b)}}))}),yield Promise.all(c),i.rc.Ho(r),yield(u=(0,we.Z)(function*(p,_){const b=ot(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ue.forEach(_,M=>ue.forEach(M.Ci,B=>b.persistence.referenceDelegate.addReference(x,M.targetId,B)).next(()=>ue.forEach(M.xi,B=>b.persistence.referenceDelegate.removeReference(x,M.targetId,B)))))}catch(x){if(!Rh(x))throw x;Ue("LocalStore","Failed to update sequence numbers: "+x)}for(const x of _){const M=x.targetId;if(!x.fromCache){const B=b.Ki.get(M),K=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);b.Ki=b.Ki.insert(M,K)}}}),function(p,_){return u.apply(this,arguments)})(i.localStore,o))}),s1.apply(this,arguments)}function h5(n,t){return a1.apply(this,arguments)}function a1(){return a1=(0,we.Z)(function*(n,t){const e=ot(n);if(!e.currentUser.isEqual(t)){Ue("SyncEngine","User change. New user:",t.toKey());const i=yield TB(e.localStore,t);e.currentUser=t,(r=e).dc.forEach(c=>{c.forEach(u=>{u.reject(new Le(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.dc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Jd(e,i.Wi)}var r}),a1.apply(this,arguments)}function f5(n,t){const e=ot(n),i=e.hc.get(t);if(i&&i.ic)return an().add(i.key);{let r=an();const o=e.uc.get(t);if(!o)return r;for(const c of o){const u=e.oc.get(c);r=r.unionWith(u.view.Wu)}return r}}function p5(n,t){return l1.apply(this,arguments)}function l1(){return l1=(0,we.Z)(function*(n,t){const e=ot(n),i=yield zx(e.localStore,t.query,!0),r=t.view.nc(i);return e.isPrimaryClient&&r1(e,t.targetId,r.tc),r}),l1.apply(this,arguments)}function m5(n,t){return c1.apply(this,arguments)}function c1(){return c1=(0,we.Z)(function*(n,t){const e=ot(n);return RB(e.localStore,t).then(i=>Jd(e,i))}),c1.apply(this,arguments)}function g5(n,t,e,i){return d1.apply(this,arguments)}function d1(){return d1=(0,we.Z)(function*(n,t,e,i){const r=ot(n),o=yield function(c,u){const p=ot(c),_=ot(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.An(b,u).next(x=>x?p.localDocuments.getDocuments(b,x):ue.resolve(null)))}(r.localStore,t);var u;null!==o?("pending"===e?yield sy(r.remoteStore):"acknowledged"===e||"rejected"===e?(n1(r,t,i||null),t1(r,t),u=t,ot(ot(r.localStore).mutationQueue).bn(u)):gt(),yield Jd(r,o)):Ue("SyncEngine","Cannot apply mutation batch with id: "+t)}),d1.apply(this,arguments)}function u1(){return u1=(0,we.Z)(function*(n,t){const e=ot(n);if(m1(e),g1(e),!0===t&&!0!==e.wc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield tU(e,i.toArray());e.wc=!0,yield NR(e.remoteStore,!0);for(const o of r)Wx(e.remoteStore,o)}else if(!1===t&&!1!==e.wc){const i=[];let r=Promise.resolve();e.uc.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(uy(e,c),ry(e.localStore,c,!0))),$0(e.remoteStore,c)}),yield r,yield tU(e,i),function(o){const c=ot(o);c.hc.forEach((u,p)=>{$0(c.remoteStore,p)}),c.lc._s(),c.hc=new Map,c.ac=new ir(tt.comparator)}(e),e.wc=!1,yield NR(e.remoteStore,!1)}}),u1.apply(this,arguments)}function tU(n,t,e){return h1.apply(this,arguments)}function h1(){return h1=(0,we.Z)(function*(n,t,e){const i=ot(n),r=[],o=[];for(const c of t){let u;const p=i.uc.get(c);if(p&&0!==p.length){u=yield iy(i.localStore,Qo(p[0]));for(const _ of p){const b=i.oc.get(_),x=yield p5(i,b);x.snapshot&&o.push(x.snapshot)}}else{const _=yield kB(i.localStore,c);u=yield iy(i.localStore,_),yield WR(i,nU(_),c,!1,u.resumeToken)}r.push(u)}return i.rc.Ho(o),r}),h1.apply(this,arguments)}function nU(n){return aV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function y5(n){const t=ot(n);return ot(ot(t.localStore).persistence).Si()}function v5(n,t,e,i){return f1.apply(this,arguments)}function f1(){return f1=(0,we.Z)(function*(n,t,e,i){const r=ot(n);if(r.wc)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const o=r.uc.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield RB(r.localStore,dV(o[0])),u=M0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Lr.EMPTY_BYTE_STRING);yield Jd(r,c,u);break}case"rejected":yield ry(r.localStore,t,!0),uy(r,t,i);break;default:gt()}}),f1.apply(this,arguments)}function b5(n,t,e){return p1.apply(this,arguments)}function p1(){return p1=(0,we.Z)(function*(n,t,e){const i=m1(n);if(i.wc){for(const r of t){if(i.uc.has(r)){Ue("SyncEngine","Adding an already active target "+r);continue}const o=yield kB(i.localStore,r),c=yield iy(i.localStore,o);yield WR(i,nU(o),c.targetId,!1,c.resumeToken),Wx(i.remoteStore,c)}for(const r of e)i.uc.has(r)&&(yield ry(i.localStore,r,!1).then(()=>{$0(i.remoteStore,r),uy(i,r)}).catch(kh))}}),p1.apply(this,arguments)}function m1(n){const t=ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=XB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=f5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=a5.bind(null,t),t.rc.Ho=KW.bind(null,t.eventManager),t.rc.gc=QW.bind(null,t.eventManager),t}function g1(n){const t=ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=c5.bind(null,t),t}class iU{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,we.Z)(function*(){e.Tt=z0(t.databaseInfo.databaseId),e.sharedClientState=e.Ic(t),e.persistence=e.Tc(t),yield e.persistence.start(),e.localStore=e.Ec(t),e.gcScheduler=e.Ac(t,e.localStore),e.indexBackfillerScheduler=e.Rc(t,e.localStore)})()}Ac(t,e){return null}Rc(t,e){return null}Ec(t){return SB(this.persistence,new IB,t.initialUser,this.Tt)}Tc(t){return new EB(Ux.qs,this.Tt)}Ic(t){return new NB}terminate(){var t=this;return(0,we.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class rU extends iU{constructor(t,e,i){super(),this.bc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield e().call(i,t),yield i.bc.initialize(i,t),yield g1(i.bc.syncEngine),yield sy(i.bc.remoteStore),yield i.persistence.di(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(t){return SB(this.persistence,new IB,t.initialUser,this.Tt)}Ac(t,e){return new cW(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Rc(t,e){const i=new jG(e,this.persistence);return new zG(t.asyncQueue,i)}Tc(t){const e=cR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Is.withCacheSize(this.cacheSizeBytes):Is.DEFAULT;return new lR(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,VB(),Gx(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(t){return new NB}}class C5 extends rU{constructor(t,e){super(t,e,!1),this.bc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield e().call(i,t);const r=i.bc.syncEngine;i.sharedClientState instanceof yR&&(i.sharedClientState.syncEngine={Br:g5.bind(null,r),Lr:v5.bind(null,r),qr:b5.bind(null,r),Si:y5.bind(null,r),$r:m5.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.di(function(){var o=(0,we.Z)(function*(c){yield function _5(n,t){return u1.apply(this,arguments)}(i.bc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}Ic(t){const e=VB();if(!yR.C(e))throw new Le(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=cR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new yR(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class _1{initialize(t,e){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>JB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=h5.bind(null,i.syncEngine),yield NR(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new ZW}createDatastore(t){const e=z0(t.databaseInfo.databaseId),i=new RW(t.databaseInfo);return new FW(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=u=>JB(this.syncEngine,u,0),c=LB.C()?new LB:new MW,new VW(e,i,r,o,c);var e,i,r,o,c}createSyncEngine(t,e){return function(i,r,o,c,u,p,_){const b=new n5(i,r,o,c,u,p);return _&&(b.wc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,we.Z)(function*(e){const i=ot(e);Ue("RemoteStore","RemoteStore shutting down."),i.mu.add(5),yield oy(i),i.yu.shutdown(),i.pu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function oU(n,t=10240){let e=0;return{read:()=>(0,we.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Yx{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.vc(this.observer.next,t)}error(t){this.observer.error?this.vc(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString())}Pc(){this.muted=!0}vc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class D5{constructor(t,e){this.Vc=t,this.Tt=e,this.metadata=new Nr,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(i=>{i&&i.Fu()?this.metadata.resolve(i.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Mu)}`))},i=>this.metadata.reject(i))}close(){return this.Vc.cancel()}getMetadata(){var t=this;return(0,we.Z)(function*(){return t.metadata.promise})()}yc(){var t=this;return(0,we.Z)(function*(){return yield t.getMetadata(),t.Dc()})()}Dc(){var t=this;return(0,we.Z)(function*(){const e=yield t.Cc();if(null===e)return null;const i=t.Sc.decode(e),r=Number(i);isNaN(r)&&t.xc(`length string (${i}) is not valid number`);const o=yield t.Nc(r);return new XW(JSON.parse(o),e.length+r)})()}kc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Cc(){var t=this;return(0,we.Z)(function*(){for(;t.kc()<0&&!(yield t.Oc()););if(0===t.buffer.length)return null;const e=t.kc();e<0&&t.xc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Nc(t){var e=this;return(0,we.Z)(function*(){for(;e.buffer.length<t;)(yield e.Oc())&&e.xc("Reached the end of bundle when more is expected.");const i=e.Sc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}xc(t){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${t}`)}Oc(){var t=this;return(0,we.Z)(function*(){const e=yield t.Vc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class E5{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Le(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(o,c){const u=ot(o),p=R0(u.Tt)+"/documents",_={documents:c.map(B=>k0(u.Tt,B))},b=yield u.mo("BatchGetDocuments",p,_,c.length),x=new Map;b.forEach(B=>{const H=function x4(n,t){return"found"in t?function(e,i){St(!!i.found);const r=Pc(e,i.found.name),o=cr(i.found.updateTime),c=i.found.createTime?cr(i.found.createTime):Tt.min(),u=new Kr({mapValue:{fields:i.found.fields}});return bi.newFoundDocument(r,o,c,u)}(n,t):"missing"in t?function(e,i){St(!!i.missing),St(!!i.readTime);const r=Pc(e,i.missing),o=cr(i.readTime);return bi.newNoDocument(r,o)}(n,t):gt()}(u.Tt,B);x.set(H.key.toString(),H)});const M=[];return c.forEach(B=>{const H=x.get(B.toString());St(!!H),M.push(H)}),M}),function(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new X_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=tt.fromPath(r);t.mutations.push(new $k(o,t.precondition(o)))}),yield(i=(0,we.Z)(function*(r,o){const c=ot(r),u=R0(c.Tt)+"/documents",p={writes:o.map(_=>O0(c.Tt,_))};yield c.lo("Commit",u,p)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw gt();e=Tt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Le(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Tt.min())?Mi.exists(!1):Mi.updateTime(e):Mi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Tt.min()))throw new Le(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mi.updateTime(e)}return Mi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class x5{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Mc=i.maxAttempts,this.ko=new vR(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Fc()}Fc(){var t=this;this.ko.vo((0,we.Z)(function*(){const e=new E5(t.datastore),i=t.$c(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Bc(o)}))}).catch(r=>{t.Bc(r)})}))}$c(t){try{const e=this.updateFunction(t);return!g0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Bc(t){this.Mc>0&&this.Lc(t)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Fc(),Promise.resolve()))):this.deferred.reject(t)}Lc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!xV(e)}return!1}}class I5{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Zr.UNAUTHENTICATED,this.clientId=k2.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,we.Z)(function*(u){Ue("FirestoreClient","Received user=",u.uid),yield o.authCredentialListener(u),o.user=u});return function(u){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ue("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,we.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ly(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function sU(n,t){return y1.apply(this,arguments)}function y1(){return y1=(0,we.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(o){i.isEqual(o)||(yield TB(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),y1.apply(this,arguments)}function aU(n,t){return v1.apply(this,arguments)}function v1(){return v1=(0,we.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield b1(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>GB(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>GB(t.remoteStore,o)),n.onlineComponents=t}),v1.apply(this,arguments)}function b1(n){return w1.apply(this,arguments)}function w1(){return w1=(0,we.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield sU(n,new iU)),n.offlineComponents}),w1.apply(this,arguments)}function Zx(n){return C1.apply(this,arguments)}function C1(){return C1=(0,we.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield aU(n,new _1)),n.onlineComponents}),C1.apply(this,arguments)}function lU(n){return b1(n).then(t=>t.persistence)}function Kx(n){return b1(n).then(t=>t.localStore)}function D1(n){return Zx(n).then(t=>t.remoteStore)}function E1(n){return Zx(n).then(t=>t.syncEngine)}function hy(n){return x1.apply(this,arguments)}function x1(){return x1=(0,we.Z)(function*(n){const t=yield Zx(n),e=t.eventManager;return e.onListen=r5.bind(null,t.syncEngine),e.onUnlisten=o5.bind(null,t.syncEngine),e}),x1.apply(this,arguments)}function dU(n,t,e={}){const i=new Nr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,o,c,u,p){const _=new Yx({next:x=>{o.enqueueAndForget(()=>HR(r,b));const M=x.docs.has(c);!M&&x.fromCache?p.reject(new Le(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&x.fromCache&&u&&"server"===u.source?p.reject(new Le(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new $R(Y_(c.path),_,{includeMetadataChanges:!0,Ou:!0});return BR(r,b)}(yield hy(n),n.asyncQueue,t,e,i)})),i.promise}function uU(n,t,e={}){const i=new Nr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,o,c,u,p){const _=new Yx({next:x=>{o.enqueueAndForget(()=>HR(r,b)),x.fromCache&&"server"===u.source?p.reject(new Le(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new $R(c,_,{includeMetadataChanges:!0,Ou:!0});return BR(r,b)}(yield hy(n),n.asyncQueue,t,e,i)})),i.promise}const hU=new Map;function I1(n,t,e){if(!e)throw new Le(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function fU(n,t,e,i){if(!0===t&&!0===i)throw new Le(fe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function pU(n){if(!tt.isDocumentKey(n))throw new Le(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mU(n){if(tt.isDocumentKey(n))throw new Le(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":gt()}function vn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Le(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Qx(n);throw new Le(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function gU(n,t){if(t<=0)throw new Le(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class _U{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Le(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Le(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,fU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class G0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _U({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Le(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _U(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new AG;switch(e.type){case"gapi":return new PG(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Le(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=hU.get(t);e&&(Ue("ComponentProvider","Removing Datastore"),hU.delete(t),e.terminate())}(this),Promise.resolve()}}function yU(n,t,e,i={}){var r;const o=(n=vn(n,G0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Gp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,u;if("string"==typeof i.mockUserToken)c=i.mockUserToken,u=Zr.MOCK_USER;else{c=(0,te.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Le(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Zr(p)}n._authCredentials=new kG(new M2(c,u))}}class wi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new wi(this.firestore,t,this._key)}}class go{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new go(this.firestore,t,this._query)}}class Nc extends go{constructor(t,e,i){super(t,e,Y_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new wi(this.firestore,null,new tt(t))}withConverter(t){return new Nc(this.firestore,t,this._path)}}function vU(n,t,...e){if(n=(0,te.m9)(n),I1("collection","path",t),n instanceof G0){const i=In.fromString(t,...e);return mU(i),new Nc(n,null,i)}{if(!(n instanceof wi||n instanceof Nc))throw new Le(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(In.fromString(t,...e));return mU(i),new Nc(n.firestore,null,i)}}function Xx(n,t,...e){if(n=(0,te.m9)(n),1===arguments.length&&(t=k2.R()),I1("doc","path",t),n instanceof G0){const i=In.fromString(t,...e);return pU(i),new wi(n,null,new tt(i))}{if(!(n instanceof wi||n instanceof Nc))throw new Le(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(In.fromString(t,...e));return pU(i),new wi(n.firestore,n instanceof Nc?n.converter:null,new tt(i))}}function bU(n,t){return n=(0,te.m9)(n),t=(0,te.m9)(t),(n instanceof wi||n instanceof Nc)&&(t instanceof wi||t instanceof Nc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function S1(n,t){return n=(0,te.m9)(n),t=(0,te.m9)(t),n instanceof go&&t instanceof go&&n.firestore===t.firestore&&D0(n._query,t._query)&&n.converter===t.converter}class F5{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new vR(this,"async_queue_retry"),this.Hc=()=>{const e=Gx();e&&Ue("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ko.Vo()};const t=Gx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Jc(),this.Yc(t)}enterRestrictedMode(t){if(!this.Kc){this.Kc=!0,this.zc=t||!1;const e=Gx();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Hc)}}enqueue(t){if(this.Jc(),this.Kc)return new Promise(()=>{});const e=new Nr;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Uc.push(t),this.Zc()))}Zc(){var t=this;return(0,we.Z)(function*(){if(0!==t.Uc.length){try{yield t.Uc[0](),t.Uc.shift(),t.ko.reset()}catch(e){if(!Rh(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}t.Uc.length>0&&t.ko.vo(()=>t.Zc())}})()}Yc(t){const e=this.qc.then(()=>(this.jc=!0,t().catch(i=>{throw this.Qc=i,this.jc=!1,lr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.jc=!1,i))));return this.qc=e,e}enqueueAfterDelay(t,e,i){this.Jc(),this.Wc.indexOf(t)>-1&&(e=0);const r=VR.createAndSchedule(this,t,e,i,o=>this.Xc(o));return this.Gc.push(r),r}Jc(){this.Qc&&gt()}verifyOperationInProgress(){}ta(){var t=this;return(0,we.Z)(function*(){let e;do{e=t.qc,yield e}while(e!==t.qc)})()}ea(t){for(const e of this.Gc)if(e.timerId===t)return!0;return!1}na(t){return this.ta().then(()=>{this.Gc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Gc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ta()})}sa(t){this.Wc.push(t)}Xc(t){const e=this.Gc.indexOf(t);this.Gc.splice(e,1)}}function T1(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class N5{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ci extends G0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new F5,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wU(this),this._firestoreClient.terminate()}}function V5(n,t){const e="object"==typeof n?n:(0,Wr.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Wr._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,te.P0)("firestore");o&&yU(r,...o)}return r}function dr(n){return n._firestoreClient||wU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wU(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new WG(n._databaseId,o,n._persistenceKey,(u=e).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams));var o,u;n._firestoreClient=new I5(n._authCredentials,n._appCheckCredentials,n._queue,i)}function CU(n,t,e){const i=new Nr;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield sU(n,e),yield aU(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(c=o).name?c.code===fe.FAILED_PRECONDITION||c.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;Gp("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var c})).then(()=>i.promise)}function DU(n){if(n._initialized||n._terminated)throw new Le(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Lc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Lc(Lr.fromBase64String(t))}catch(e){throw new Le(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Lc(Lr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class eu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Le(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cm{constructor(t){this._methodName=t}}class Jx{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Le(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Le(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return tn(this._lat,t._lat)||tn(this._long,t._long)}}const Y5=/^__.*__$/;class Z5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Qd(t,this.data,this.fieldMask,e,this.fieldTransforms):new Q_(t,this.data,e,this.fieldTransforms)}}class EU{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Qd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function xU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class eI{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.Tt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ia(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(t){return new eI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.oa({path:i,ca:!1});return r.aa(t),r}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.oa({path:i,ca:!1});return r.ia(),r}la(t){return this.oa({path:void 0,ca:!0})}fa(t){return iI(t,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ia(){if(this.path)for(let t=0;t<this.path.length;t++)this.aa(this.path.get(t))}aa(t){if(0===t.length)throw this.fa("Document fields must not be empty");if(xU(this.ra)&&Y5.test(t))throw this.fa('Document fields cannot begin and end with "__"')}}class K5{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.Tt=i||z0(t)}wa(t,e,i,r=!1){return new eI({ra:t,methodName:e,_a:i,path:tr.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function dm(n){const t=n._freezeSettings(),e=z0(n._databaseId);return new K5(n._databaseId,!!t.ignoreUndefinedProperties,e)}function tI(n,t,e,i,r,o={}){const c=n.wa(o.merge||o.mergeFields?2:0,t,e,r);R1("Data must be an object, but it was:",c,i);const u=TU(i,c);let p,_;if(o.merge)p=new Es(c.fieldMask),_=c.fieldTransforms;else if(o.mergeFields){const b=[];for(const x of o.mergeFields){const M=Y0(t,x,e);if(!c.contains(M))throw new Le(fe.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);AU(b,M)||b.push(M)}p=new Es(b),_=c.fieldTransforms.filter(x=>p.covers(x.field))}else p=null,_=c.fieldTransforms;return new Z5(new Kr(u),p,_)}class q0 extends cm{_toFieldTransform(t){if(2!==t.ra)throw t.fa(1===t.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof q0}}function IU(n,t,e){return new eI({ra:3,_a:t.settings._a,methodName:n._methodName,ca:e},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}class M1 extends cm{_toFieldTransform(t){return new x0(t.path,new Z_)}isEqual(t){return t instanceof M1}}class Q5 extends cm{constructor(t,e){super(t),this.ma=e}_toFieldTransform(t){const e=IU(this,t,!0),i=this.ma.map(o=>um(o,e)),r=new em(i);return new x0(t.path,r)}isEqual(t){return this===t}}class X5 extends cm{constructor(t,e){super(t),this.ma=e}_toFieldTransform(t){const e=IU(this,t,!0),i=this.ma.map(o=>um(o,e)),r=new tm(i);return new x0(t.path,r)}isEqual(t){return this===t}}class J5 extends cm{constructor(t,e){super(t),this.ga=e}_toFieldTransform(t){const e=new K_(t.Tt,pV(t.Tt,this.ga));return new x0(t.path,e)}isEqual(t){return this===t}}function A1(n,t,e,i){const r=n.wa(1,t,e);R1("Data must be an object, but it was:",r,i);const o=[],c=Kr.empty();Yp(i,(p,_)=>{const b=nI(t,p,e);_=(0,te.m9)(_);const x=r.ha(b);if(_ instanceof q0)o.push(b);else{const M=um(_,x);null!=M&&(o.push(b),c.set(b,M))}});const u=new Es(o);return new EU(c,u,r.fieldTransforms)}function k1(n,t,e,i,r,o){const c=n.wa(1,t,e),u=[Y0(t,i,e)],p=[r];if(o.length%2!=0)throw new Le(fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)u.push(Y0(t,o[M])),p.push(o[M+1]);const _=[],b=Kr.empty();for(let M=u.length-1;M>=0;--M)if(!AU(_,u[M])){const B=u[M];let H=p[M];H=(0,te.m9)(H);const K=c.ha(B);if(H instanceof q0)_.push(B);else{const se=um(H,K);null!=se&&(_.push(B),b.set(B,se))}}const x=new Es(_);return new EU(b,x,c.fieldTransforms)}function SU(n,t,e,i=!1){return um(e,n.wa(i?4:3,t))}function um(n,t){if(MU(n=(0,te.m9)(n)))return R1("Unsupported field value:",t,n),TU(n,t);if(n instanceof cm)return function(e,i){if(!xU(i.ra))throw i.fa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const c of e){let u=um(c,i.la(o));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,te.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pV(i.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ti.fromDate(e);return{timestampValue:J_(i.Tt,r)}}if(e instanceof Ti){const r=new Ti(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:J_(i.Tt,r)}}if(e instanceof Jx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Lc)return{bytesValue:FV(i.Tt,e._byteString)};if(e instanceof wi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.fa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Gk(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.fa(`Unsupported field value: ${Qx(e)}`)}(n,t)}function TU(n,t){const e={};return B2(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yp(n,(i,r)=>{const o=um(r,t.ua(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function MU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ti||n instanceof Jx||n instanceof Lc||n instanceof wi||n instanceof cm)}function R1(n,t,e){if(!MU(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Qx(e);throw t.fa("an object"===i?n+" a custom object":n+" "+i)}var i}function Y0(n,t,e){if((t=(0,te.m9)(t))instanceof eu)return t._internalPath;if("string"==typeof t)return nI(n,t);throw iI("Field path arguments must be of type string or ",n,!1,void 0,e)}const eq=new RegExp("[~\\*/\\[\\]]");function nI(n,t,e){if(t.search(eq)>=0)throw iI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new eu(...t.split("."))._internalPath}catch{throw iI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function iI(n,t,e,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Le(fe.INVALID_ARGUMENT,u+n+p)}function AU(n,t){return n.some(e=>e.isEqual(t))}class Z0{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new tq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(rI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class tq extends Z0{data(){return super.data()}}function rI(n,t){return"string"==typeof t?nI(n,t):t instanceof eu?t._internalPath:t._delegate._internalPath}function kU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O1{}class K0 extends O1{}function Gh(n,t,...e){let i=[];t instanceof O1&&i.push(t),i=i.concat(e),function(r){const o=r.filter(u=>u instanceof fy).length,c=r.filter(u=>u instanceof Q0).length;if(o>1||o>0&&c>0)throw new Le(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Q0 extends K0{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Q0(t,e,i)}_apply(t){const e=this._parse(t);return FU(t._query,e),new go(t.firestore,t.converter,zk(t._query,e))}_parse(t){const e=dm(t.firestore);return function(r,o,c,u,p,_,b){let x;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Le(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){PU(b,_);const M=[];for(const B of b)M.push(OU(u,r,B));x={arrayValue:{values:M}}}else x=OU(u,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||PU(b,_),x=SU(c,"where",b,"in"===_||"not-in"===_);return yn.create(p,_,x)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class fy extends O1{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new fy(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Hn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const c=r.getFlattenedFilters();for(const u of c)FU(o,u),o=zk(o,u)}(t._query,e),new go(t.firestore,t.converter,zk(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class P1 extends K0{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new P1(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Le(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Le(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new W_(r,o);return function(u,p){if(null===Uk(u)){const _=Ex(u);null!==_&&NU(0,_,p.field)}}(i,c),c}(t._query,this._field,this._direction);return new go(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Kd(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class oI extends K0{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new oI(t,e,i)}_apply(t){return new go(t.firestore,t.converter,xx(t._query,this._limit,this._limitType))}}class sI extends K0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new sI(t,e,i)}_apply(t){const e=RU(t,this.type,this._docOrFields,this._inclusive);return new go(t.firestore,t.converter,(r=e,new Kd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class aI extends K0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new aI(t,e,i)}_apply(t){const e=RU(t,this.type,this._docOrFields,this._inclusive);return new go(t.firestore,t.converter,(r=e,new Kd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function RU(n,t,e,i){if(e[0]=(0,te.m9)(e[0]),e[0]instanceof Z0)return function(r,o,c,u,p){if(!u)throw new Le(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const b of Jp(r))if(b.field.isKeyField())_.push(Qp(o,u.key));else{const x=u.data.field(b.field);if(Ok(x))throw new Le(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const M=b.field.canonicalString();throw new Le(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}_.push(x)}return new Lh(_,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=dm(n.firestore);return function(o,c,u,p,_,b){const x=o.explicitOrderBy;if(_.length>x.length)throw new Le(fe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let B=0;B<_.length;B++){const H=_[B];if(x[B].field.isKeyField()){if("string"!=typeof H)throw new Le(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof H}`);if(!Hk(o)&&-1!==H.indexOf("/"))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${H}' contains a slash.`);const K=o.path.child(In.fromString(H));if(!tt.isDocumentKey(K))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const se=new tt(K);M.push(Qp(c,se))}else{const K=SU(u,p,H);M.push(K)}}return new Lh(M,b)}(n._query,n.firestore._databaseId,r,t,e,i)}}function OU(n,t,e){if("string"==typeof(e=(0,te.m9)(e))){if(""===e)throw new Le(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hk(t)&&-1!==e.indexOf("/"))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(In.fromString(e));if(!tt.isDocumentKey(i))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Qp(n,new tt(i))}if(e instanceof wi)return Qp(n,e._key);throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qx(e)}.`)}function PU(n,t){if(!Array.isArray(n)||0===n.length)throw new Le(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function FU(n,t){if(t.isInequality()){const i=Ex(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=Uk(n);null!==o&&NU(0,r,o)}const e=function(i,r){for(const o of i)for(const c of o.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Le(fe.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function NU(n,t,e){if(!e.isEqual(t))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class F1{convertValue(t,e="none"){switch(Kp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Zp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw gt()}}convertObject(t,e){const i={};return Yp(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new Jx(nr(t.latitude),nr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=H2(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(y0(t));default:return null}}convertTimestamp(t){const e=Ph(t);return new Ti(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=In.fromString(t);St(GV(i));const r=new Oh(i.get(1),i.get(3)),o=new tt(i.popFirst(5));return r.isEqual(e)||lr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function lI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class dq extends F1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new wi(this.firestore,null,e)}}class hm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class tu extends Z0{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new X0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(rI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class X0 extends tu{data(t={}){return super.data(t)}}class Wh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new hm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new X0(this._firestore,this._userDataWriter,i.key,i,new hm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Le(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new X0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new hm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const u=new X0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new hm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:hq(c.type),doc:u,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function hq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function VU(n,t){return n instanceof tu&&t instanceof tu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Wh&&t instanceof Wh&&n._firestore===t._firestore&&S1(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class qh extends F1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new wi(this.firestore,null,e)}}function BU(n,t,e){n=vn(n,wi);const i=vn(n.firestore,Ci),r=lI(n.converter,t,e);return py(i,[tI(dm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Mi.none())])}function UU(n,t,e,...i){n=vn(n,wi);const r=vn(n.firestore,Ci),o=dm(r);let c;return c="string"==typeof(t=(0,te.m9)(t))||t instanceof eu?k1(o,"updateDoc",n._key,t,e,i):A1(o,"updateDoc",n._key,t),py(r,[c.toMutation(n._key,Mi.exists(!0))])}function HU(n,...t){var e,i,r;n=(0,te.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||T1(t[c])||(o=t[c],c++);const u={includeMetadataChanges:o.includeMetadataChanges};if(T1(t[c])){const x=t[c];t[c]=null===(e=x.next)||void 0===e?void 0:e.bind(x),t[c+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),t[c+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let p,_,b;if(n instanceof wi)_=vn(n.firestore,Ci),b=Y_(n._key.path),p={next:x=>{t[c]&&t[c](N1(_,n,x))},error:t[c+1],complete:t[c+2]};else{const x=vn(n,go);_=vn(x.firestore,Ci),b=x._query;const M=new qh(_);p={next:B=>{t[c]&&t[c](new Wh(_,M,x,B))},error:t[c+1],complete:t[c+2]},kU(n._query)}return function(x,M,B,H){const K=new Yx(H),se=new $R(M,K,B);return x.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return BR(yield hy(x),se)})),()=>{K.Pc(),x.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return HR(yield hy(x),se)}))}}(dr(_),b,u,p)}function py(n,t){return function(e,i){const r=new Nr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function s5(n,t,e){return ZR.apply(this,arguments)}(yield E1(e),i,r)})),r.promise}(dr(n),t)}function N1(n,t,e){const i=e.docs.get(t._key),r=new qh(n);return new tu(n,r,t._key,i,new hm(e.hasPendingWrites,e.fromCache),t.converter)}const Dq={maxAttempts:5};class zU{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=dm(t)}set(t,e,i){this._verifyNotCommitted();const r=Yh(t,this._firestore),o=lI(r.converter,e,i),c=tI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Mi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Yh(t,this._firestore);let c;return c="string"==typeof(e=(0,te.m9)(e))||e instanceof eu?k1(this._dataReader,"WriteBatch.update",o._key,e,i,r):A1(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,Mi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Yh(t,this._firestore);return this._mutations=this._mutations.concat(new X_(e._key,Mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yh(n,t){if((n=(0,te.m9)(n)).firestore!==t)throw new Le(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Eq extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=dm(t)}get(t){const e=Yh(t,this._firestore),i=new dq(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return gt();const o=r[0];if(o.isFoundDocument())return new Z0(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Z0(this._firestore,i,e._key,null,e.converter);throw gt()})}set(t,e,i){const r=Yh(t,this._firestore),o=lI(r.converter,e,i),c=tI(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const o=Yh(t,this._firestore);let c;return c="string"==typeof(e=(0,te.m9)(e))||e instanceof eu?k1(this._dataReader,"Transaction.update",o._key,e,i,r):A1(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=Yh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Yh(t,this._firestore),i=new qh(this._firestore);return super.get(t).then(r=>new tu(this._firestore,i,e._key,r._document,new hm(!1,!1),e.converter))}}!function(n,t=!0){z_=Wr.SDK_VERSION,(0,Wr._registerComponent)(new Mp.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),c=new Ci(new RG(e.getProvider("auth-internal")),new FG(e.getProvider("app-check-internal")),function(u,p){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Le(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(u.options.projectId,p)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Wr.registerVersion)(T2,"3.8.4",n),(0,Wr.registerVersion)(T2,"3.8.4","esm2017")}();function L1(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function $U(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function GU(){if(!function YG(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}class J0{constructor(t){this._delegate=t}static fromBase64String(t){return GU(),new J0(Lc.fromBase64String(t))}static fromUint8Array(t){return $U(),new J0(Lc.fromUint8Array(t))}toBase64(){return GU(),this._delegate.toBase64()}toUint8Array(){return $U(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function V1(n){return function Oq(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Pq{enableIndexedDbPersistence(t,e){return function B5(n,t){DU(n=vn(n,Ci));const e=dr(n),i=n._freezeSettings(),r=new _1;return CU(e,r,new rU(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function U5(n){DU(n=vn(n,Ci));const t=dr(n),e=n._freezeSettings(),i=new _1;return CU(t,i,new C5(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function H5(n){if(n._initialized&&!n._terminated)throw new Le(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Nr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(e=(0,we.Z)(function*(i){if(!Vl.C())return Promise.resolve();const r=i+"main";yield Vl.delete(r)}),function(i){return e.apply(this,arguments)})(cR(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class WU{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Oh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Gp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){yU(this._delegate,t,e,i)}enableNetwork(){return function j5(n){return function S5(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const t=yield lU(n),e=yield D1(n);return t.setNetworkEnabled(!0),function(i){const r=ot(i);return r.mu.delete(0),j0(r)}(e)}))}(dr(n=vn(n,Ci)))}(this._delegate)}disableNetwork(){return function $5(n){return function T5(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const t=yield lU(n),e=yield D1(n);return t.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const o=ot(r);o.mu.add(0),yield oy(o),o.pu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(dr(n=vn(n,Ci)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,fU("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function z5(n){return function(t){const e=new Nr;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function d5(n,t){return e1.apply(this,arguments)}(yield E1(t),e)})),e.promise}(dr(n=vn(n,Ci)))}(this._delegate)}onSnapshotsInSync(t){return function wq(n,t){return function k5(n,t){const e=new Yx(t);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield hy(n),r=e,ot(i).vu.add(r),void r.next();var i,r})),()=>{e.Pc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield hy(n),r=e,void ot(i).vu.delete(r);var i,r}))}}(dr(n=vn(n,Ci)),T1(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new my(this,vU(this._delegate,t))}catch(e){throw Jo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ga(this,Xx(this._delegate,t))}catch(e){throw Jo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new es(this,function P5(n,t){if(n=vn(n,G0),I1("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Le(fe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new go(n,null,(e=t,new Kd(In.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Jo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function xq(n,t,e){n=vn(n,Ci);const i=Object.assign(Object.assign({},Dq),e);return function(r){if(r.maxAttempts<1)throw new Le(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,c){const u=new Nr;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const p=yield function cU(n){return Zx(n).then(t=>t.datastore)}(r);new x5(r.asyncQueue,p,c,o,u).run()})),u.promise}(dr(n),r=>t(new Eq(n,r)),i)}(this._delegate,e=>t(new qU(this,e)))}batch(){return dr(this._delegate),new YU(new zU(this._delegate,t=>py(this._delegate,t)))}loadBundle(t){return function G5(n,t){const e=dr(n=vn(n,Ci)),i=new N5;return function R5(n,t,e,i){const r=function(o,c){let u;return u="string"==typeof o?(new TextEncoder).encode(o):o,p=function(p,_){if(p instanceof Uint8Array)return oU(p,_);if(p instanceof ArrayBuffer)return oU(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new D5(p,c);var p}(e,z0(t));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function w5(n,t,e){const i=ot(n);var r;(r=(0,we.Z)(function*(o,c,u){try{const p=yield c.getMetadata();if(yield function(M,B){const H=ot(M),K=cr(B.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",se=>H.Os.getBundleMetadata(se,B.id)).then(se=>!!se&&se.createTime.compareTo(K)>=0)}(o.localStore,p))return yield c.close(),u._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);u._updateProgress(YB(p));const _=new JW(p,o.localStore,c.Tt);let b=yield c.yc();for(;b;){const M=yield _.Bu(b);M&&u._updateProgress(M),b=yield c.yc()}const x=yield _.complete();return yield Jd(o,x.Uu,void 0),yield function(M,B){const H=ot(M);return H.persistence.runTransaction("Save bundle","readwrite",K=>H.Os.saveBundleMetadata(K,B))}(o.localStore,p),u._completeWith(x.progress),Promise.resolve(x.qu)}catch(p){return Gp("SyncEngine",`Loading bundle failed with ${p}`),u._failWith(p),Promise.resolve(new Set)}var M}),function(o,c,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield E1(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function W5(n,t){return function O5(n,t){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(e,i){const r=ot(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Os.getNamedQuery(o,i))}(yield Kx(n),t)}))}(dr(n=vn(n,Ci)),t).then(e=>e?new go(n,null,e.query):null)}(this._delegate,t).then(e=>e?new es(this,e):null)}}class cI extends F1{constructor(t){super(),this.firestore=t}convertBytes(t){return new J0(new Lc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ga.forKey(e,this.firestore,null)}}class qU{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new cI(t)}get(t){const e=pm(t);return this._delegate.get(e).then(i=>new ew(this._firestore,new tu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=pm(t);return i?(L1("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=pm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=pm(t);return this._delegate.delete(e),this}}class YU{constructor(t){this._delegate=t}set(t,e,i){const r=pm(t);return i?(L1("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=pm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=pm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class fm{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new X0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new tw(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=fm.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new fm(t,new cI(t),e),r.set(e,o)),o}}fm.INSTANCES=new WeakMap;class Ga{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ga(e,new wi(e._delegate,i,new tt(t)))}static forKey(t,e,i){return new Ga(e,new wi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new my(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new my(this.firestore,vU(this._delegate,t))}catch(e){throw Jo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,te.m9)(t))instanceof wi&&bU(this._delegate,t)}set(t,e){e=L1("DocumentReference.set",e);try{return e?BU(this._delegate,t,e):BU(this._delegate,t)}catch(i){throw Jo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?UU(this._delegate,t):UU(this._delegate,t,e,...i)}catch(r){throw Jo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function vq(n){return py(vn(n.firestore,Ci),[new X_(n._key,Mi.none())])}(this._delegate)}onSnapshot(...t){const e=ZU(t),i=KU(t,r=>new ew(this.firestore,new tu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return HU(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function pq(n){n=vn(n,wi);const t=vn(n.firestore,Ci),e=dr(t),i=new qh(t);return function M5(n,t){const e=new Nr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,o,c){try{const u=yield function(p,_){const b=ot(p);return b.persistence.runTransaction("read document","readonly",x=>b.localDocuments.getDocument(x,_))}(r,o);u.isFoundDocument()?c.resolve(u):u.isNoDocument()?c.resolve(null):c.reject(new Le(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const p=ly(u,`Failed to get document '${o} from cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield Kx(n),t,e);var i})),e.promise}(e,n._key).then(r=>new tu(t,i,n._key,r,new hm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function mq(n){n=vn(n,wi);const t=vn(n.firestore,Ci);return dU(dr(t),n._key,{source:"server"}).then(e=>N1(t,n,e))}(this._delegate):function fq(n){n=vn(n,wi);const t=vn(n.firestore,Ci);return dU(dr(t),n._key).then(e=>N1(t,n,e))}(this._delegate),e.then(i=>new ew(this.firestore,new tu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ga(this.firestore,this._delegate.withConverter(t?fm.getInstance(this.firestore,t):null))}}function Jo(n,t,e){return n.message=n.message.replace(t,e),n}function ZU(n){for(const t of n)if("object"==typeof t&&!V1(t))return t;return{}}function KU(n,t){var e,i;let r;return r=V1(n[0])?n[0]:V1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class ew{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return VU(this._delegate,t._delegate)}}class tw extends ew{data(t){const e=this._delegate.data(t);return function MG(n,t){n||gt()}(void 0!==e),e}}class es{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cI(t)}where(t,e,i){try{return new es(this.firestore,Gh(this._delegate,function nq(n,t,e){const i=t,r=rI("where",n);return Q0._create(r,i,e)}(t,e,i)))}catch(r){throw Jo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new es(this.firestore,Gh(this._delegate,function iq(n,t="asc"){const e=t,i=rI("orderBy",n);return P1._create(i,e)}(t,e)))}catch(i){throw Jo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new es(this.firestore,Gh(this._delegate,function rq(n){return gU("limit",n),oI._create("limit",n,"F")}(t)))}catch(e){throw Jo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new es(this.firestore,Gh(this._delegate,function oq(n){return gU("limitToLast",n),oI._create("limitToLast",n,"L")}(t)))}catch(e){throw Jo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new es(this.firestore,Gh(this._delegate,function sq(...n){return sI._create("startAt",n,!0)}(...t)))}catch(e){throw Jo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new es(this.firestore,Gh(this._delegate,function aq(...n){return sI._create("startAfter",n,!1)}(...t)))}catch(e){throw Jo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new es(this.firestore,Gh(this._delegate,function lq(...n){return aI._create("endBefore",n,!1)}(...t)))}catch(e){throw Jo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new es(this.firestore,Gh(this._delegate,function cq(...n){return aI._create("endAt",n,!0)}(...t)))}catch(e){throw Jo(e,"endAt()","Query.endAt()")}}isEqual(t){return S1(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function _q(n){n=vn(n,go);const t=vn(n.firestore,Ci),e=dr(t),i=new qh(t);return function A5(n,t){const e=new Nr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,o,c){try{const u=yield zx(r,o,!0),p=new QB(o,u.Yi),_=p.Hu(u.documents),b=p.applyChanges(_,!1);c.resolve(b.snapshot)}catch(u){const p=ly(u,`Failed to execute query '${o} against cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield Kx(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Wh(t,i,n,r))}(this._delegate):"server"===t?.source?function yq(n){n=vn(n,go);const t=vn(n.firestore,Ci),e=dr(t),i=new qh(t);return uU(e,n._query,{source:"server"}).then(r=>new Wh(t,i,n,r))}(this._delegate):function gq(n){n=vn(n,go);const t=vn(n.firestore,Ci),e=dr(t),i=new qh(t);return kU(n._query),uU(e,n._query).then(r=>new Wh(t,i,n,r))}(this._delegate),e.then(i=>new B1(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=ZU(t),i=KU(t,r=>new B1(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return HU(this._delegate,e,i)}withConverter(t){return new es(this.firestore,this._delegate.withConverter(t?fm.getInstance(this.firestore,t):null))}}class Nq{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new tw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class B1{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new es(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new tw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Nq(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new tw(this._firestore,i))})}isEqual(t){return VU(this._delegate,t._delegate)}}class my extends es{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ga(this.firestore,t):null}doc(t){try{return new Ga(this.firestore,void 0===t?Xx(this._delegate):Xx(this._delegate,t))}catch(e){throw Jo(e,"doc()","CollectionReference.doc()")}}add(t){return function bq(n,t){const e=vn(n.firestore,Ci),i=Xx(n),r=lI(n.converter,t);return py(e,[tI(dm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Mi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ga(this.firestore,e))}isEqual(t){return bU(this._delegate,t._delegate)}withConverter(t){return new my(this.firestore,this._delegate.withConverter(t?fm.getInstance(this.firestore,t):null))}}function pm(n){return vn(n,wi)}class U1{constructor(...t){this._delegate=new eu(...t)}static documentId(){return new U1(tr.keyField().canonicalString())}isEqual(t){return(t=(0,te.m9)(t))instanceof eu&&this._delegate._internalPath.isEqual(t._internalPath)}}class mm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Sq(){return new M1("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new mm(t)}static delete(){const t=function Iq(){return new q0("deleteField")}();return t._methodName="FieldValue.delete",new mm(t)}static arrayUnion(...t){const e=function Tq(...n){return new Q5("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new mm(e)}static arrayRemove(...t){const e=function Mq(...n){return new X5("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new mm(e)}static increment(t){const e=function Aq(n){return new J5("increment",n)}(t);return e._methodName="FieldValue.increment",new mm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Lq={Firestore:WU,GeoPoint:Jx,Timestamp:Ti,Blob:J0,Transaction:qU,WriteBatch:YU,DocumentReference:Ga,DocumentSnapshot:ew,Query:es,QueryDocumentSnapshot:tw,QuerySnapshot:B1,CollectionReference:my,FieldPath:U1,FieldValue:mm,setLogLevel:function Fq(n){!function TG(n){Ah.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Bq(n){(function Vq(n,t){n.INTERNAL.registerComponent(new Mp.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Lq)))})(n,(t,e)=>new WU(t,e,new Pq)),n.registerVersion("@firebase/firestore-compat","0.3.4")}(tk.Z);var dI=U(5363),Uq=U(6063);class Hq extends pt.x{constructor(t=1/0,e=1/0,i=Uq.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;e||(i.push(t),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!t.closed;c+=i?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=e.now();let u=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)u=p;u&&i.splice(0,u+1)}}}var QU=U(3099);function XU(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,QU.B)({connector:()=>new Hq(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function JU(n,t){return(0,xo.m)(t)?Zn(()=>n,t):Zn(()=>n)}var H1=U(9468),nu=U(259);class gm{constructor(t){return t}}class uI{constructor(){return(0,nu.C6)()}}const z1=new s.OlP("angularfire2._apps"),jq={provide:gm,useFactory:function zq(n){return n&&1===n.length?n[0]:new gm((0,nu.Mq)())},deps:[[new s.FiY,z1]]},$q={provide:uI,deps:[[new s.FiY,z1]]};function Gq(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new gm(i)}}let Wq=(()=>{class n{constructor(e){(0,nu.KN)("angularfire",fn.q4.full,"core"),(0,nu.KN)("angularfire",fn.q4.full,"app"),(0,nu.KN)("angular",s.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[jq,$q]}),n})();const Yq=(0,fn.u3)(nu.ZF,!0),j1=new Map,eH={activated:!1,tokenObservers:[]},Zq={initialized:!1,enabled:!1};function _o(n){return j1.get(n)||Object.assign({},eH)}function hI(){return Zq}const $1="https://content-firebaseappcheck.googleapis.com/v1",Jq="exchangeDebugToken",tH={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class t8{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,we.Z)(function*(){e.stop();try{e.pending=new te.BH,yield function n8(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new te.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ts=new te.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function q1(){return q1=(0,we.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const x=yield r.getHeartbeatsHeader();x&&(i["X-Firebase-Client"]=x)}const o={method:"POST",body:JSON.stringify(t),headers:i};let c,u;try{c=yield fetch(n,o)}catch(x){throw ts.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==c.status)throw ts.create("fetch-status-error",{httpStatus:c.status});try{u=yield c.json()}catch(x){throw ts.create("fetch-parse-error",{originalErrorMessage:x?.message})}const p=u.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw ts.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const _=1e3*Number(p[1]),b=Date.now();return{token:u.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}}),q1.apply(this,arguments)}const l8="firebase-app-check-database",c8=1,nw="firebase-app-check-store";let mI=null;function Y1(){return Y1=(0,we.Z)(function*(n,t){const i=(yield function rH(){return mI||(mI=new Promise((n,t)=>{try{const e=indexedDB.open(l8,c8);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(ts.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(nw,{keyPath:"compositeKey"})}}catch(e){t(ts.create("storage-open",{originalErrorMessage:e?.message}))}}),mI)}()).transaction(nw,"readwrite"),o=i.objectStore(nw).put({compositeKey:n,value:t});return new Promise((c,u)=>{o.onsuccess=p=>{c()},i.onerror=p=>{var _;u(ts.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})}),Y1.apply(this,arguments)}const iw=new Qs.Yd("@firebase/app-check");function Q1(n,t){return(0,te.hl)()?function u8(n,t){return function oH(n,t){return Y1.apply(this,arguments)}(function aH(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{iw.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function J1(){return J1=(0,we.Z)(function*(){const n=hI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),J1.apply(this,arguments)}const _8={error:"UNKNOWN_ERROR"};function y8(n){return te.US.encodeString(JSON.stringify(n),!1)}function gI(n){return eO.apply(this,arguments)}function eO(){return eO=(0,we.Z)(function*(n,t=!1){const e=n.app;!function nH(n){if(!_o(n).activated)throw ts.create("use-before-activation",{appName:n.name})}(e);const i=_o(e);let o,r=i.token;if(r&&!gy(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(gy(p)?r=p:yield Q1(e,void 0))}if(!t&&r&&gy(r))return{token:r.token};let u,c=!1;if(function lH(){return hI().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function W1(n,t){return q1.apply(this,arguments)}(function a8(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${$1}/projects/${e}/apps/${i}:${Jq}?key=${r}`,body:{debug_token:t}}}(e,yield function cH(){return J1.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield Q1(e,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield _o(e).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?iw.warn(p.message):iw.error(p),o=p}return r?o?u=gy(r)?{token:r.token,internalError:o}:hH(o):(u={token:r.token},i.token=r,yield Q1(e,r)):u=hH(o),c&&function uH(n,t){const e=_o(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,u),u}),eO.apply(this,arguments)}function nO(n,t){const e=_o(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function dH(n){const{app:t}=n,e=_o(t);let i=e.tokenRefresher;i||(i=function v8(n){const{app:t}=n;return new t8((0,we.Z)(function*(){let i;if(i=_o(t).token?yield gI(n,!0):yield gI(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=_o(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},tH.RETRIAL_MIN_WAIT,tH.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function gy(n){return n.expireTimeMillis-Date.now()>0}function hH(n){return{token:y8(_8),error:n}}class b8{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=_o(this.app);for(const e of t)nO(this.app,e.next);return Promise.resolve()}}const bH="app-check-internal";!function P8(){(0,Wr._registerComponent)(new Mp.wA("app-check",n=>function w8(n,t){return new b8(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(bH).initialize()})),(0,Wr._registerComponent)(new Mp.wA(bH,n=>function C8(n){return{getToken:t=>gI(n,t),addTokenListener:t=>function tO(n,t,e,i){const{app:r}=n,o=_o(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&gy(o.token)){const u=o.token;Promise.resolve().then(()=>{e({token:u.token}),dH(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>dH(n))}(n,"INTERNAL",t),removeTokenListener:t=>nO(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wr.registerVersion)("@firebase/app-check","0.6.4")}();class _y{constructor(){return(0,fn.vb)("app-check")}}typeof window<"u"&&window;var B8=U(9260);const CH=new s.OlP("angularfire2.auth.use-emulator"),DH=new s.OlP("angularfire2.auth.settings"),EH=new s.OlP("angularfire2.auth.tenant-id"),xH=new s.OlP("angularfire2.auth.langugage-code"),IH=new s.OlP("angularfire2.auth.use-device-language"),SH=new s.OlP("angularfire.auth.persistence"),TH=(n,t,e,i,r,o,c,u)=>(0,Ks.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,o&&p.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))p.settings[_]=b;return u&&p.setPersistence(u),p},[e,i,r,o,c,u]);let MH=(()=>{class n{constructor(e,i,r,o,c,u,p,_,b,x,M,B){const H=new pt.x,K=We(void 0).pipe((0,dI.Q)(c.outsideAngular),Zn(()=>o.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9568)))),(0,G.U)(()=>(0,Ks.on)(e,o,i)),(0,G.U)(se=>TH(se,o,u,_,b,x,p,M)),XU({bufferSize:1,refCount:!1}));if(fu(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=We(null);else{K.pipe(gs()).subscribe();const Ze=K.pipe(Zn(vt=>vt.getRedirectResult().then(Lt=>Lt,()=>null)),fn.iC,XU({bufferSize:1,refCount:!1})),mt=K.pipe(Zn(vt=>new Yn.y(Lt=>({unsubscribe:o.runOutsideAngular(()=>vt.onAuthStateChanged(zt=>Lt.next(zt),zt=>Lt.error(zt),()=>Lt.complete()))})))),yt=K.pipe(Zn(vt=>new Yn.y(Lt=>({unsubscribe:o.runOutsideAngular(()=>vt.onIdTokenChanged(zt=>Lt.next(zt),zt=>Lt.error(zt),()=>Lt.complete()))}))));this.authState=Ze.pipe(JU(mt),(0,H1.R)(c.outsideAngular),(0,dI.Q)(c.insideAngular)),this.user=Ze.pipe(JU(yt),(0,H1.R)(c.outsideAngular),(0,dI.Q)(c.insideAngular)),this.idToken=this.user.pipe(Zn(vt=>vt?(0,En.D)(vt.getIdToken()):We(null))),this.idTokenResult=this.user.pipe(Zn(vt=>vt?(0,En.D)(vt.getIdTokenResult()):We(null))),this.credential=(0,co.T)(Ze,H,this.authState.pipe(_n(vt=>!vt))).pipe((0,G.U)(vt=>vt?.user?vt:null),(0,H1.R)(c.outsideAngular),(0,dI.Q)(c.insideAngular))}return(0,Ks.pX)(this,K,o,{spy:{apply:(se,Ze,mt)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&mt.then(yt=>H.next(yt))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ks.Dh),s.LFG(Ks.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(fn.HU),s.LFG(CH,8),s.LFG(DH,8),s.LFG(EH,8),s.LFG(xH,8),s.LFG(IH,8),s.LFG(SH,8),s.LFG(_y,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function AH(n,t){return function H8(n,t=Fd.z){return new Yn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function aO(n,t){return AH(n,t).pipe((0,G.U)(e=>({payload:e,type:"query"})))}function yI(n,t){return aO(n,t).pipe(zi(void 0),AE(),(0,G.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,u)=>{const p=r.find(b=>b.doc.ref.isEqual(c.ref)),_=e?.payload.docs.find(b=>b.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:c}})}),o}))}function kH(n,t,e){return yI(n,e).pipe(fc((i,r)=>function j8(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function $8(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return lO(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return lO(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return lO(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),gb(),(0,G.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function lO(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function RH(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class OH{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=yI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,G.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(zi(void 0),AE(),_n(([i,r])=>r.length>0||!i),(0,G.U)(([i,r])=>r),fn.iC)}auditTrail(t){return this.stateChanges(t).pipe(fc((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=RH(t);return kH(this.query,e,this.afs.schedulers.outsideAngular).pipe(fn.iC)}valueChanges(t={}){return aO(this.query,this.afs.schedulers.outsideAngular).pipe((0,G.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),fn.iC)}get(t){return(0,En.D)(this.query.get(t)).pipe(fn.iC)}add(t){return this.ref.add(t)}doc(t){return new PH(this.ref.doc(t),this.afs)}}class PH{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=LH(i,e);return new OH(r,o,this.afs)}snapshotChanges(){return function z8(n,t){return AH(n,t).pipe(zi(void 0),AE(),(0,G.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,G.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,En.D)(this.ref.get(t)).pipe(fn.iC)}}class G8{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?yI(this.query,this.afs.schedulers.outsideAngular).pipe((0,G.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),_n(e=>e.length>0),fn.iC):yI(this.query,this.afs.schedulers.outsideAngular).pipe(fn.iC)}auditTrail(t){return this.stateChanges(t).pipe(fc((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=RH(t);return kH(this.query,e,this.afs.schedulers.outsideAngular).pipe(fn.iC)}valueChanges(t={}){return aO(this.query,this.afs.schedulers.outsideAngular).pipe((0,G.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),fn.iC)}get(t){return(0,En.D)(this.query.get(t)).pipe(fn.iC)}}const FH=new s.OlP("angularfire2.enableFirestorePersistence"),NH=new s.OlP("angularfire2.firestore.persistenceSettings"),W8=new s.OlP("angularfire2.firestore.settings"),q8=new s.OlP("angularfire2.firestore.use-emulator");function LH(n,t=(e=>e)){return{query:t(n),ref:n}}let yy=(()=>{class n{constructor(e,i,r,o,c,u,p,_,b,x,M,B,H,K,se,Ze,mt){this.schedulers=p;const yt=(0,Ks.on)(e,u,i),vt=b;x&&TH(yt,u,M,H,K,se,B,Ze),[this.firestore,this.persistenceEnabled$]=(0,Ks.cc)(`${yt.name}.firestore`,"AngularFirestore",yt.name,()=>{const Lt=u.runOutsideAngular(()=>yt.firestore());if(o&&Lt.settings(o),vt&&Lt.useEmulator(...vt),r&&!fu(c)){const zt=()=>{try{return(0,En.D)(Lt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(Cn){return typeof console<"u"&&console.warn(Cn),We(!1)}};return[Lt,u.runOutsideAngular(zt)]}return[Lt,We(!1)]},[o,vt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=LH(r,i),u=this.schedulers.ngZone.run(()=>o);return new OH(u,c,this)}collectionGroup(e,i){const r=i||(c=>c),o=this.firestore.collectionGroup(e);return new G8(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new PH(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ks.Dh),s.LFG(Ks.xv,8),s.LFG(FH,8),s.LFG(W8,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(fn.HU),s.LFG(NH,8),s.LFG(q8,8),s.LFG(MH,8),s.LFG(CH,8),s.LFG(DH,8),s.LFG(EH,8),s.LFG(xH,8),s.LFG(IH,8),s.LFG(SH,8),s.LFG(_y,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Y8=(()=>{class n{constructor(){B8.Z.registerVersion("angularfire",fn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:FH,useValue:!0},{provide:NH,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[yy]}),n})();const Z8=["mat-button",""],VH=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],BH=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Q8=["mat-fab",""],X8=["mat-icon-button",""],J8=["*"],eY=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],tY=Sp(t_(n_(class{constructor(n){this._elementRef=n}})));let cO=(()=>{class n extends tY{constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,s.f3M)(Zs),this._isFab=!1;const c=e.nativeElement.classList;for(const u of eY)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(p=>{c.add(p)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(Ol,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},features:[s.qOj]}),n})(),rw=(()=>{class n extends cO{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Qn),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:Z8,ngContentSelectors:BH,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(VH),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(s.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),s.xp6(6),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Ol],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})();const iY=new s.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:UH});function UH(){return{color:"accent"}}const HH=UH();let rY=(()=>{class n extends cO{get extended(){return this._extended}set extended(e){this._extended=qt(e)}constructor(e,i,r,o,c){super(e,i,r,o),this._options=c,this._isFab=!0,this._options=this._options||HH,this.color=this.defaultColor=this._options.color||HH.color}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Qn),s.Y36(s.R0b),s.Y36(s.QbO,8),s.Y36(iY,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[s.qOj],attrs:Q8,ngContentSelectors:BH,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(VH),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(s.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),s.xp6(6),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Ol],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),dO=(()=>{class n extends cO{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Qn),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:X8,ngContentSelectors:J8,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(),s._UZ(0,"span",0),s.Hsn(1),s._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(s.xp6(3),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Ol],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),uO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,_h,xn]}),n})();const zH=Ua({passive:!0});let oY=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Pa.E;const i=Ml(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new pt.x,c="cdk-text-field-autofilled",u=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,zH),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",u,zH)}}),o}stopMonitoring(e){const i=Ml(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qn),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function jH(...n){const t=(0,ps.jO)(n),{args:e,keys:i}=S(n),r=new Yn.y(o=>{const{length:c}=e;if(!c)return void o.complete();const u=new Array(c);let p=c,_=c;for(let b=0;b<c;b++){let x=!1;(0,mi.Xf)(e[b]).subscribe((0,Qe.x)(o,M=>{x||(x=!0,_--),u[b]=M},()=>p--,void 0,()=>{(!p||!x)&&(_||o.next(i?ht(i,u):u),o.complete())}))}});return t?r.pipe(ct(t)):r}let $H=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),_m=(()=>{class n extends $H{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Wa=new s.OlP("NgValueAccessor"),lY={provide:Wa,useExisting:(0,s.Gpc)(()=>vy),multi:!0},dY=new s.OlP("CompositionEventMode");let vy=(()=>{class n extends $H{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cY(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(dY,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([lY]),s.qOj]}),n})();const uY=!1;function Zh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function WH(n){return null!=n&&"number"==typeof n.length}const yo=new s.OlP("NgValidators"),Kh=new s.OlP("NgAsyncValidators"),hY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hO{static min(t){return function qH(n){return t=>{if(Zh(t.value)||Zh(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function YH(n){return t=>{if(Zh(t.value)||Zh(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function ZH(n){return Zh(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function KH(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function QH(n){return Zh(n.value)||hY.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function XH(n){return t=>Zh(t.value)||!WH(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function JH(n){return t=>WH(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ez(n){if(!n)return vI;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Zh(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return sz(t)}static composeAsync(t){return az(t)}}function vI(n){return null}function tz(n){return null!=n}function nz(n){const t=(0,s.QGY)(n)?(0,En.D)(n):n;if(uY&&!(0,s.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new s.vHH(-1101,e)}return t}function iz(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function rz(n,t){return t.map(e=>e(n))}function oz(n){return n.map(t=>function fY(n){return!n.validate}(t)?t:e=>t.validate(e))}function sz(n){if(!n)return null;const t=n.filter(tz);return 0==t.length?null:function(e){return iz(rz(e,t))}}function fO(n){return null!=n?sz(oz(n)):null}function az(n){if(!n)return null;const t=n.filter(tz);return 0==t.length?null:function(e){return jH(rz(e,t).map(nz)).pipe((0,G.U)(iz))}}function pO(n){return null!=n?az(oz(n)):null}function lz(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function cz(n){return n._rawValidators}function dz(n){return n._rawAsyncValidators}function mO(n){return n?Array.isArray(n)?n:[n]:[]}function bI(n,t){return Array.isArray(n)?n.includes(t):n===t}function uz(n,t){const e=mO(t);return mO(n).forEach(r=>{bI(e,r)||e.push(r)}),e}function hz(n,t){return mO(t).filter(e=>!bI(n,e))}class fz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=fO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=pO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ns extends fz{get formDirective(){return null}get path(){return null}}class Vc extends fz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pz{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wI=(()=>{class n extends pz{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vc,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})();function mz(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const yO=!1,ow="VALID",DI="INVALID",by="PENDING",sw="DISABLED";function vO(n){return(EI(n)?n.validators:n)||null}function bO(n,t){return(EI(t)?t.asyncValidators:n)||null}function EI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class yz{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ow}get invalid(){return this.status===DI}get pending(){return this.status==by}get disabled(){return this.status===sw}get enabled(){return this.status!==sw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(uz(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(uz(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(hz(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(hz(t,this._rawAsyncValidators))}hasValidator(t){return bI(this._rawValidators,t)}hasAsyncValidator(t){return bI(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=by,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=sw,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ow,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ow||this.status===by)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sw:ow}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=by,this._hasOwnPendingAsyncValidator=!0;const e=nz(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?sw:this.errors?DI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(by)?by:this._anyControlsHaveStatus(DI)?DI:ow}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){EI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function wY(n){return Array.isArray(n)?fO(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function CY(n){return Array.isArray(n)?pO(n):n||null}(this._rawAsyncValidators)}}class wO extends yz{constructor(t,e,i){super(vO(e),bO(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function _z(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,yO?function bY(n,t){return`Must supply a value for form control ${mz(n,t)}`}(t,r):"")})})(this,!0,t),Object.keys(t).forEach(i=>{(function gz(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,yO?function yY(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new s.vHH(1001,yO?function vY(n,t){return`Cannot find form control ${mz(n,t)}`}(t,e):"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const wy=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xI}),xI="always";function aw(n,t,e=xI){CO(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function xY(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vz(n,t)})}(n,t),function SY(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function IY(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vz(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function EY(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function SI(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),MI(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function TI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function CO(n,t){const e=cz(n);null!==t.validator?n.setValidators(lz(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=dz(n);null!==t.asyncValidator?n.setAsyncValidators(lz(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();TI(t._rawValidators,r),TI(t._rawAsyncValidators,r)}function MI(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=cz(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=dz(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return TI(t._rawValidators,i),TI(t._rawAsyncValidators,i),e}function vz(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bz(n,t){CO(n,t)}function wz(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const RY={provide:ns,useExisting:(0,s.Gpc)(()=>cw)},lw=(()=>Promise.resolve())();let cw=(()=>{class n extends ns{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new wO({},fO(e),pO(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){lw.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),aw(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){lw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){lw.then(()=>{const i=this._findContainer(e.path),r=new wO({});bz(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){lw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){lw.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,wz(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yo,10),s.Y36(Kh,10),s.Y36(wy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([RY]),s.qOj]}),n})();function Cz(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Dz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const IO=class extends yz{constructor(t=null,e,i){super(vO(e),bO(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),EI(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Dz(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Cz(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Cz(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Dz(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},FY={provide:Vc,useExisting:(0,s.Gpc)(()=>dw)},Iz=(()=>Promise.resolve())();let dw=(()=>{class n extends Vc{constructor(e,i,r,o,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new IO,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function xO(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===vy?e=o:function AY(n){return Object.getPrototypeOf(n.constructor)===_m}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function EO(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){aw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Iz.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);Iz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function II(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ns,9),s.Y36(yo,10),s.Y36(Kh,10),s.Y36(Wa,10),s.Y36(s.sBO,8),s.Y36(wy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([FY]),s.qOj,s.TTD]}),n})(),Tz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const zY={provide:ns,useExisting:(0,s.Gpc)(()=>uw)};let uw=(()=>{class n extends ns{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(MI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return aw(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){SI(e.control||null,e,!1),function kY(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,wz(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(SI(i||null,e),(n=>n instanceof IO)(r)&&(aw(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);bz(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function TY(n,t){return MI(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){CO(this.form,this),this._oldForm&&MI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yo,10),s.Y36(Kh,10),s.Y36(wy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([zY]),s.qOj,s.TTD]}),n})(),sZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Tz]}),n})(),lZ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:wy,useValue:e.callSetDisabledState??xI}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[sZ]}),n})();const cZ=["matFormFieldNotchedOutline",""],dZ=["*"],uZ=["textField"],hZ=["iconPrefixContainer"],fZ=["textPrefixContainer"];function pZ(n,t){1&n&&s._UZ(0,"span",19)}function mZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",17),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r._refreshOutlineNotchWidth())}),s.Hsn(1,1),s.YNc(2,pZ,1,0,"span",18),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function gZ(n,t){if(1&n&&s.YNc(0,mZ,3,6,"label",16),2&n){const e=s.oxw();s.Q6J("ngIf",e._hasFloatingLabel())}}function _Z(n,t){1&n&&s._UZ(0,"div",20)}function yZ(n,t){}function vZ(n,t){if(1&n&&s.YNc(0,yZ,0,0,"ng-template",22),2&n){s.oxw(2);const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function bZ(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,vZ,1,1,"ng-template",9),s.qZA()),2&n){const e=s.oxw();s.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),s.xp6(1),s.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function wZ(n,t){1&n&&(s.TgZ(0,"div",23,24),s.Hsn(2,2),s.qZA())}function CZ(n,t){1&n&&(s.TgZ(0,"div",25,26),s.Hsn(2,3),s.qZA())}function DZ(n,t){}function EZ(n,t){if(1&n&&s.YNc(0,DZ,0,0,"ng-template",22),2&n){s.oxw();const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function xZ(n,t){1&n&&(s.TgZ(0,"div",27),s.Hsn(1,4),s.qZA())}function IZ(n,t){1&n&&(s.TgZ(0,"div",28),s.Hsn(1,5),s.qZA())}function SZ(n,t){1&n&&s._UZ(0,"div",29)}function TZ(n,t){if(1&n&&(s.TgZ(0,"div",30),s.Hsn(1,6),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function MZ(n,t){if(1&n&&(s.TgZ(0,"mat-hint",34),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function AZ(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,MZ,2,2,"mat-hint",32),s.Hsn(2,7),s._UZ(3,"div",33),s.Hsn(4,8),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const kZ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],RZ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let hw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})();const OZ=new s.OlP("MatError");let PZ=0,Wz=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+PZ++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("align",null),s.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const FZ=new s.OlP("MatPrefix"),qz=new s.OlP("MatSuffix");let Yz=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[s._Bn([{provide:qz,useExisting:n}])]}),n})(),Zz=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function NZ(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const Kz="mdc-line-ripple--active",AI="mdc-line-ripple--deactivating";let Qz=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,c=o.contains(AI);"opacity"===r.propertyName&&c&&o.remove(Kz,AI)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(AI),e.add(Kz)}deactivate(){this._elementRef.nativeElement.classList.add(AI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),Xz=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:cZ,ngContentSelectors:dZ,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(s.F$t(),s._UZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(1),s.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const LZ={transitionMessages:ws("transitionMessages",[Cs("enter",Bn({opacity:1,transform:"translateY(0%)"})),ar("void => enter",[Bn({opacity:0,transform:"translateY(-5px)"}),Er("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let RO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const kI=new s.OlP("MatFormField"),VZ=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Jz=0,OO=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=qt(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,c,u,p,_){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=c,this._defaults=u,this._animationMode=p,this._document=_,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Jz++,this._hintLabelId="mat-mdc-hint-"+Jz++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new pt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=Boolean(u?.hideRequiredMarker),u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Kt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,co.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Kt(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Kt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+c}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Fr),s.Y36(Qn),s.Y36(VZ,8),s.Y36(s.QbO,8),s.Y36(J))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,hw,5),s.Suo(r,hw,7),s.Suo(r,RO,5),s.Suo(r,FZ,5),s.Suo(r,qz,5),s.Suo(r,OZ,5),s.Suo(r,Wz,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._formFieldControl=o.first),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(uZ,5),s.Gf(hZ,5),s.Gf(fZ,5),s.Gf(Zz,5),s.Gf(Xz,5),s.Gf(Qz,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._textField=r.first),s.iGM(r=s.CRH())&&(i._iconPrefixContainer=r.first),s.iGM(r=s.CRH())&&(i._textPrefixContainer=r.first),s.iGM(r=s.CRH())&&(i._floatingLabel=r.first),s.iGM(r=s.CRH())&&(i._notchedOutline=r.first),s.iGM(r=s.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:kI,useExisting:n}])],ngContentSelectors:RZ,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(s.F$t(kZ),s.YNc(0,gZ,1,1,"ng-template",null,0,s.W1O),s.TgZ(2,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(4,_Z,1,0,"div",3),s.TgZ(5,"div",4),s.YNc(6,bZ,2,3,"div",5),s.YNc(7,wZ,3,0,"div",6),s.YNc(8,CZ,3,0,"div",7),s.TgZ(9,"div",8),s.YNc(10,EZ,1,1,"ng-template",9),s.Hsn(11),s.qZA(),s.YNc(12,xZ,2,0,"div",10),s.YNc(13,IZ,2,0,"div",11),s.qZA(),s.YNc(14,SZ,1,0,"div",12),s.qZA(),s.TgZ(15,"div",13),s.YNc(16,TZ,2,1,"div",14),s.YNc(17,AZ,5,2,"div",15),s.qZA()),2&e&&(s.xp6(2),s.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),s.xp6(2),s.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),s.xp6(2),s.Q6J("ngIf",i._hasOutline()),s.xp6(1),s.Q6J("ngIf",i._hasIconPrefix),s.xp6(1),s.Q6J("ngIf",i._hasTextPrefix),s.xp6(2),s.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),s.xp6(2),s.Q6J("ngIf",i._hasTextSuffix),s.xp6(1),s.Q6J("ngIf",i._hasIconSuffix),s.xp6(1),s.Q6J("ngIf",!i._hasOutline()),s.xp6(1),s.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[oi,Ja,ss,Ur,sA,Wz,Zz,Xz,Qz],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[LZ.transitionMessages]},changeDetection:0}),n})(),RI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,mr,UD,xn]}),n})();const n3=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),HZ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let zZ=0;const jZ=uE(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new pt.x}});let PO=(()=>{class n extends jZ{get disabled(){return this._disabled}set disabled(e){this._disabled=qt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(hO.required)??!1}set required(e){this._required=qt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Ug().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=qt(e)}constructor(e,i,r,o,c,u,p,_,b,x){super(u,o,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=x,this._uid="mat-input-"+zZ++,this.focused=!1,this.stateChanges=new pt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(H=>Ug().has(H)),this._iOSKeyupListener=H=>{const K=H.target;!K.value&&0===K.selectionStart&&0===K.selectionEnd&&(K.setSelectionRange(1,1),K.setSelectionRange(0,0))};const M=this._elementRef.nativeElement,B=M.nodeName.toLowerCase();this._inputValueAccessor=p||M,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=M.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){HZ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Qn),s.Y36(Vc,10),s.Y36(cw,8),s.Y36(uw,8),s.Y36(Tb),s.Y36(n3,10),s.Y36(oY),s.Y36(s.R0b),s.Y36(kI,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),s.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),s.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:RO,useExisting:n}]),s.qOj,s.TTD]}),n})(),$Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,RI,RI,sY,xn]}),n})();const GZ=new s.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),qZ=Sp(class{constructor(n){this._elementRef=n}},"primary");let FO=(()=>{class n extends qZ{constructor(e,i,r,o,c){super(e),this._ngZone=i,this._changeDetectorRef=r,this._animationMode=o,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new s.vpe,this._mode="determinate",this._transitionendHandler=u=>{0===this.animationEnd.observers.length||!u.target||!u.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===o,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(e){this._value=r3(Ba(e)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=r3(Ba(e)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(s.QbO,8),s.Y36(GZ,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("aria-valuenow",i._isIndeterminate()?null:i.value)("mode",i.mode),s.ekj("_mat-animation-noopable",i._isNoopAnimation)("mdc-linear-progress--animation-ready",!i._isNoopAnimation)("mdc-linear-progress--indeterminate",i._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[s.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"div",1)(2,"div",2),s.qZA(),s.TgZ(3,"div",3),s._UZ(4,"span",4),s.qZA(),s.TgZ(5,"div",5),s._UZ(6,"span",4),s.qZA()),2&e&&(s.xp6(1),s.Udp("flex-basis",i._getBufferBarFlexBasis()),s.xp6(2),s.Udp("transform",i._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E\")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height, 4px)}.mat-mdc-progress-bar{display:block}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),n})();function r3(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let YZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn]}),n})();function ZZ(n,t){1&n&&s._UZ(0,"mat-progress-bar",13)}class fw{constructor(t,e){this.dialogRef=t,this.firestore=e,this.loading=!1}ngOnInit(){}saveUser(){this.loading=!0,this.firestore.collection("users").doc(this.userId).update(this.user.toJSON()).then(t=>{this.loading=!1,console.log("Editing user' address finished",t),this.dialogRef.close()})}}fw.\u0275fac=function(t){return new(t||fw)(s.Y36(Wd),s.Y36(yy))},fw.\u0275cmp=s.Xpm({type:fw,selectors:[["app-dialog-edit-address"]],decls:24,vars:8,consts:[[1,"dialogContainer"],["class","dialogProgressbar","mode","indeterminate",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"formFieldContainer"],["appearance","outline",1,"formField","fullWidth","mr-16","mt-16px"],["matInput","","placeholder","e.g. Avenue 4",3,"disabled","ngModel","ngModelChange"],["appearance","outline",1,"formField","mr-16"],["matInput","","placeholder","e.g. Berlin",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","e.g. 12456",3,"disabled","ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["mode","indeterminate",1,"dialogProgressbar"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.YNc(1,ZZ,1,0,"mat-progress-bar",1),s.TgZ(2,"h1",2),s._uU(3,"Edit Address"),s.qZA(),s.TgZ(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),s._uU(8,"Street + Nr."),s.qZA(),s.TgZ(9,"input",6),s.NdJ("ngModelChange",function(r){return e.user.street=r}),s.qZA()()(),s.TgZ(10,"div",4)(11,"mat-form-field",7)(12,"mat-label"),s._uU(13,"City"),s.qZA(),s.TgZ(14,"input",8),s.NdJ("ngModelChange",function(r){return e.user.city=r}),s.qZA()(),s.TgZ(15,"mat-form-field",7)(16,"mat-label"),s._uU(17,"Zip code"),s.qZA(),s.TgZ(18,"input",9),s.NdJ("ngModelChange",function(r){return e.user.zipCode=r}),s.qZA()()()(),s.TgZ(19,"div",10)(20,"button",11),s.NdJ("click",function(){return e.dialogRef.close()}),s._uU(21,"Cancel"),s.qZA(),s.TgZ(22,"button",12),s.NdJ("click",function(){return e.saveUser()}),s._uU(23,"Save"),s.qZA()()()),2&t&&(s.xp6(1),s.Q6J("ngIf",e.loading),s.xp6(8),s.Q6J("disabled",e.loading)("ngModel",e.user.street),s.xp6(5),s.Q6J("disabled",e.loading)("ngModel",e.user.city),s.xp6(4),s.Q6J("disabled",e.loading)("ngModel",e.user.zipCode),s.xp6(4),s.Q6J("disabled",e.loading))},dependencies:[oi,rw,Vb,u_,Mc,PO,OO,hw,vy,wI,dw,FO],styles:[".dialogContainer[_ngcontent-%COMP%]{position:relative}.dialogProgressbar[_ngcontent-%COMP%]{position:absolute;left:0}"]});const KZ=["mat-calendar-body",""];function QZ(n,t){if(1&n&&(s.TgZ(0,"tr",3)(1,"td",4),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e.numCols),s.xp6(1),s.hij(" ",e.label," ")}}function XZ(n,t){if(1&n&&(s.TgZ(0,"td",4),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e._firstRowOffset),s.xp6(1),s.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function JZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",8)(1,"button",9),s.NdJ("click",function(r){const c=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u._cellClicked(c,r))})("focus",function(r){const c=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u._emitActiveDateChange(c,r))}),s.TgZ(2,"div",10),s._uU(3),s.qZA(),s._UZ(4,"div",11),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw().index,o=s.oxw();s.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.uIk("data-mat-row",r)("data-mat-col",i),s.xp6(1),s.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),s.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),s.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null)("aria-describedby",o._getDescribedby(e.compareValue)),s.xp6(1),s.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),s.xp6(1),s.hij(" ",e.displayValue," ")}}function eK(n,t){if(1&n&&(s.TgZ(0,"tr",5),s.YNc(1,XZ,2,6,"td",6),s.YNc(2,JZ,5,48,"td",7),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngIf",0===i&&r._firstRowOffset),s.xp6(1),s.Q6J("ngForOf",e)}}function tK(n,t){if(1&n&&(s.TgZ(0,"th",5)(1,"span",6),s._uU(2),s.qZA(),s.TgZ(3,"span",7),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.long),s.xp6(2),s.Oqu(e.narrow)}}const nK=["*"];function iK(n,t){}function rK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-month-view",5),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("_userSelection",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._dateSelected(r))})("dragStarted",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._dragStarted(r))})("dragEnded",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._dragEnded(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function oK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-year-view",6),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("monthSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._monthSelectedInYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"month"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function sK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-multi-year-view",7),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("yearSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"year"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function aK(n,t){}const lK=["button"];function cK(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"path",4),s.qZA())}const dK=[[["","matDatepickerToggleIcon",""]]],uK=["[matDatepickerToggleIcon]"];let pw=(()=>{class n{constructor(){this.changes=new pt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class NO{constructor(t,e,i,r,o={},c=t,u){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=c,this.rawValue=u}}let hK=1,Cy=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new s.vpe,this.previewChange=new s.vpe,this.activeDateChange=new s.vpe,this.dragStarted=new s.vpe,this.dragEnded=new s.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const o=o3(r),c=o?this._getCellFromElement(o):null;o!==r.target&&(this._didDragSinceMouseDown=!0),VO(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:c?.enabled?c:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const o=r.target&&this._getCellFromElement(r.target);!o||!this._isInRange(o.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const o=VO(r.target);o?o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const c=this._getCellFromElement(o);this.dragEnded.emit({value:c?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const o=o3(r);o&&this._mouseupHandler({target:o})},this._id="mat-calendar-body-"+hK++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("touchmove",this._touchmoveHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0),r.addEventListener("mousedown",this._mousedownHandler),r.addEventListener("touchstart",this._mousedownHandler),window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler)})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("touchmove",this._touchmoveHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0),e.removeEventListener("mousedown",this._mousedownHandler),e.removeEventListener("touchstart",this._mousedownHandler),window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Vn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return BO(e,this.startValue,this.endValue)}_isRangeEnd(e){return UO(e,this.startValue,this.endValue)}_isInRange(e){return HO(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return BO(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const c=this.rows[i-1];o=c&&c[c.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const c=this.rows[i+1];o=c&&c[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return UO(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return HO(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return BO(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return UO(e,this.previewStart,this.previewEnd)}_isInPreview(e){return HO(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=VO(e);if(i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[s.TTD],attrs:KZ,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(s.YNc(0,QZ,3,6,"tr",0),s.YNc(1,eK,3,2,"tr",1),s.TgZ(2,"label",2),s._uU(3),s.qZA(),s.TgZ(4,"label",2),s._uU(5),s.qZA()),2&e&&(s.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),s.xp6(1),s.Q6J("ngForOf",i.rows),s.xp6(1),s.Q6J("id",i._startDateLabelId),s.xp6(1),s.hij(" ",i.startDateAccessibleName,"\n"),s.xp6(1),s.Q6J("id",i._endDateLabelId),s.xp6(1),s.hij(" ",i.endDateAccessibleName,"\n"))},dependencies:[Ot,ro,oi],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function LO(n){return"TD"===n?.nodeName}function VO(n){let t;return LO(n)?t=n:LO(n.parentNode)?t=n.parentNode:LO(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function BO(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function UO(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function HO(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}function o3(n){const t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class is{constructor(t,e){this.start=t,this.end=e}}let Qh=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new pt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),fK=(()=>{class n extends Qh{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Dr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const s3={provide:Qh,deps:[[new s.FiY,new s.tp0,Qh],Dr],useFactory:function mK(n,t){return n||new fK(t)}},OI=new s.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let a3=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof is?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,o,c){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=c,this._rerenderSubscription=gi.w0.EMPTY,this.activeDrag=null,this.selectedChange=new s.vpe,this._userSelection=new s.vpe,this.dragStarted=new s.vpe,this.dragEnded=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(zi(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let o,c;this._selected instanceof is?(o=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):o=c=this._getDateInCurrentMonth(this._selected),(o!==i||c!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!uo(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&r){const c=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);c&&(this._previewStart=this._getCellCompareValue(c.start),this._previewEnd=this._getCellCompareValue(c.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((c,u)=>({long:c,narrow:i[u]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),u=this._shouldEnableDate(c),p=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new NO(r+1,i[r],p,u,_,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof is?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Sc,8),s.Y36(Dr,8),s.Y36(Fr,8),s.Y36(OI,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Cy,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[s.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s.YNc(3,tK,5,2,"th",2),s.qZA(),s.TgZ(4,"tr"),s._UZ(5,"th",3),s.qZA()(),s.TgZ(6,"tbody",4),s.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("previewChange",function(o){return i._previewChanged(o)})("dragStarted",function(o){return i.dragStarted.emit(o)})("dragEnded",function(o){return i._dragEnded(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i._weekdays),s.xp6(3),s.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[ro,Cy],encapsulation:2,changeDetection:0}),n})();const na=24;let l3=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),c3(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof is?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=gi.w0.EMPTY,this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(zi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-mw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<na;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(c=>this._createCellForYear(c))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-mw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,na-mw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-na:-na);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*na:na);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return mw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new NO(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof is){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Dr,8),s.Y36(Fr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Cy,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Cy],encapsulation:2,changeDetection:0}),n})();function c3(n,t,e,i,r){const o=n.getYear(t),c=n.getYear(e),u=d3(n,i,r);return Math.floor((o-u)/na)===Math.floor((c-u)/na)}function mw(n,t,e,i){return function vK(n,t){return(n%t+t)%t}(n.getYear(t)-d3(n,e,i),na)}function d3(n,t,e){let i=0;return e?i=n.getYear(e)-na+1:t&&(i=n.getYear(t)),i}let u3=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof is?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=gi.w0.EMPTY,this.selectedChange=new s.vpe,this.monthSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(zi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(r,"year"):void 0;return new NO(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof is?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Sc,8),s.Y36(Dr,8),s.Y36(Fr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Cy,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Cy],encapsulation:2,changeDetection:0}),n})(),bK=1,wK=(()=>{class n{constructor(e,i,r,o,c){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._id="mat-calendar-header-"+bK++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-na)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:na)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):c3(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-mw(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+na-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pw),s.Y36((0,s.Gpc)(()=>$O)),s.Y36(Dr,8),s.Y36(Sc,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:nK,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return i.currentPeriodClicked()}),s.TgZ(3,"span",3),s._uU(4),s.qZA(),s.O4$(),s.TgZ(5,"svg",4),s._UZ(6,"polygon",5),s.qZA()(),s.kcU(),s._UZ(7,"div",6),s.Hsn(8),s.TgZ(9,"button",7),s.NdJ("click",function(){return i.previousClicked()}),s.qZA(),s.TgZ(10,"button",8),s.NdJ("click",function(){return i.nextClicked()}),s.qZA()()(),s.TgZ(11,"label",9),s._uU(12),s.qZA()),2&e&&(s.xp6(2),s.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),s.xp6(2),s.Oqu(i.periodButtonText),s.xp6(1),s.ekj("mat-calendar-invert","month"!==i.calendar.currentView),s.xp6(4),s.Q6J("disabled",!i.previousEnabled()),s.uIk("aria-label",i.prevButtonLabel),s.xp6(1),s.Q6J("disabled",!i.nextEnabled()),s.uIk("aria-label",i.nextButtonLabel),s.xp6(1),s.Q6J("id",i._periodButtonLabelId),s.xp6(1),s.Oqu(i.periodButtonDescription))},dependencies:[rw,dO],encapsulation:2,changeDetection:0}),n})(),$O=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof is?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this._userSelection=new s.vpe,this._userDragDrop=new s.vpe,this._activeDrag=null,this.stateChanges=new pt.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Ws(this.headerComponent||wK),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){const c=this._getCurrentViewComponent();c&&(this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof is||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pw),s.Y36(Dr,8),s.Y36(Sc,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(s.Gf(a3,5),s.Gf(u3,5),s.Gf(l3,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.monthView=r.first),s.iGM(r=s.CRH())&&(i.yearView=r.first),s.iGM(r=s.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[s._Bn([s3]),s.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(s.YNc(0,iK,0,0,"ng-template",0),s.TgZ(1,"div",1),s.YNc(2,rK,1,11,"mat-month-view",2),s.YNc(3,oK,1,6,"mat-year-view",3),s.YNc(4,sK,1,6,"mat-multi-year-view",4),s.qZA()),2&e&&(s.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),s.xp6(1),s.Q6J("ngSwitch",i.currentView),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngSwitchCase","multi-year"))},dependencies:[ss,Ur,IA,sh,a3,u3,l3],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),n})();const h3={transformPanel:ws("transformPanel",[ar("void => enter-dropdown",Er("120ms cubic-bezier(0, 0, 0.2, 1)",Fb([Bn({opacity:0,transform:"scale(1, 0.8)"}),Bn({opacity:1,transform:"scale(1, 1)"})]))),ar("void => enter-dialog",Er("150ms cubic-bezier(0, 0, 0.2, 1)",Fb([Bn({opacity:0,transform:"scale(0.7)"}),Bn({transform:"none",opacity:1})]))),ar("* => void",Er("100ms linear",Bn({opacity:0})))]),fadeInCalendar:ws("fadeInCalendar",[Cs("void",Bn({opacity:0})),Cs("enter",Bn({opacity:1})),ar("void => *",Er("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let CK=0;const f3=new s.OlP("mat-datepicker-scroll-strategy"),EK={provide:f3,deps:[To],useFactory:function DK(n){return()=>n.scrollStrategies.reposition()}},xK=Sp(class{constructor(n){this._elementRef=n}});let IK=(()=>{class n extends xK{constructor(e,i,r,o,c,u){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=c,this._subscriptions=new gi.w0,this._animationDone=new pt.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=u.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,o=i instanceof is;if(o&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(c,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Qh),s.Y36(Dr),s.Y36(OI,8),s.Y36(pw))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&s.Gf($O,5),2&e){let r;s.iGM(r=s.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&s.WFA("@transformPanel.start",function(o){return i._handleAnimationEvent(o)})("@transformPanel.done",function(o){return i._handleAnimationEvent(o)}),2&e&&(s.d8E("@transformPanel",i._animationState),s.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[s.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"mat-calendar",1),s.NdJ("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)})("_userDragDrop",function(o){return i._handleUserDragDrop(o)}),s.qZA(),s.YNc(2,aK,0,0,"ng-template",2),s.TgZ(3,"button",3),s.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),s._uU(4),s.qZA()()),2&e){let r;s.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),s.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),s.xp6(1),s.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),s.xp6(1),s.Q6J("cdkPortalOutlet",i._actionsPortal),s.xp6(1),s.ekj("cdk-visually-hidden",!i._closeButtonFocused),s.Q6J("color",i.color||"primary"),s.xp6(1),s.Oqu(i._closeButtonText)}},dependencies:[Ot,rw,KD,sh,$O],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[h3.transformPanel,h3.fadeInCalendar]},changeDetection:0}),n})(),p3=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=qt(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=qt(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=qt(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function tD(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const o=`${r}`.trim();o&&e.push(o)}}return e}(e)}get opened(){return this._opened}set opened(e){qt(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,r,o,c,u,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=c,this._dir=u,this._model=p,this._inputStateChanges=gi.w0.EMPTY,this._document=(0,s.f3M)(J),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this.openedStream=new s.vpe,this.closedStream=new s.vpe,this._opened=!1,this.id="mat-datepicker-"+CK++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new pt.x,this._scrollStrategy=o}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof Wg&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=ip(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:o}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(Vn(1)).subscribe(()=>{const c=this._document.activeElement;e&&(!c||c===this._document.activeElement||o.nativeElement.contains(c))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new Ws(IK,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new lh({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{const c=o.keyCode;(38===c||40===c||37===c||39===c||33===c||34===c)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Vn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",c="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:c,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:c},{originX:r,originY:c,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:c}])}_getCloseStream(e){const i=["ctrlKey","shiftKey","metaKey"];return(0,co.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(_n(r=>27===r.keyCode&&!uo(r)||this.datepickerInput&&uo(r,"altKey")&&38===r.keyCode&&i.every(o=>!uo(r,o)))))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(To),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(f3),s.Y36(Dr,8),s.Y36(Fr,8),s.Y36(Qh))},n.\u0275dir=s.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[s.TTD]}),n})(),m3=(()=>{class n extends p3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[s._Bn([s3,{provide:p3,useExisting:n}]),s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class PI{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let SK=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=qt(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new PI(this,this._elementRef.nativeElement)),this.dateChange.emit(new PI(this,this._elementRef.nativeElement))}})}constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new s.vpe,this.dateInput=new s.vpe,this.stateChanges=new pt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=gi.w0.EMPTY,this._localeSubscription=gi.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),u=this._getMinDate();return!u||!c||this._dateAdapter.compareDate(u,c)<=0?null:{matDatepickerMin:{min:u,actual:c}}},this._maxValidator=o=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),u=this._getMaxDate();return!u||!c||this._dateAdapter.compareDate(u,c)>=0?null:{matDatepickerMax:{max:u,actual:c}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function TK(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:o}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(o))return!0;if(!t.sameDate(r,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){uo(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(o=>!uo(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new PI(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new PI(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Dr,8),s.Y36(Sc,8))},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s.TTD]}),n})();const MK={provide:Wa,useExisting:(0,s.Gpc)(()=>FI),multi:!0},AK={provide:yo,useExisting:(0,s.Gpc)(()=>FI),multi:!0};let FI=(()=>{class n extends SK{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,r,o){super(e,i,r),this._formField=o,this._closedSubscription=gi.w0.EMPTY,this._validator=hO.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Dr,8),s.Y36(Sc,8),s.Y36(kI,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(o){return i._onKeydown(o)}),2&e&&(s.Ikx("disabled",i.disabled),s.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[s._Bn([MK,AK,{provide:n3,useExisting:n}]),s.qOj]}),n})(),kK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),g3=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=qt(e)}constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=gi.w0.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:We(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:We(),r=this.datepicker?(0,co.T)(this.datepicker.openedStream,this.datepicker.closedStream):We();this._stateChanges.unsubscribe(),this._stateChanges=(0,co.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pw),s.Y36(s.sBO),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,kK,5),2&e){let o;s.iGM(o=s.CRH())&&(i._customIcon=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(lK,5),2&e){let r;s.iGM(r=s.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._open(o)}),2&e&&(s.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),s.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[s.TTD],ngContentSelectors:uK,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(s.F$t(dK),s.TgZ(0,"button",0,1),s.YNc(2,cK,2,0,"svg",2),s.Hsn(3),s.qZA()),2&e&&(s.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),s.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),s.xp6(2),s.Q6J("ngIf",!i._customIcon))},dependencies:[oi,dO],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),PK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pw,EK],imports:[mr,uO,Ud,Cb,ah,xn,wc]}),n})();function FK(n,t){1&n&&s._UZ(0,"mat-progress-bar",17)}class gw{constructor(t,e){this.dialogRef=t,this.firestore=e,this.loading=!1}ngOnInit(){}saveUser(){this.loading=!0,this.firestore.collection("users").add(this.user.toJSON()).then(t=>{this.loading=!1,console.log("Editing user private info finished",t),this.dialogRef.close()})}}gw.\u0275fac=function(t){return new(t||gw)(s.Y36(Wd),s.Y36(yy))},gw.\u0275cmp=s.Xpm({type:gw,selectors:[["app-dialog-edit-user"]],decls:32,vars:12,consts:[[1,"dialogContainer"],["class","dialogProgressbar","mode","indeterminate",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"formFieldContainer"],["appearance","outline",1,"formField","mr-16","mt-16px"],["matInput","","placeholder","User's first name",3,"disabled","ngModel","ngModelChange"],["appearance","outline",1,"formField"],["matInput","","placeholder","User's last name",3,"disabled","ngModel","ngModelChange"],["appearance","outline",1,"formField","fullWidth","mr-16"],["matInput","","placeholder","User's mail",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","User's birthdate",3,"disabled","ngModel","matDatepicker","ngModelChange"],["matIconSuffix","",3,"for"],["picker1",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["mode","indeterminate",1,"dialogProgressbar"]],template:function(t,e){if(1&t&&(s.TgZ(0,"div",0),s.YNc(1,FK,1,0,"mat-progress-bar",1),s.TgZ(2,"h1",2),s._uU(3,"Edit user"),s.qZA(),s.TgZ(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),s._uU(8,"First name"),s.qZA(),s.TgZ(9,"input",6),s.NdJ("ngModelChange",function(r){return e.user.firstName=r}),s.qZA()(),s.TgZ(10,"mat-form-field",7)(11,"mat-label"),s._uU(12,"Last name"),s.qZA(),s.TgZ(13,"input",8),s.NdJ("ngModelChange",function(r){return e.user.lastName=r}),s.qZA()()(),s.TgZ(14,"div",4)(15,"mat-form-field",9)(16,"mat-label"),s._uU(17,"E-Mail"),s.qZA(),s.TgZ(18,"input",10),s.NdJ("ngModelChange",function(r){return e.user.email=r}),s.qZA()()(),s.TgZ(19,"div",4)(20,"mat-form-field",9)(21,"mat-label"),s._uU(22,"Birth date"),s.qZA(),s.TgZ(23,"input",11),s.NdJ("ngModelChange",function(r){return e.user.birthDate=r}),s.qZA(),s._UZ(24,"mat-datepicker-toggle",12)(25,"mat-datepicker",null,13),s.qZA()(),s.TgZ(27,"div",14)(28,"button",15),s.NdJ("click",function(){return e.dialogRef.close()}),s._uU(29,"Cancel"),s.qZA(),s.TgZ(30,"button",16),s.NdJ("click",function(){return e.saveUser()}),s._uU(31,"Save"),s.qZA()()()()),2&t){const i=s.MAs(26);s.xp6(1),s.Q6J("ngIf",e.loading),s.xp6(8),s.Q6J("disabled",e.loading)("ngModel",e.user.firstName),s.xp6(4),s.Q6J("disabled",e.loading)("ngModel",e.user.lastName),s.xp6(5),s.Q6J("disabled",e.loading)("ngModel",e.user.email),s.xp6(5),s.Q6J("disabled",e.loading)("ngModel",e.user.birthDate)("matDatepicker",i),s.xp6(1),s.Q6J("for",i),s.xp6(6),s.Q6J("disabled",e.loading)}},dependencies:[oi,rw,Vb,u_,Mc,PO,OO,hw,Yz,m3,FI,g3,vy,wI,dw,FO],styles:[".dialogContainer[_ngcontent-%COMP%]{position:relative}.dialogProgressbar[_ngcontent-%COMP%]{position:absolute;left:0}"]});class WO{}class Xh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Xh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Xh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Xh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(u=>-1===o.indexOf(u)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class NK{encodeKey(t){return v3(t)}encodeValue(t){return v3(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const VK=/%(\d[a-f0-9])/gi,BK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function v3(n){return encodeURIComponent(n).replace(VK,(t,e)=>BK[e]??t)}function NI(n){return`${n}`}class Jh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new NK,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function LK(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,u]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],p=e.get(c)||[];p.push(u),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(NI):[NI(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Jh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(NI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(NI(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class UK{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function b3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function w3(n){return typeof Blob<"u"&&n instanceof Blob}function C3(n){return typeof FormData<"u"&&n instanceof FormData}class _w{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function HK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Xh),this.context||(this.context=new UK),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+c}}else this.params=new Jh,this.urlWithParams=e}serializeBody(){return null===this.body?null:b3(this.body)||w3(this.body)||C3(this.body)||function zK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||C3(this.body)?null:w3(this.body)?this.body.type||null:b3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,_=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((x,M)=>x.set(M,t.setHeaders[M]),p)),t.setParams&&(_=Object.keys(t.setParams).reduce((x,M)=>x.set(M,t.setParams[M]),_)),new _w(e,i,o,{params:_,headers:p,context:b,reportProgress:u,responseType:r,withCredentials:c})}}var vo=(()=>((vo=vo||{})[vo.Sent=0]="Sent",vo[vo.UploadProgress=1]="UploadProgress",vo[vo.ResponseHeader=2]="ResponseHeader",vo[vo.DownloadProgress=3]="DownloadProgress",vo[vo.Response=4]="Response",vo[vo.User=5]="User",vo))();class jK{constructor(t,e=200,i="OK"){this.headers=t.headers||new Xh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class qO extends jK{constructor(t={}){super(t),this.type=vo.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new qO({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function YO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ZO=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof _w)o=e;else{let p,_;p=r.headers instanceof Xh?r.headers:new Xh(r.headers),r.params&&(_=r.params instanceof Jh?r.params:new Jh({fromObject:r.params})),o=new _w(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=We(o).pipe(Fa(p=>this.handler.handle(p)));if(e instanceof _w||"events"===r.observe)return c;const u=c.pipe(_n(p=>p instanceof qO));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe((0,G.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return u.pipe((0,G.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return u.pipe((0,G.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return u.pipe((0,G.U)(p=>p.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Jh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,YO(r,i))}post(e,i,r={}){return this.request("POST",e,YO(r,i))}put(e,i,r={}){return this.request("PUT",e,YO(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(WO))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const n7=["*"];let VI;function yw(n){return function r7(){if(void 0===VI&&(VI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(VI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return VI}()?.createHTML(n)||n}function A3(n){return Error(`Unable to find icon with the name "${n}"`)}function k3(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function R3(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class vm{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let BI=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new vm(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const c=this._sanitizer.sanitize(s.q3G.HTML,r);if(!c)throw R3(r);const u=yw(c);return this._addSvgIconConfig(e,i,new vm("",u,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new vm(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw R3(i);const c=yw(o);return this._addSvgIconSetConfig(e,new vm("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw k3(e);const r=this._cachedIconsByUrl.get(i);return r?We(UI(r)):this._loadSvgIconFromConfig(new vm(e,null)).pipe((0,_i.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,G.U)(o=>UI(o)))}getNamedSvgIcon(e,i=""){const r=O3(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):zs(A3(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?We(UI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,G.U)(i=>UI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?We(r):jH(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(zo(u=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,c.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(_)),We(null)})))).pipe((0,G.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw A3(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(o),u=this._extractSvgIconFromSet(c,e,o.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,_i.b)(i=>e.svgText=i),(0,G.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?We(null):this._fetchIcon(e).pipe((0,_i.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const c=o.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const u=this._svgElementFromString(yw("<svg></svg>"));return u.appendChild(c),this._setSvgAttributes(u,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(yw("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:c,value:u}=r[o];"id"!==c&&i.setAttribute(c,u)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function o7(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!c)throw k3(i);const u=this._inProgressUrlFetches.get(c);if(u)return u;const p=this._httpClient.get(c,{responseType:"text",withCredentials:o}).pipe((0,G.U)(_=>yw(_)),Pu(()=>this._inProgressUrlFetches.delete(c)),(0,QU.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(O3(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return a7(o)?new vm(o.url,null,o.options):new vm(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ZO,8),s.LFG(bl),s.LFG(J,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UI(n){return n.cloneNode(!0)}function O3(n,t){return n+":"+t}function a7(n){return!(!n.url||!n.options)}const l7=Sp(class{constructor(n){this._elementRef=n}}),c7=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),d7=new s.OlP("mat-icon-location",{providedIn:"root",factory:function u7(){const n=(0,s.f3M)(J),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),P3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],h7=P3.map(n=>`[${n}]`).join(", "),f7=/^url\(['"]?#(.*?)['"]?\)$/;let QO=(()=>{class n extends l7{get inline(){return this._inline}set inline(e){this._inline=qt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,c,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=gi.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(c=>{o.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(h7),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)P3.forEach(c=>{const u=i[o],p=u.getAttribute(c),_=p?p.match(f7):null;if(_){let b=r.get(u);b||(b=[],r.set(u,b)),b.push({name:c,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Vn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(BI),s.$8M("aria-hidden"),s.Y36(d7),s.Y36(s.qLn),s.Y36(c7,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:n7,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),p7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,xn]}),n})();const m7=["*"],b7=new s.OlP("MAT_CARD_CONFIG");let XO=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(b7,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:m7,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),F3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),JO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),R7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,mr,xn]}),n})();function N3(n,t){return t?e=>Eo(t.pipe(Vn(1),function O7(){return(0,Hi.e)((n,t)=>{n.subscribe((0,Qe.x)(t,aM.Z))})}()),e.pipe(N3(n))):(0,wr.z)((e,i)=>n(e,i).pipe(Vn(1),Ou(e)))}function L3(n,t=Fd.z){const e=Bg(n,t);return N3(()=>e)}const P7=["mat-menu-item",""];function F7(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"polygon",4),s.qZA())}const N7=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],L7=["mat-icon, [matMenuItemIcon]","*"];function V7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))})("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationDone(r))}),s.TgZ(1,"div",1),s.Hsn(2),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),s.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const B7=["*"],eP=new s.OlP("MAT_MENU_PANEL"),U7=n_(t_(class{}));let HI=(()=>{class n extends U7{constructor(e,i,r,o,c){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new pt.x,this._focused=new pt.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(J),s.Y36(Zs),s.Y36(eP,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(s.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),s.ekj("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[s.qOj],attrs:P7,ngContentSelectors:L7,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(s.F$t(N7),s.Hsn(0),s.TgZ(1,"span",0),s.Hsn(2,1),s.qZA(),s._UZ(3,"div",1),s.YNc(4,F7,2,0,"svg",2)),2&e&&(s.xp6(3),s.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),s.xp6(1),s.Q6J("ngIf",i._triggersSubmenu))},dependencies:[oi,Ol],encapsulation:2,changeDetection:0}),n})();const H7=new s.OlP("MatMenuContent"),zI={transformMenu:ws("transformMenu",[Cs("void",Bn({opacity:0,transform:"scale(0.8)"})),ar("void => enter",Er("120ms cubic-bezier(0, 0, 0.2, 1)",Bn({opacity:1,transform:"scale(1)"}))),ar("* => void",Er("100ms 25ms linear",Bn({opacity:0})))]),fadeInItems:ws("fadeInItems",[Cs("showing",Bn({opacity:1})),ar("void => *",[Bn({opacity:0}),Er("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let z7=0;const V3=new s.OlP("mat-menu-default-options",{providedIn:"root",factory:function j7(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let vw=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=qt(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=qt(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new s.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new pt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new s.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+z7++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new yb(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(zi(this._directDescendantItems),Zn(e=>(0,co.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(zi(this._directDescendantItems),Zn(i=>(0,co.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:uo(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Vn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(zi(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(V3),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,H7,5),s.Suo(r,HI,5),s.Suo(r,HI,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.lazyContent=o.first),s.iGM(o=s.CRH())&&(i._allItems=o),s.iGM(o=s.CRH())&&(i.items=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),$7=(()=>{class n extends vw{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(V3),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&s.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[s._Bn([{provide:eP,useExisting:n}]),s.qOj],ngContentSelectors:B7,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,V7,3,6,"ng-template"))},dependencies:[Ot],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[zI.transformMenu,zI.fadeInItems]},changeDetection:0}),n})();const B3=new s.OlP("mat-menu-scroll-strategy"),W7={provide:B3,deps:[To],useFactory:function G7(n){return()=>n.scrollStrategies.reposition()}},U3=Ua({passive:!0});let q7=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,o,c,u,p,_,b){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=u,this._dir=p,this._focusMonitor=_,this._ngZone=b,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=gi.w0.EMPTY,this._hoverSubscription=gi.w0.EMPTY,this._menuCloseSubscription=gi.w0.EMPTY,this._changeDetectorRef=(0,s.f3M)(s.sBO),this._handleTouchStart=x=>{bb(x)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new s.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new s.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=c instanceof vw?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,U3)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,U3),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof vw&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Kt(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof vw?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(_n(r=>"void"===r.toState),Vn(1),Kt(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new lh({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",c="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,c)):e.setPositionClasses(o,c)})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[c,u]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[p,_]=[c,u],[b,x]=[r,o],M=0;if(this.triggersSubmenu()){if(x=r="before"===e.xPosition?"start":"end",o=b="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const B=this._parentMaterialMenu.items.first;this._parentInnerPadding=B?B._getHostElement().offsetTop:0}M="bottom"===c?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(p="top"===c?"bottom":"top",_="top"===u?"bottom":"top");i.withPositions([{originX:r,originY:p,overlayX:b,overlayY:c,offsetY:M},{originX:o,originY:p,overlayX:x,overlayY:c,offsetY:M},{originX:r,originY:_,overlayX:b,overlayY:u,offsetY:-M},{originX:o,originY:_,overlayX:x,overlayY:u,offsetY:-M}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:We(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(_n(c=>c!==this._menuItemInstance),_n(()=>this._menuOpen)):We();return(0,co.T)(e,r,o,i)}_handleMousedown(e){xp(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(_n(e=>e===this._menuItemInstance&&!e.disabled),L3(0,Wv)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof vw&&this.menu._isAnimating?this.menu._animationDone.pipe(Vn(1),L3(0,Wv),Kt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Dc(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(To),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(B3),s.Y36(eP,8),s.Y36(HI,10),s.Y36(Fr,8),s.Y36(Zs),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&s.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),Y7=(()=>{class n extends q7{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[s.qOj]}),n})(),Z7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[W7],imports:[mr,_h,xn,Ud,wc,xn]}),n})();class bw{constructor(t,e,i){this.route=t,this.firestore=e,this.dialog=i,this.userId="",this.currentUser=new vc}ngOnInit(){this.route.paramMap.subscribe(t=>{this.userId=t.get("id"),console.log("GOT IT ",this.userId),this.getUser()})}getUser(){this.firestore.collection("users").doc(this.userId).valueChanges().subscribe(t=>{this.currentUser=new vc(t),console.log(`Retrieved user of ID ${this.userId}:`,this.currentUser)})}editUserDetails(){const t=this.dialog.open(gw);t.componentInstance.user=new vc(this.currentUser.toJSON()),t.componentInstance.userId=this.userId}editAddress(){const t=this.dialog.open(fw);t.componentInstance.user=new vc(this.currentUser.toJSON()),t.componentInstance.userId=this.userId}}function K7(n,t){1&n&&s._UZ(0,"mat-progress-bar",20)}bw.\u0275fac=function(t){return new(t||bw)(s.Y36(Id),s.Y36(yy),s.Y36(bh))},bw.\u0275cmp=s.Xpm({type:bw,selectors:[["app-user-detail"]],decls:35,vars:8,consts:[[1,"userProfileHeader"],["mat-icon-button","",1,"pinRightUpperCorner",3,"matMenuTriggerFor"],["userMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"align-items-center"],[1,"material-icons"],["src","./assets/img/avatar.png",1,"profileImage"],[1,"userDetails","mr-48px"],[1,"mt-32px","padding-8px"],["editUser","matMenu"]],template:function(t,e){if(1&t&&(s.TgZ(0,"mat-card",0)(1,"button",1)(2,"mat-icon"),s._uU(3,"more_vert"),s.qZA()(),s.TgZ(4,"mat-menu",null,2)(6,"button",3),s.NdJ("click",function(){return e.editUserDetails()}),s.TgZ(7,"div",4)(8,"span",5),s._uU(9,"edit"),s.qZA(),s.TgZ(10,"span"),s._uU(11,"Edit"),s.qZA()()()(),s._UZ(12,"img",6),s.TgZ(13,"div",7)(14,"h2"),s._uU(15),s.qZA(),s._uU(16),s.qZA()(),s.TgZ(17,"mat-card",8)(18,"button",1)(19,"mat-icon"),s._uU(20,"more_vert"),s.qZA()(),s.TgZ(21,"mat-menu",null,9)(23,"button",3),s.NdJ("click",function(){return e.editAddress()}),s.TgZ(24,"div",4)(25,"span",5),s._uU(26,"edit"),s.qZA(),s.TgZ(27,"span"),s._uU(28,"Edit"),s.qZA()()()(),s.TgZ(29,"mat-card-title"),s._uU(30,"Address"),s.qZA(),s._uU(31),s._UZ(32,"br"),s._uU(33),s._UZ(34,"mat-card-content"),s.qZA()),2&t){const i=s.MAs(5),r=s.MAs(22);s.xp6(1),s.Q6J("matMenuTriggerFor",i),s.xp6(14),s.AsE("",e.currentUser.firstName," ",e.currentUser.lastName,""),s.xp6(1),s.hij(" ",e.currentUser.email," "),s.xp6(2),s.Q6J("matMenuTriggerFor",r),s.xp6(13),s.hij(" ",e.currentUser.street," "),s.xp6(2),s.AsE(" ",e.currentUser.zipCode," ",e.currentUser.city," ")}},dependencies:[QO,dO,XO,JO,F3,$7,HI,Y7],styles:[".userProfileHeader[_ngcontent-%COMP%]{min-height:300px;background-color:#00d897;color:#fff;display:flex;flex-direction:row;align-items:flex-end}.userProfileHeader[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:100%}.userProfileHeaderSubcontainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.userDetails[_ngcontent-%COMP%]{margin-left:32px;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;height:100px}.userDetails[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.userOptions[_ngcontent-%COMP%]{position:absolute;right:24px!important;height:100px;display:flex;align-items:center;justify-content:space-between;justify-self:end}.userOption[_ngcontent-%COMP%]{cursor:pointer}.userOption[_ngcontent-%COMP%]:hover{transform:scale(1.25)}"]});class ww{constructor(t,e){this.dialogRef=t,this.firestore=e,this.user=new vc,this.loading=!1}saveUser(){this.user.birthDate=this.birthDate.getTime(),this.loading=!0,this.firestore.collection("users").add(this.user.toJSON()).then(t=>{this.loading=!1,console.log("Adding user finished",t),this.dialogRef.close()})}}ww.\u0275fac=function(t){return new(t||ww)(s.Y36(Wd),s.Y36(yy))},ww.\u0275cmp=s.Xpm({type:ww,selectors:[["app-dialog-add-user"]],decls:46,vars:18,consts:[[1,"dialogContainer"],["class","dialogProgressbar","mode","indeterminate",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"formFieldContainer"],["appearance","outline",1,"formField","mr-16"],["matInput","","placeholder","User's first name",3,"disabled","ngModel","ngModelChange"],["appearance","outline",1,"formField"],["matInput","","placeholder","User's last name",3,"disabled","ngModel","ngModelChange"],["appearance","outline",1,"formField","fullWidth","mr-16"],["matInput","","placeholder","User's mail",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","User's birthdate",3,"disabled","ngModel","matDatepicker","ngModelChange"],["matIconSuffix","",3,"for"],["picker1",""],["matInput","","placeholder","e.g. Avenue 4",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","e.g. Berlin",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","e.g. 12456",3,"disabled","ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["mode","indeterminate",1,"dialogProgressbar"]],template:function(t,e){if(1&t&&(s.TgZ(0,"div",0),s.YNc(1,K7,1,0,"mat-progress-bar",1),s.TgZ(2,"h1",2),s._uU(3,"Add user"),s.qZA(),s.TgZ(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),s._uU(8,"First name"),s.qZA(),s.TgZ(9,"input",6),s.NdJ("ngModelChange",function(r){return e.user.firstName=r}),s.qZA()(),s.TgZ(10,"mat-form-field",7)(11,"mat-label"),s._uU(12,"Last name"),s.qZA(),s.TgZ(13,"input",8),s.NdJ("ngModelChange",function(r){return e.user.lastName=r}),s.qZA()()(),s.TgZ(14,"div",4)(15,"mat-form-field",9)(16,"mat-label"),s._uU(17,"E-Mail"),s.qZA(),s.TgZ(18,"input",10),s.NdJ("ngModelChange",function(r){return e.user.email=r}),s.qZA()()(),s.TgZ(19,"div",4)(20,"mat-form-field",9)(21,"mat-label"),s._uU(22,"Birth date"),s.qZA(),s.TgZ(23,"input",11),s.NdJ("ngModelChange",function(r){return e.birthDate=r}),s.qZA(),s._UZ(24,"mat-datepicker-toggle",12)(25,"mat-datepicker",null,13),s.qZA()(),s.TgZ(27,"div",4)(28,"mat-form-field",9)(29,"mat-label"),s._uU(30,"Street + Nr."),s.qZA(),s.TgZ(31,"input",14),s.NdJ("ngModelChange",function(r){return e.user.street=r}),s.qZA()()(),s.TgZ(32,"div",4)(33,"mat-form-field",5)(34,"mat-label"),s._uU(35,"City"),s.qZA(),s.TgZ(36,"input",15),s.NdJ("ngModelChange",function(r){return e.user.city=r}),s.qZA()(),s.TgZ(37,"mat-form-field",5)(38,"mat-label"),s._uU(39,"Zip code"),s.qZA(),s.TgZ(40,"input",16),s.NdJ("ngModelChange",function(r){return e.user.zipCode=r}),s.qZA()()()(),s.TgZ(41,"div",17)(42,"button",18),s.NdJ("click",function(){return e.dialogRef.close()}),s._uU(43,"Cancel"),s.qZA(),s.TgZ(44,"button",19),s.NdJ("click",function(){return e.saveUser()}),s._uU(45," Save "),s.qZA()()()),2&t){const i=s.MAs(26);s.xp6(1),s.Q6J("ngIf",e.loading),s.xp6(8),s.Q6J("disabled",e.loading)("ngModel",e.user.firstName),s.xp6(4),s.Q6J("disabled",e.loading)("ngModel",e.user.lastName),s.xp6(5),s.Q6J("disabled",e.loading)("ngModel",e.user.email),s.xp6(5),s.Q6J("disabled",e.loading)("ngModel",e.birthDate)("matDatepicker",i),s.xp6(1),s.Q6J("for",i),s.xp6(7),s.Q6J("disabled",e.loading)("ngModel",e.user.street),s.xp6(5),s.Q6J("disabled",e.loading)("ngModel",e.user.city),s.xp6(4),s.Q6J("disabled",e.loading)("ngModel",e.user.zipCode),s.xp6(4),s.Q6J("disabled",e.loading)}},dependencies:[oi,rw,Vb,u_,Mc,PO,OO,hw,Yz,m3,FI,g3,vy,wI,dw,FO],styles:[".dialogContainer[_ngcontent-%COMP%]{position:relative}.dialogProgressbar[_ngcontent-%COMP%]{position:absolute;left:0}.formField[_ngcontent-%COMP%]{margin-top:16px}.formFieldContainer[_ngcontent-%COMP%]{display:flex}"]});const Q7=["tooltip"],H3=new s.OlP("mat-tooltip-scroll-strategy"),e9={provide:H3,deps:[To],useFactory:function J7(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},n9=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function t9(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),z3="tooltip-panel",j3=Ua({passive:!0});let l9=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=qt(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=qt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ba(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ba(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,c,u,p,_,b,x,M,B){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=c,this._platform=u,this._ariaDescriber=p,this._focusMonitor=_,this._dir=x,this._defaultOptions=M,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new pt.x,this._scrollStrategy=b,this._document=B,M&&(M.position&&(this.position=M.position),M.positionAtOrigin&&(this.positionAtOrigin=M.positionAtOrigin),M.touchGestures&&(this.touchGestures=M.touchGestures)),x.change.pipe(Kt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Kt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,j3)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Ws(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Kt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof s.SBq)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Kt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${z3}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Kt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Kt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Kt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!uo(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:c}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:c}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:c}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Vn(1),Kt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",c!==this._currentPosition){const u=this._overlayRef;if(u){const p=`${this._cssClassPrefix}-${z3}-`;u.removePanelClass(p+this._currentPosition),u.addPanelClass(p+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,j3)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),c9=(()=>{class n extends l9{constructor(e,i,r,o,c,u,p,_,b,x,M,B){super(e,i,r,o,c,u,p,_,b,x,M,B),this._tooltipComponent=u9,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(To),s.Y36(s.SBq),s.Y36(th),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(Qn),s.Y36(dA),s.Y36(Zs),s.Y36(H3),s.Y36(Fr,8),s.Y36(n9,8),s.Y36(J))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),d9=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new pt.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(i);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),u9=(()=>{class n extends d9{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(Q7,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.TgZ(2,"div",2),s._uU(3),s.qZA()()),2&e&&(s.ekj("mdc-tooltip--multiline",i._isMultiline),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message))},dependencies:[Ot],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),$3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[e9],imports:[Cb,mr,Ud,xn,xn,wc]}),n})();const h9=function(n){return[n]};function f9(n,t){if(1&n&&(s.TgZ(0,"tr",4)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("routerLink",s.VKq(7,h9,"/user/"+e.customIdName)),s.xp6(2),s.AsE("",e.firstName," ",e.lastName,""),s.xp6(2),s.Oqu(e.email),s.xp6(2),s.Oqu(e.street),s.xp6(2),s.AsE("",e.zipCode," ",e.city,"")}}class Cw{constructor(t,e){this.dialog=t,this.firestore=e,this.positionOptions=["below","above","left","right"],this.position=new IO(this.positionOptions[1]),this.user=new vc,this.allUsers=[]}ngOnInit(){this.firestore.collection("users").valueChanges({idField:"customIdName"}).subscribe(t=>{console.log("Received changes from DB",t),this.allUsers=t})}openDialog(){console.log("openDialog() called..."),this.dialog.open(ww)}}Cw.\u0275fac=function(t){return new(t||Cw)(s.Y36(bh),s.Y36(yy))},Cw.\u0275cmp=s.Xpm({type:Cw,selectors:[["app-user"]],decls:14,vars:2,consts:[[1,"matCardUser"],[1,"tableUser"],[3,"routerLink",4,"ngFor","ngForOf"],["mat-fab","","color","primary","matTooltip","Info about the action","matTooltipHideDelay","500",1,"addUserButton",3,"matTooltipPosition","click"],[3,"routerLink"]],template:function(t,e){1&t&&(s.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"table",1)(3,"tr")(4,"th"),s._uU(5,"Name"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"E-Mail"),s.qZA(),s.TgZ(8,"th"),s._uU(9,"City"),s.qZA()(),s.YNc(10,f9,9,9,"tr",2),s.qZA()()(),s.TgZ(11,"button",3),s.NdJ("click",function(){return e.openDialog()}),s.TgZ(12,"mat-icon"),s._uU(13,"add"),s.qZA()()),2&t&&(s.xp6(10),s.Q6J("ngForOf",e.allUsers),s.xp6(1),s.Q6J("matTooltipPosition",e.position.value))},dependencies:[ro,Xf,QO,rY,c9,XO,JO],styles:[".userMainContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}.addUserButton[_ngcontent-%COMP%]{position:absolute;bottom:56px;right:56px;background-color:#1dd091}.matCardUser[_ngcontent-%COMP%]{margin-top:24px}mat-card-content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.tableUser[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.tableUser[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer;border-bottom:1px solid rgba(0,0,0,.04)}.tableUser[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{cursor:unset}.tableUser[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child:hover{background-color:unset}.tableUser[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:0}.tableUser[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:48px}.tableUser[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:16px}.tableUser[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#0006;font-size:14px;font-weight:500;text-align:start}.tableUser[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:16px}.tableUser[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0000000a}.demo-table[_ngcontent-%COMP%]{width:100%}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-mdc-row[_ngcontent-%COMP%]:hover   .mat-mdc-cell[_ngcontent-%COMP%]{border-color:currentColor}.demo-row-is-clicked[_ngcontent-%COMP%]{font-weight:700}.useractive[_ngcontent-%COMP%]{background-color:#42d690}.userinactive[_ngcontent-%COMP%]{background:rgb(255,0,64)}.userPending[_ngcontent-%COMP%]{background-color:#f8b958}"]});const p9=[{path:"",component:yc},{path:"dashboard",component:yc},{path:"user",component:Cw},{path:"user/:id",component:bw},{path:"contact",component:Pd}];class xy{}xy.\u0275fac=function(t){return new(t||xy)},xy.\u0275mod=s.oAB({type:xy}),xy.\u0275inj=s.cJS({imports:[eD.forRoot(p9),eD]});const m9=["*",[["mat-toolbar-row"]]],g9=["*","mat-toolbar-row"],_9=Sp(class{constructor(n){this._elementRef=n}});let G3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),y9=(()=>{class n extends _9{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Qn),s.Y36(J))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,G3,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:g9,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(m9),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),v9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,xn]}),n})();const W3=["*"],b9=["content"];function w9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function C9(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const D9=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],E9=["mat-drawer","mat-drawer-content","*"],x9={transformDrawer:ws("transform",[Cs("open, open-instant",Bn({transform:"none",visibility:"visible"})),Cs("void",Bn({"box-shadow":"none",visibility:"hidden"})),ar("void => open-instant",Er("0ms")),ar("void <=> open, open-instant => void",Er("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},I9=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function S9(){return!1}}),q3=new s.OlP("MAT_DRAWER_CONTAINER");let tP=(()=>{class n extends rp{constructor(e,i,r,o,c){super(r,o,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>Z3)),s.Y36(s.SBq),s.Y36(th),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:rp,useExisting:n}]),s.qOj],ngContentSelectors:W3,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Y3=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=qt(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=qt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(qt(e))}constructor(e,i,r,o,c,u,p,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=c,this._interactivityChecker=u,this._doc=p,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new pt.x,this._animationEnd=new pt.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(_n(b=>b),(0,G.U)(()=>{})),this.openedStart=this._animationStarted.pipe(_n(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),Ou(void 0)),this._closedStream=this.openedChange.pipe(_n(b=>!b),(0,G.U)(()=>{})),this.closedStart=this._animationStarted.pipe(_n(b=>b.fromState!==b.toState&&"void"===b.toState),Ou(void 0)),this._destroyed=new pt.x,this.onPositionChanged=new s.vpe,this._modeChanged=new pt.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Qu(this._elementRef.nativeElement,"keydown").pipe(_n(b=>27===b.keyCode&&!this.disableClose&&!uo(b)),Kt(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(gb((b,x)=>b.fromState===x.fromState&&b.toState===x.toState)).subscribe(b=>{const{fromState:x,toState:M}=b;(0===M.indexOf("open")&&"void"===x||"void"===M&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Vn(1)).subscribe(c=>o(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ep),s.Y36(Zs),s.Y36(Qn),s.Y36(s.R0b),s.Y36(wp),s.Y36(J,8),s.Y36(q3,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(b9,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:W3,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[rp],encapsulation:2,data:{animation:[x9.transformDrawer]},changeDetection:0}),n})(),Z3=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=qt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:qt(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,c,u=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=p,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new pt.x,this._doCheckSubject=new pt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new pt.x,e&&e.change.pipe(Kt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Kt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}ngAfterContentInit(){this._allDrawers.changes.pipe(zi(this._allDrawers),Kt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(zi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(mp(10),Kt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(_n(i=>i.fromState!==i.toState),Kt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Kt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Kt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Vn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Kt((0,co.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(nh),s.Y36(I9),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,tP,5),s.Suo(r,Y3,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(tP,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:q3,useExisting:n}])],ngContentSelectors:E9,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(D9),s.YNc(0,w9,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,C9,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[oi,tP],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),T9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mr,xn,wc,wc,xn]}),n})();function M9(n,t){1&n&&(s.TgZ(0,"p"),s._uU(1,"Lorem, ipsum dolor sit amet consectetur."),s.qZA())}const A9=function(){return["/"]},k9=function(){return["/user"]},R9=function(){return["/contact"]};class Dw{constructor(){this.title="Business App",this.showFiller=!1}}function K3(n){return new s.vHH(3e3,!1)}function fQ(){return typeof window<"u"&&typeof window.document<"u"}function nP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ef(n){switch(n.length){case 0:return new yh;case 1:return n[0];default:return new wE(n)}}function Q3(n,t,e,i,r=new Map,o=new Map){const c=[],u=[];let p=-1,_=null;if(i.forEach(b=>{const x=b.get("offset"),M=x==p,B=M&&_||new Map;b.forEach((H,K)=>{let se=K,Ze=H;if("offset"!==K)switch(se=t.normalizePropertyName(se,c),Ze){case l_:Ze=r.get(K);break;case $a:Ze=o.get(K);break;default:Ze=t.normalizeStyleValue(K,se,Ze,c)}B.set(se,Ze)}),M||u.push(B),_=B,p=x}),c.length)throw function tQ(n){return new s.vHH(3502,!1)}();return u}function iP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&rP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&rP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&rP(e,"destroy",n)))}}function rP(n,t,e){const o=oP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function oP(n,t,e,i,r="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function ia(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function X3(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}Dw.\u0275fac=function(t){return new(t||Dw)},Dw.\u0275cmp=s.Xpm({type:Dw,selectors:[["app-root"]],decls:28,vars:8,consts:[["autosize","",1,"mat-drawer-container"],["mode","side",1,"sidenav",3,"opened"],["drawer",""],[1,"logoContainer"],["src","./../assets/img/LogoMakr-2wE8sY.png",1,"sideNavLogoImage"],[1,"menuItems"],["routerLinkActive","router-link-active",3,"routerLink"],[4,"ngIf"],[1,"example-sidenav-content"],["color","primary"],[1,"menuIcon",3,"click"],[1,"routerContainer"]],template:function(t,e){if(1&t){const i=s.EpF();s.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3),s._UZ(4,"img",4),s.qZA(),s.TgZ(5,"ul",5)(6,"li",6)(7,"mat-icon"),s._uU(8,"dashboard"),s.qZA(),s._uU(9,"Dashboard"),s.qZA(),s.TgZ(10,"li",6)(11,"mat-icon"),s._uU(12,"perm_identity"),s.qZA(),s._uU(13,"User"),s.qZA(),s.TgZ(14,"li",6)(15,"mat-icon"),s._uU(16,"email"),s.qZA(),s._uU(17,"Contact"),s.qZA()(),s.YNc(18,M9,2,0,"p",7),s.qZA(),s.TgZ(19,"div",8)(20,"mat-toolbar",9)(21,"mat-toolbar-row")(22,"mat-icon",10),s.NdJ("click",function(){s.CHM(i);const o=s.MAs(2);return s.KtG(o.toggle())}),s._uU(23,"menu"),s.qZA(),s.TgZ(24,"span"),s._uU(25,"Simple CRM"),s.qZA()()(),s.TgZ(26,"div",11),s._UZ(27,"router-outlet"),s.qZA()()()}2&t&&(s.xp6(1),s.Q6J("opened",!0),s.xp6(5),s.Q6J("routerLink",s.DdM(5,A9)),s.xp6(4),s.Q6J("routerLink",s.DdM(6,k9)),s.xp6(4),s.Q6J("routerLink",s.DdM(7,R9)),s.xp6(4),s.Q6J("ngIf",e.showFiller))},dependencies:[oi,bg,Xf,Ag,y9,G3,Y3,Z3,QO],styles:[".mat-drawer-container[_ngcontent-%COMP%]{height:100vh}.menuIcon[_ngcontent-%COMP%]{cursor:pointer;margin-right:16px}.sidenav[_ngcontent-%COMP%]{width:300px}.sideNavLogoImage[_ngcontent-%COMP%]{height:-webkit-fill-available;object-fit:contain}.logoContainer[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.04);padding-left:16px;padding-right:16px;min-height:56px!important;height:56px!important;display:flex;align-items:flex-start}.menuItems[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px;height:48px;display:flex;align-items:center;cursor:pointer}.menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#0000000a}.menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:16px}.menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus{outline:none}mat-toolbar[_ngcontent-%COMP%], mat-toolbar-row[_ngcontent-%COMP%]{min-height:56px!important;height:56px!important}.routerContainer[_ngcontent-%COMP%]{padding-top:16px;padding-left:56px;padding-right:56px}"]});let sP=(n,t)=>!1,J3=(n,t,e)=>[],ej=null;function aP(n){const t=n.parentNode||n.host;return t===ej?null:t}(nP()||typeof Element<"u")&&(fQ()?(ej=(()=>document.documentElement)(),sP=(n,t)=>{for(;t;){if(t===n)return!0;t=aP(t)}return!1}):sP=(n,t)=>n.contains(t),J3=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let bm=null,tj=!1;const nj=sP,ij=J3;let rj=(()=>{class n{validateStyleProperty(e){return function mQ(n){bm||(bm=function gQ(){return typeof document<"u"?document.body:null}()||{},tj=!!bm.style&&"WebkitAppearance"in bm.style);let t=!0;return bm.style&&!function pQ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in bm.style,!t&&tj&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bm.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return nj(e,i)}getParentElement(e){return aP(e)}query(e,i,r){return ij(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,c,u=[],p){return new yh(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),lP=(()=>{class n{}return n.NOOP=new rj,n})();const _Q=1e3,cP="ng-enter",jI="ng-leave",$I="ng-trigger",GI=".ng-trigger",sj="ng-animating",dP=".ng-animating";function iu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:uP(parseFloat(t[1]),t[2])}function uP(n,t){return"s"===t?n*_Q:n}function WI(n,t,e){return n.hasOwnProperty("duration")?n:function vQ(n,t,e){let r,o=0,c="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(K3()),{duration:0,delay:0,easing:""};r=uP(parseFloat(u[1]),u[2]);const p=u[3];null!=p&&(o=uP(parseFloat(p),u[4]));const _=u[5];_&&(c=_)}else r=n;if(!e){let u=!1,p=t.length;r<0&&(t.push(function O9(){return new s.vHH(3100,!1)}()),u=!0),o<0&&(t.push(function P9(){return new s.vHH(3101,!1)}()),u=!0),u&&t.splice(p,0,K3())}return{duration:r,delay:o,easing:c}}(n,t,e)}function Ew(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function aj(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function tf(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function cj(n,t,e){return e?t+":"+e+";":""}function dj(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=cj(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=cj(0,DQ(e),n.style[e]));n.setAttribute("style",t)}function Bc(n,t,e){n.style&&(t.forEach((i,r)=>{const o=fP(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),nP()&&dj(n))}function wm(n,t){n.style&&(t.forEach((e,i)=>{const r=fP(i);n.style[r]=""}),nP()&&dj(n))}function xw(n){return Array.isArray(n)?1==n.length?n[0]:bE(n):n}const hP=new RegExp("{{\\s*(.+?)\\s*}}","g");function uj(n){let t=[];if("string"==typeof n){let e;for(;e=hP.exec(n);)t.push(e[1]);hP.lastIndex=0}return t}function Iw(n,t,e){const i=n.toString(),r=i.replace(hP,(o,c)=>{let u=t[c];return null==u&&(e.push(function N9(n){return new s.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function qI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const CQ=/-+([a-z0-9])/g;function fP(n){return n.replace(CQ,(...t)=>t[1].toUpperCase())}function DQ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ra(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function L9(n){return new s.vHH(3004,!1)}()}}function hj(n,t){return window.getComputedStyle(n)[t]}const KI="*";function MQ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function AQ(n,t,e){if(":"==n[0]){const p=function kQ(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Q9(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function K9(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],c=i[3];t.push(fj(r,c));"<"==o[0]&&!(r==KI&&c==KI)&&t.push(fj(c,r))}(i,e,t)):e.push(n),e}const QI=new Set(["true","1"]),XI=new Set(["false","0"]);function fj(n,t){const e=QI.has(n)||XI.has(n),i=QI.has(t)||XI.has(t);return(r,o)=>{let c=n==KI||n==r,u=t==KI||t==o;return!c&&e&&"boolean"==typeof r&&(c=r?QI.has(n):XI.has(n)),!u&&i&&"boolean"==typeof o&&(u=o?QI.has(t):XI.has(t)),c&&u}}const RQ=new RegExp("s*:selfs*,?","g");function pP(n,t,e,i){return new OQ(n).build(t,e,i)}class OQ{constructor(t){this._driver=t}build(t,e,i){const r=new NQ(e);return this._resetContextStyleTimingState(r),ra(this,xw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function B9(){return new s.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const p=u,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,o.push(this.visitState(p,e))}),p.name=_}else if(1==u.type){const p=this.visitTransition(u,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function U9(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(p=>{uj(p).forEach(_=>{c.hasOwnProperty(_)||o.add(_)})})}),o.size&&(qI(o.values()),e.errors.push(function H9(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ra(this,xw(t.animation),e);return{type:1,matchers:MQ(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Cm(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ra(this,i,e)),options:Cm(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(c=>{e.currentTime=i;const u=ra(this,c,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:o,options:Cm(t.options)}}visitAnimate(t,e){const i=function VQ(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return mP(WI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=mP(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=WI(e,t);return mP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Bn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let c=t.styles,u=!1;if(!c){u=!0;const _={};i.easing&&(_.easing=i.easing),c=Bn(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=u,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===$a?i.push(u):e.errors.push(new s.vHH(3002,!1)):i.push(aj(u));let o=!1,c=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(c=u.get("easing"),u.delete("easing")),!o))for(let p of u.values())if(p.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((u,p)=>{const _=e.collectedStyles.get(e.currentQuerySelector),b=_.get(p);let x=!0;b&&(o!=r&&o>=b.startTime&&r<=b.endTime&&(e.errors.push(function j9(n,t,e,i,r){return new s.vHH(3010,!1)}()),x=!1),o=b.startTime),x&&_.set(p,{startTime:o,endTime:r}),e.options&&function wQ(n,t,e){const i=t.params||{},r=uj(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function F9(n){return new s.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function $9(){return new s.vHH(3011,!1)}()),i;let o=0;const c=[];let u=!1,p=!1,_=0;const b=t.steps.map(Ze=>{const mt=this._makeStyleAst(Ze,e);let yt=null!=mt.offset?mt.offset:function LQ(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(mt.styles),vt=0;return null!=yt&&(o++,vt=mt.offset=yt),p=p||vt<0||vt>1,u=u||vt<_,_=vt,c.push(vt),mt});p&&e.errors.push(function G9(){return new s.vHH(3012,!1)}()),u&&e.errors.push(function W9(){return new s.vHH(3200,!1)}());const x=t.steps.length;let M=0;o>0&&o<x?e.errors.push(function q9(){return new s.vHH(3202,!1)}()):0==o&&(M=1/(x-1));const B=x-1,H=e.currentTime,K=e.currentAnimateTimings,se=K.duration;return b.forEach((Ze,mt)=>{const yt=M>0?mt==B?1:M*mt:c[mt],vt=yt*se;e.currentTime=H+K.delay+vt,K.duration=vt,this._validateStyleAst(Ze,e),Ze.offset=yt,i.styles.push(Ze)}),i}visitReference(t,e){return{type:8,animation:ra(this,xw(t.animation),e),options:Cm(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Cm(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Cm(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function PQ(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(RQ,"")),n=n.replace(/@\*/g,GI).replace(/@\w+/g,e=>GI+"-"+e.slice(1)).replace(/:animating/g,dP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ia(e.collectedStyles,e.currentQuerySelector,new Map);const u=ra(this,xw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:u,originalSelector:t.selector,options:Cm(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Y9(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:WI(t.timings,e.errors,!0);return{type:12,animation:ra(this,xw(t.animation),e),timings:i,options:null}}}class NQ{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cm(n){return n?(n=Ew(n)).params&&(n.params=function FQ(n){return n?Ew(n):null}(n.params)):n={},n}function mP(n,t,e){return{duration:n,delay:t,easing:e}}function gP(n,t,e,i,r,o,c=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:u}}class JI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const HQ=new RegExp(":enter","g"),jQ=new RegExp(":leave","g");function _P(n,t,e,i,r,o=new Map,c=new Map,u,p,_=[]){return(new $Q).buildKeyframes(n,t,e,i,r,o,c,u,p,_)}class $Q{buildKeyframes(t,e,i,r,o,c,u,p,_,b=[]){_=_||new JI;const x=new yP(t,e,_,r,o,b,[]);x.options=p;const M=p.delay?iu(p.delay):0;x.currentTimeline.delayNextStep(M),x.currentTimeline.setStyles([c],null,x.errors,p),ra(this,i,x);const B=x.timelines.filter(H=>H.containsAnimation());if(B.length&&u.size){let H;for(let K=B.length-1;K>=0;K--){const se=B[K];if(se.element===e){H=se;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([u],null,x.errors,p)}return B.length?B.map(H=>H.buildKeyframes()):[gP(e,[],[],[],0,M,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const c="number"==typeof o?o:iu(Iw(o,r?.params??{},e.errors));i.delayNextStep(c)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const c=null!=i.duration?iu(i.duration):null,u=null!=i.delay?iu(i.delay):null;return 0!==c&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,c,u);o=Math.max(o,_.duration+_.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ra(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=eS);const c=iu(o.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>ra(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?iu(t.options.delay):0;t.steps.forEach(c=>{const u=e.createSubContext(t.options);o&&u.delayNextStep(o),ra(this,c,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return WI(e.params?Iw(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(p=>{u.forwardTime((p.offset||0)*o),u.setStyles(p.styles,p.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?iu(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=eS);let c=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let p=null;u.forEach((_,b)=>{e.currentQueryIndex=b;const x=e.createSubContext(t.options,_);o&&x.delayNextStep(o),_===e.element&&(p=x.currentTimeline),ra(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),u=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=u-p;break;case"full":p=i.currentStaggerTime}const b=e.currentTimeline;p&&b.delayNextStep(p);const x=b.currentTime;ra(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const eS={};class yP{constructor(t,e,i,r,o,c,u,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new tS(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=iu(i.duration)),null!=i.delay&&(r.delay=iu(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(u=>{(!e||!c.hasOwnProperty(u))&&(c[u]=Iw(o[u],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new yP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=eS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new GQ(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,c){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(HQ,"."+this._enterClassName)).replace(jQ,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),u.push(..._)}return!o&&0==u.length&&c.push(function Z9(n){return new s.vHH(3014,!1)}()),u}}class tS{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new tS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||$a),this._currentKeyframe.set(e,$a);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},c=function WQ(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,$a)}else tf(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,p]of c){const _=Iw(p,o,i);this._pendingStyles.set(u,_),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??$a),this._updateStyle(u,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,p)=>{const _=tf(u,new Map,this._backFill);_.forEach((b,x)=>{b===l_?t.add(x):b===$a&&e.add(x)}),i||_.set("offset",p/this.duration),r.push(_)});const o=t.size?qI(t.values()):[],c=e.size?qI(e.values()):[];if(i){const u=r[0],p=new Map(u);u.set("offset",0),p.set("offset",1),r=[u,p]}return gP(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class GQ extends tS{constructor(t,e,i,r,o,c,u=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=i+e,u=e/c,p=tf(t[0]);p.set("offset",0),o.push(p);const _=tf(t[0]);_.set("offset",gj(u)),o.push(_);const b=t.length-1;for(let x=1;x<=b;x++){let M=tf(t[x]);const B=M.get("offset");M.set("offset",gj((e+B*i)/c)),o.push(M)}i=c,e=0,r="",t=o}return gP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function gj(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class vP{}const qQ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class YQ extends vP{normalizePropertyName(t,e){return fP(t)}normalizeStyleValue(t,e,i,r){let o="";const c=i.toString().trim();if(qQ.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function V9(n,t){return new s.vHH(3005,!1)}())}return c+o}}function _j(n,t,e,i,r,o,c,u,p,_,b,x,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:c,timelines:u,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:x,errors:M}}const bP={};class yj{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function ZQ(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,c,u,p,_,b){const x=[],M=this.ast.options&&this.ast.options.params||bP,H=this.buildStyles(i,u&&u.params||bP,x),K=p&&p.params||bP,se=this.buildStyles(r,K,x),Ze=new Set,mt=new Map,yt=new Map,vt="void"===r,Lt={params:KQ(K,M),delay:this.ast.options?.delay},zt=b?[]:_P(t,e,this.ast.animation,o,c,H,se,Lt,_,x);let Cn=0;if(zt.forEach(lu=>{Cn=Math.max(lu.duration+lu.delay,Cn)}),x.length)return _j(e,this._triggerName,i,r,vt,H,se,[],[],mt,yt,Cn,x);zt.forEach(lu=>{const cu=lu.element,eG=ia(mt,cu,new Set);lu.preStyleProps.forEach(Om=>eG.add(Om));const iC=ia(yt,cu,new Set);lu.postStyleProps.forEach(Om=>iC.add(Om)),cu!==e&&Ze.add(cu)});const os=qI(Ze.values());return _j(e,this._triggerName,i,r,vt,H,se,zt,os,mt,yt,Cn)}}function KQ(n,t){const e=Ew(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class QQ{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Ew(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,u)=>{c&&(c=Iw(c,r,e));const p=this.normalizer.normalizePropertyName(u,e);c=this.normalizer.normalizeStyleValue(u,p,c,e),i.set(u,c)})}),i}}class JQ{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new QQ(r.style,r.options&&r.options.params||{},i))}),vj(this.states,"true","1"),vj(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new yj(t,r,this.states))}),this.fallbackTransition=function eX(n,t,e){return new yj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function vj(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const tX=new JI;class nX{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],o=pP(this._driver,e,i,r);if(i.length)throw function nQ(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=Q3(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let c;const u=new Map;if(o?(c=_P(this._driver,e,o,cP,jI,new Map,new Map,i,tX,r),c.forEach(b=>{const x=ia(u,b.element,new Map);b.postStyleProps.forEach(M=>x.set(M,null))})):(r.push(function iQ(){return new s.vHH(3300,!1)}()),c=[]),r.length)throw function rQ(n){return new s.vHH(3504,!1)}();u.forEach((b,x)=>{b.forEach((M,B)=>{b.set(B,this._driver.computeStyle(x,B,$a))})});const _=ef(c.map(b=>{const x=u.get(b.element);return this._buildPlayer(b,new Map,x)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function oQ(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=oP(e,"","","");return iP(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const bj="ng-animate-queued",wP="ng-animate-disabled",aX=[],wj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qa="__ng_removed";class CP{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function hX(n){return n??null}(i?t.value:t),i){const o=Ew(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Sw="void",DP=new CP(Sw);class cX{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ya(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function sQ(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function aQ(n){return new s.vHH(3303,!1)}();if(!function fX(n){return"start"==n||"done"==n}(i))throw function lQ(n,t){return new s.vHH(3400,!1)}();const o=ia(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};o.push(c);const u=ia(this._engine.statesByElement,t,new Map);return u.has(e)||(Ya(t,$I),Ya(t,$I+"-"+e),u.set(e,DP)),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(c);p>=0&&o.splice(p,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function cQ(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),c=new EP(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(Ya(t,$I),Ya(t,$I+"-"+e),this._engine.statesByElement.set(t,u=new Map));let p=u.get(e);const _=new CP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),u.set(e,_),p||(p=DP),_.value!==Sw&&p.value===_.value){if(!function gX(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(p.params,_.params)){const K=[],se=o.matchStyles(p.value,p.params,K),Ze=o.matchStyles(_.value,_.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{wm(t,se),Bc(t,Ze)})}return}const M=ia(this._engine.playersByElement,t,[]);M.forEach(K=>{K.namespaceId==this.id&&K.triggerName==e&&K.queued&&K.destroy()});let B=o.matchTransition(p.value,_.value,t,_.params),H=!1;if(!B){if(!r)return;B=o.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:p,toState:_,player:c,isFallbackTransition:H}),H||(Ya(t,bj),c.onStart(()=>{Iy(t,bj)})),c.onDone(()=>{let K=this.players.indexOf(c);K>=0&&this.players.splice(K,1);const se=this._engine.playersByElement.get(t);if(se){let Ze=se.indexOf(c);Ze>=0&&se.splice(Ze,1)}}),this.players.push(c),M.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,GI,!0);i.forEach(r=>{if(r[qa])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const u=[];if(o.forEach((p,_)=>{if(c.set(_,p.value),this._triggers.has(_)){const b=this.trigger(t,_,Sw,r);b&&u.push(b)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&ef(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,_=i.get(c)||DP,b=new CP(Sw),x=new EP(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:_,toState:b,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[qa];(!o||o===wj)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ya(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(u=>{if(u.name==i.triggerName){const p=oP(o,i.triggerName,i.fromState.value,i.toState.value);p._data=t,iP(i.player,u.phase,p,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class dX{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new cX(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,u=this.driver.getParentElement(e);for(;u;){const p=r.get(u);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),c=!0;break}u=this.driver.getParentElement(u)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(nS(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!nS(e))return;const o=e[qa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ya(t,wP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Iy(t,wP))}removeNode(t,e,i,r){if(nS(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[qa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return nS(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,GI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,dP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ef(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[qa];if(e&&e.setForRemoval){if(t[qa]=wj,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(wP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ya(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ef(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function dQ(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new JI,r=[],o=new Map,c=[],u=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(Et=>{b.add(Et);const Vt=this.driver.query(Et,".ng-animate-queued",!0);for(let Wt=0;Wt<Vt.length;Wt++)b.add(Vt[Wt])});const x=this.bodyNode,M=Array.from(this.statesByElement.keys()),B=Ej(M,this.collectedEnterElements),H=new Map;let K=0;B.forEach((Et,Vt)=>{const Wt=cP+K++;H.set(Vt,Wt),Et.forEach(Tn=>Ya(Tn,Wt))});const se=[],Ze=new Set,mt=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Vt=this.collectedLeaveElements[Et],Wt=Vt[qa];Wt&&Wt.setForRemoval&&(se.push(Vt),Ze.add(Vt),Wt.hasAnimation?this.driver.query(Vt,".ng-star-inserted",!0).forEach(Tn=>Ze.add(Tn)):mt.add(Vt))}const yt=new Map,vt=Ej(M,Array.from(Ze));vt.forEach((Et,Vt)=>{const Wt=jI+K++;yt.set(Vt,Wt),Et.forEach(Tn=>Ya(Tn,Wt))}),t.push(()=>{B.forEach((Et,Vt)=>{const Wt=H.get(Vt);Et.forEach(Tn=>Iy(Tn,Wt))}),vt.forEach((Et,Vt)=>{const Wt=yt.get(Vt);Et.forEach(Tn=>Iy(Tn,Wt))}),se.forEach(Et=>{this.processLeaveNode(Et)})});const Lt=[],zt=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(e).forEach(Wt=>{const Tn=Wt.player,to=Wt.element;if(Lt.push(Tn),this.collectedEnterElements.length){const Ao=to[qa];if(Ao&&Ao.setForMove){if(Ao.previousTriggersValues&&Ao.previousTriggersValues.has(Wt.triggerName)){const Pm=Ao.previousTriggersValues.get(Wt.triggerName),Qa=this.statesByElement.get(Wt.element);if(Qa&&Qa.has(Wt.triggerName)){const QS=Qa.get(Wt.triggerName);QS.value=Pm,Qa.set(Wt.triggerName,QS)}}return void Tn.destroy()}}const $c=!x||!this.driver.containsElement(x,to),aa=yt.get(to),pf=H.get(to),qi=this._buildInstruction(Wt,i,pf,aa,$c);if(qi.errors&&qi.errors.length)return void zt.push(qi);if($c)return Tn.onStart(()=>wm(to,qi.fromStyles)),Tn.onDestroy(()=>Bc(to,qi.toStyles)),void r.push(Tn);if(Wt.isFallbackTransition)return Tn.onStart(()=>wm(to,qi.fromStyles)),Tn.onDestroy(()=>Bc(to,qi.toStyles)),void r.push(Tn);const iG=[];qi.timelines.forEach(Ao=>{Ao.stretchStartingKeyframe=!0,this.disabledNodes.has(Ao.element)||iG.push(Ao)}),qi.timelines=iG,i.append(to,qi.timelines),c.push({instruction:qi,player:Tn,element:to}),qi.queriedElements.forEach(Ao=>ia(u,Ao,[]).push(Tn)),qi.preStyleProps.forEach((Ao,Pm)=>{if(Ao.size){let Qa=p.get(Pm);Qa||p.set(Pm,Qa=new Set),Ao.forEach((QS,oN)=>Qa.add(oN))}}),qi.postStyleProps.forEach((Ao,Pm)=>{let Qa=_.get(Pm);Qa||_.set(Pm,Qa=new Set),Ao.forEach((QS,oN)=>Qa.add(oN))})});if(zt.length){const Et=[];zt.forEach(Vt=>{Et.push(function uQ(n,t){return new s.vHH(3505,!1)}())}),Lt.forEach(Vt=>Vt.destroy()),this.reportError(Et)}const Cn=new Map,os=new Map;c.forEach(Et=>{const Vt=Et.element;i.has(Vt)&&(os.set(Vt,Vt),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,Cn))}),r.forEach(Et=>{const Vt=Et.element;this._getPreviousPlayers(Vt,!1,Et.namespaceId,Et.triggerName,null).forEach(Tn=>{ia(Cn,Vt,[]).push(Tn),Tn.destroy()})});const lu=se.filter(Et=>Ij(Et,p,_)),cu=new Map;Dj(cu,this.driver,mt,_,$a).forEach(Et=>{Ij(Et,p,_)&&lu.push(Et)});const iC=new Map;B.forEach((Et,Vt)=>{Dj(iC,this.driver,new Set(Et),p,l_)}),lu.forEach(Et=>{const Vt=cu.get(Et),Wt=iC.get(Et);cu.set(Et,new Map([...Array.from(Vt?.entries()??[]),...Array.from(Wt?.entries()??[])]))});const Om=[],tG=[],nG={};c.forEach(Et=>{const{element:Vt,player:Wt,instruction:Tn}=Et;if(i.has(Vt)){if(b.has(Vt))return Wt.onDestroy(()=>Bc(Vt,Tn.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(Tn.totalTime),void r.push(Wt);let to=nG;if(os.size>1){let aa=Vt;const pf=[];for(;aa=aa.parentNode;){const qi=os.get(aa);if(qi){to=qi;break}pf.push(aa)}pf.forEach(qi=>os.set(qi,to))}const $c=this._buildAnimation(Wt.namespaceId,Tn,Cn,o,iC,cu);if(Wt.setRealPlayer($c),to===nG)Om.push(Wt);else{const aa=this.playersByElement.get(to);aa&&aa.length&&(Wt.parentPlayer=ef(aa)),r.push(Wt)}}else wm(Vt,Tn.fromStyles),Wt.onDestroy(()=>Bc(Vt,Tn.toStyles)),tG.push(Wt),b.has(Vt)&&r.push(Wt)}),tG.forEach(Et=>{const Vt=o.get(Et.element);if(Vt&&Vt.length){const Wt=ef(Vt);Et.setRealPlayer(Wt)}}),r.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<se.length;Et++){const Vt=se[Et],Wt=Vt[qa];if(Iy(Vt,jI),Wt&&Wt.hasAnimation)continue;let Tn=[];if(u.size){let $c=u.get(Vt);$c&&$c.length&&Tn.push(...$c);let aa=this.driver.query(Vt,dP,!0);for(let pf=0;pf<aa.length;pf++){let qi=u.get(aa[pf]);qi&&qi.length&&Tn.push(...qi)}}const to=Tn.filter($c=>!$c.destroyed);to.length?pX(this,Vt,to):this.processLeaveNode(Vt)}return se.length=0,Om.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Vt=this.players.indexOf(Et);this.players.splice(Vt,1)}),Et.play()}),Om}elementContainsData(t,e){let i=!1;const r=e[qa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let c=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(c=u)}else{const u=this.playersByElement.get(t);if(u){const p=!o||o==Sw;u.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),c}_beforeAnimationBuild(t,e,i){const o=e.element,c=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,b=_!==o,x=ia(i,_,[]);this._getPreviousPlayers(_,b,c,u,e.toState).forEach(B=>{const H=B.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),B.destroy(),x.push(B)})}wm(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,c){const u=e.triggerName,p=e.element,_=[],b=new Set,x=new Set,M=e.timelines.map(H=>{const K=H.element;b.add(K);const se=K[qa];if(se&&se.removedBeforeQueried)return new yh(H.duration,H.delay);const Ze=K!==p,mt=function mX(n){const t=[];return xj(n,t),t}((i.get(K)||aX).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===K),yt=o.get(K),vt=c.get(K),Lt=Q3(0,this._normalizer,0,H.keyframes,yt,vt),zt=this._buildPlayer(H,Lt,mt);if(H.subTimeline&&r&&x.add(K),Ze){const Cn=new EP(t,u,K);Cn.setRealPlayer(zt),_.push(Cn)}return zt});_.forEach(H=>{ia(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function uX(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,H.element,H))}),b.forEach(H=>Ya(H,sj));const B=ef(M);return B.onDestroy(()=>{b.forEach(H=>Iy(H,sj)),Bc(p,e.toStyles)}),x.forEach(H=>{ia(r,H,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new yh(t.duration,t.delay)}}class EP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new yh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>iP(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ia(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function nS(n){return n&&1===n.nodeType}function Cj(n,t){const e=n.style.display;return n.style.display=t??"none",e}function Dj(n,t,e,i,r){const o=[];e.forEach(p=>o.push(Cj(p)));const c=[];i.forEach((p,_)=>{const b=new Map;p.forEach(x=>{const M=t.computeStyle(_,x,r);b.set(x,M),(!M||0==M.length)&&(_[qa]=lX,c.push(_))}),n.set(_,b)});let u=0;return e.forEach(p=>Cj(p,o[u++])),c}function Ej(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const i=1,r=new Set(t),o=new Map;function c(u){if(!u)return i;let p=o.get(u);if(p)return p;const _=u.parentNode;return p=e.has(_)?_:r.has(_)?i:c(_),o.set(u,p),p}return t.forEach(u=>{const p=c(u);p!==i&&e.get(p).push(u)}),e}function Ya(n,t){n.classList?.add(t)}function Iy(n,t){n.classList?.remove(t)}function pX(n,t,e){ef(e).onDone(()=>n.processLeaveNode(t))}function xj(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof wE?xj(i.players,t):t.push(i)}}function Ij(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class iS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new dX(t,e,i),this._timelineEngine=new nX(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const c=t+"-"+r;let u=this._triggerCache[c];if(!u){const p=[],_=[],b=pP(this._driver,o,p,_);if(p.length)throw function eQ(n,t){return new s.vHH(3404,!1)}();u=function XQ(n,t,e){return new JQ(n,t,e)}(r,b,this._normalizer),this._triggerCache[c]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,c]=X3(i);this._timelineEngine.command(o,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[c,u]=X3(i);return this._timelineEngine.listen(c,e,u,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let yX=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Bc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bc(this._element,this._initialStyles),this._endStyles&&(Bc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wm(this._element,this._endStyles),this._endStyles=null),Bc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xP(n){let t=null;return n.forEach((e,i)=>{(function vX(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Sj{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:hj(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class bX{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return nj(t,e)}getParentElement(t){return aP(t)}query(t,e,i){return ij(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const _=new Map,b=c.filter(B=>B instanceof Sj);(function EQ(n,t){return 0===n||0===t})(i,r)&&b.forEach(B=>{B.currentSnapshot.forEach((H,K)=>_.set(K,H))});let x=function bQ(n){return n.length?n[0]instanceof Map?n:n.map(t=>aj(t)):[]}(e).map(B=>tf(B));x=function xQ(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<t.length;o++){let c=t[o];r.forEach(u=>c.set(u,hj(n,u)))}}return t}(t,x,_);const M=function _X(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=xP(t[0]),t.length>1&&(i=xP(t[t.length-1]))):t instanceof Map&&(e=xP(t)),e||i?new yX(n,e,i):null}(t,x);return new Sj(t,x,p,M)}}let wX=(()=>{class n extends o_{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?bE(e):e;return Tj(this._renderer,null,i,"register",[r]),new CX(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class CX extends Pb{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new DX(this._id,t,e||{},this._renderer)}}class DX{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Tj(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Tj(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Mj="@.disabled";let EX=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const u=c?.parentNode(o);u&&c.removeChild(u,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(o);return b||(b=new Aj("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,b)),b}const c=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,u,e,b.name,b)};return i.data.animation.forEach(p),new xX(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,u]=o;c(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(iS),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Aj{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Mj?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class xX extends Aj{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Mj?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function IX(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function SX(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let TX=(()=>{class n extends iS{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J),s.LFG(lP),s.LFG(vP),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const kj=[{provide:o_,useClass:wX},{provide:vP,useFactory:function MX(){return new YQ}},{provide:iS,useClass:TX},{provide:s.FYo,useFactory:function AX(n,t,e){return new EX(n,t,e)},deps:[Ui,iS,s.R0b]}],IP=[{provide:lP,useFactory:()=>new bX},{provide:s.QbO,useValue:"BrowserAnimations"},...kj],Rj=[{provide:lP,useClass:rj},{provide:s.QbO,useValue:"NoopAnimations"},...kj];let kX=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Rj:IP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:IP,imports:[Ma]}),n})();const Oj_firebaseConfig={apiKey:"AIzaSyAzxb923xhEVMdnBEuaWB6oWnuXzXtui_s",authDomain:"business-app-d90ca.firebaseapp.com",projectId:"business-app-d90ca",storageBucket:"business-app-d90ca.appspot.com",messagingSenderId:"1057829605909",appId:"1:1057829605909:web:672ac96f557f026ecb341c"};var RX=U(8401);class SP{constructor(t){return t}}class TP{constructor(){return(0,fn.vb)("auth")}}const MP=new s.OlP("angularfire2.auth-instances");function PX(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new SP(i)}}const FX={provide:TP,deps:[[new s.FiY,MP]]},NX={provide:SP,useFactory:function OX(n,t){const e=(0,fn.JM)("auth",n,t);return e&&new SP(e)},deps:[[new s.FiY,MP],gm]};let LX=(()=>{class n{constructor(){(0,nu.KN)("angularfire",fn.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[NX,FX]}),n})();const BX=(0,fn.u3)(RX.n,!0),Fj="@firebase/database";let AP="";class HX{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,te.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,te.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class zX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,te.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Lj=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new HX(t)}}catch{}return new zX},Dm=Lj("localStorage"),kP=Lj("sessionStorage"),Sy=new Qs.Yd("@firebase/database"),Vj=function(){let n=1;return function(){return n++}}(),Bj=function(n){const t=(0,te.dS)(n),e=new te.gQ;e.update(t);const i=e.digest();return te.US.encodeByteArray(i)},Tw=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Tw.apply(null,i):t+="object"==typeof i?(0,te.Wl)(i):i,t+=" "}return t};let Em=null,Uj=!0;const Jr=function(...n){if(!0===Uj&&(Uj=!1,null===Em&&!0===kP.get("logging_enabled")&&function(n,t){(0,te.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Sy.logLevel=Qs.in.VERBOSE,Em=Sy.log.bind(Sy),t&&kP.set("logging_enabled",!0)):"function"==typeof n?Em=n:(Em=null,kP.remove("logging_enabled"))}(!0)),Em){const t=Tw.apply(null,n);Em(t)}},Mw=function(n){return function(...t){Jr(n,...t)}},RP=function(...n){const t="FIREBASE INTERNAL ERROR: "+Tw(...n);Sy.error(t)},Uc=function(...n){const t=`FIREBASE FATAL ERROR: ${Tw(...n)}`;throw Sy.error(t),new Error(t)},Mo=function(...n){const t="FIREBASE WARNING: "+Tw(...n);Sy.warn(t)},oS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},nf="[MIN_NAME]",ru="[MAX_NAME]",xm=function(n,t){if(n===t)return 0;if(n===nf||t===ru)return-1;if(t===nf||n===ru)return 1;{const e=$j(n),i=$j(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},GX=function(n,t){return n===t?0:n<t?-1:1},Aw=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,te.Wl)(t))},OP=function(n){if("object"!=typeof n||null===n)return(0,te.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,te.Wl)(t[i]),e+=":",e+=OP(n[t[i]]);return e+="}",e},zj=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function eo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const jj=function(n){(0,te.hu)(!oS(n),"Invalid JSON number");const i=1023;let r,o,c,u,p;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=u+i,c=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(o%2?1:0),o=Math.floor(o/2);_.push(r?1:0),_.reverse();const b=_.join("");let x="";for(p=0;p<64;p+=8){let M=parseInt(b.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),x+=M}return x.toLowerCase()},ZX=new RegExp("^-?(0*)\\d{1,10}$"),$j=function(n){if(ZX.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Ty=function(n){try{n()}catch(t){setTimeout(()=>{throw Mo("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},XX=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},kw=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class JX{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Mo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class eJ{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Jr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mo(t)}}let Rw=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Zj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Xj="websocket",Jj="long_polling";class FP{constructor(t,e,i,r,o=!1,c="",u=!1,p=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Dm.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Dm.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function e$(n,t,e){let i;if((0,te.hu)("string"==typeof t,"typeof type must == string"),(0,te.hu)("object"==typeof e,"typeof params must == object"),t===Xj)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Jj)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function tJ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return eo(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class nJ{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,te.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,te.p$)(this.counters_)}}const NP={},LP={};function VP(n){const t=n.toString();return NP[t]||(NP[t]=new nJ),NP[t]}class rJ{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ty(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class rf{constructor(t,e,i,r,o,c,u){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mw(t),this.stats_=VP(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),e$(e,Jj,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new rJ(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,te.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new BP((...o)=>{const[c,u,p,_,b]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=u,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Zj.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rf.forceAllow_=!0}static forceDisallow(){rf.forceDisallow_=!0}static isAvailable(){return!((0,te.Yr)()||!rf.forceAllow_&&(rf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,te.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,te.h$)(e),r=zj(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,te.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,te.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class BP{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,te.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Vj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=BP.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(u){Jr("frame writing exception"),u.stack&&Jr(u.stack),Jr(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Jr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,te.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Jr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let aS=null;typeof MozWebSocket<"u"?aS=MozWebSocket:typeof WebSocket<"u"&&(aS=WebSocket);let My=(()=>{class n{constructor(e,i,r,o,c,u,p){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mw(this.connId),this.stats_=VP(i),this.connURL=n.connectionURL_(i,u,p,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const u={v:"5"};return!(0,te.Yr)()&&typeof location<"u"&&location.hostname&&Zj.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),o&&(u.ac=o),c&&(u.p=c),e$(e,Xj,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dm.set("previous_websocket_failure",!0);try{let r;if((0,te.Yr)()){r={headers:{"User-Agent":`Firebase/5/${AP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,u=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new aS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==aS&&!n.forceDisallow_}static previouslyFailed(){return Dm.isInMemoryStorage||!0===Dm.get("previous_websocket_failure")}markConnectionHealthy(){Dm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,te.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,te.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,te.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=zj(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),a$=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[rf,My]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=My&&My.isAvailable();let r=i&&!My.previouslyFailed();if(e.webSocketOnly&&(i||Mo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[My];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class p${constructor(t,e,i,r,o,c,u,p,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=u,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mw("c:"+this.id+":"),this.transportManager_=new a$(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=kw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Aw("t",t),i=Aw("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Aw("t",t),i=Aw("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Aw("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?RP("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):RP("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Mo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),kw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class m${put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class g${constructor(t){this.allowedEvents_=t,this.listeners_={},(0,te.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,te.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class lS extends g${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,te.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new lS}getInitialEvent(t){return(0,te.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const _$=32,y$=768;class Fn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function kn(){return new Fn("")}function dn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function sf(n){return n.pieces_.length-n.pieceNum_}function Jn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Fn(n.pieces_,t)}function HP(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ow(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function v$(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Fn(t,0)}function Ai(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Fn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Fn(e,0)}function un(n){return n.pieceNum_>=n.pieces_.length}function rs(n,t){const e=dn(n),i=dn(t);if(null===e)return t;if(e===i)return rs(Jn(n),Jn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function zP(n,t){if(sf(n)!==sf(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Za(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(sf(n)>sf(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class SJ{constructor(t,e){this.errorPrefix_=e,this.parts_=Ow(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,te.ug)(this.parts_[i]);b$(this)}}function b$(n){if(n.byteLength_>y$)throw new Error(n.errorPrefix_+"has a key path longer than "+y$+" bytes ("+n.byteLength_+").");if(n.parts_.length>_$)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_$+") or object contains a cycle "+Im(n))}function Im(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class jP extends g${constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new jP}getInitialEvent(t){return(0,te.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Pw=1e3;let dS,Sm=(()=>{class n extends m${constructor(e,i,r,o,c,u,p,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=u,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=Mw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,te.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jP.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&lS.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_((0,te.Wl)(c)),(0,te.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new te.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const p=u.d;"ok"===u.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+c),this.listens.has(u)||this.listens.set(u,new Map),(0,te.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,te.hu)(!this.listens.get(u).has(c),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(u).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,o),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,te.r3)(e,"w")){const r=(0,te.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Mo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,te.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,te.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,u=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,te.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const u={p:i,d:r};void 0!==c&&(u.h=c),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,te.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):RP("Unrecognized action received from server: "+(0,te.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,te.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pw,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,we.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,u=e.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,o())};e.realtime_={close:b,sendRequest:function(B){(0,te.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(B)}};const M=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[B,H]=yield Promise.all([e.authTokenProvider_.getToken(M),e.appCheckTokenProvider_.getToken(M)]);p?Jr("getToken() completed but was canceled"):(Jr("getToken() completed. Creating connection."),e.authToken_=B&&B.accessToken,e.appCheckToken_=H&&H.token,_=new p$(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,K=>{Mo(K+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(B){e.log_("Failed to get token: "+B),p||(e.repoInfo_.nodeAdmin&&Mo(B),b())}}})()}interrupt(e){Jr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Jr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,te.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Pw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>OP(c)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Fn(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Jr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Jr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,te.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+AP.replace(/\./g,"-")]=1,(0,te.uI)()?e["framework.cordova"]=1:(0,te.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=lS.getInstance().currentlyOnline();return(0,te.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class pn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new pn(t,e)}}class cS{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new pn(nf,t),r=new pn(nf,e);return 0!==this.compare(i,r)}minPost(){return pn.MIN}}class D$ extends cS{static get __EMPTY_NODE(){return dS}static set __EMPTY_NODE(t){dS=t}compare(t,e){return xm(t.name,e.name)}isDefinedOn(t){throw(0,te.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return pn.MIN}maxPost(){return new pn(ru,dS)}makePost(t,e){return(0,te.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new pn(t,dS)}toString(){return".key"}}const Hc=new D$;class uS{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let GP,Bl=(()=>{class n{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??Ss.EMPTY_NODE,this.right=c??Ss.EMPTY_NODE}copy(e,i,r,o,c){return new n(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ss.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Ss.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ss{constructor(t,e=Ss.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ss(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Bl.BLACK,null,null))}remove(t){return new Ss(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Bl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new uS(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new uS(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new uS(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new uS(this.root_,null,this.comparator_,!0,t)}}function FJ(n,t){return xm(n.name,t.name)}function $P(n,t){return xm(n,t)}Ss.EMPTY_NODE=new class PJ{copy(t,e,i,r,o){return this}insert(t,e,i){return new Bl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const E$=function(n){return"number"==typeof n?"number:"+jj(n):"string:"+n},x$=function(n){if(n.isLeafNode()){const t=n.val();(0,te.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,te.r3)(t,".sv"),"Priority must be a string or number.")}else(0,te.hu)(n===GP||n.isEmpty(),"priority of unexpected type.");(0,te.hu)(n===GP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let I$,S$,T$,Ay=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,te.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),x$(this.priorityNode_)}static set __childrenNodeConstructor(e){I$=e}static get __childrenNodeConstructor(){return I$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return un(e)?this:".priority"===dn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=dn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,te.hu)(".priority"!==r||1===sf(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+E$(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?jj(this.value_):this.value_,this.lazyHash_=Bj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,te.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,te.hu)(o>=0,"Unknown leaf type: "+i),(0,te.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ci=new class BJ extends cS{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?xm(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return pn.MIN}maxPost(){return new pn(ru,new Ay("[PRIORITY-POST]",T$))}makePost(t,e){const i=S$(t);return new pn(e,new Ay("[PRIORITY-POST]",i))}toString(){return".priority"}},UJ=Math.log(2);class HJ{constructor(t){this.count=parseInt(Math.log(t+1)/UJ,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const hS=function(n,t,e,i){n.sort(t);const r=function(p,_){const b=_-p;let x,M;if(0===b)return null;if(1===b)return x=n[p],M=e?e(x):x,new Bl(M,x.node,Bl.BLACK,null,null);{const B=parseInt(b/2,10)+p,H=r(p,B),K=r(B+1,_);return x=n[B],M=e?e(x):x,new Bl(M,x.node,Bl.BLACK,H,K)}},u=function(p){let _=null,b=null,x=n.length;const M=function(H,K){const se=x-H,Ze=x;x-=H;const mt=r(se+1,Ze),yt=n[se],vt=e?e(yt):yt;B(new Bl(vt,yt.node,K,null,mt))},B=function(H){_?(_.left=H,_=H):(b=H,_=H)};for(let H=0;H<p.count;++H){const K=p.nextBitIsOne(),se=Math.pow(2,p.count-(H+1));K?M(se,Bl.BLACK):(M(se,Bl.BLACK),M(se,Bl.RED))}return b}(new HJ(n.length));return new Ss(i||t,u)};let WP;const ky={};class ou{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,te.hu)(ky&&ci,"ChildrenNode.ts has not been loaded"),WP=WP||new ou({".priority":ky},{".priority":ci}),WP}get(t){const e=(0,te.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ss?e:null}hasIndex(t){return(0,te.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,te.hu)(t!==Hc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(pn.Wrap);let u,c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();u=r?hS(i,t.getCompare()):ky;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const b=Object.assign({},this.indexes_);return b[p]=u,new ou(b,_)}addToIndexes(t,e){const i=(0,te.UI)(this.indexes_,(r,o)=>{const c=(0,te.DV)(this.indexSet_,o);if((0,te.hu)(c,"Missing index implementation for "+o),r===ky){if(c.isDefinedOn(t.node)){const u=[],p=e.getIterator(pn.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&u.push(_),_=p.getNext();return u.push(t),hS(u,c.getCompare())}return ky}{const u=e.get(t.name);let p=r;return u&&(p=p.remove(new pn(t.name,u))),p.insert(t,t.node)}});return new ou(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,te.UI)(this.indexes_,r=>{if(r===ky)return r;{const o=e.get(t.name);return o?r.remove(new pn(t.name,o)):r}});return new ou(i,this.indexSet_)}}let Fw,on=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&x$(this.priorityNode_),this.children_.isEmpty()&&(0,te.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fw||(Fw=new n(new Ss($P),null,ou.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fw}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Fw:i}}getChild(e){const i=dn(e);return null===i?this:this.getImmediateChild(i).getChild(Jn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,te.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new pn(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?Fw:this.priorityNode_;return new n(o,u,c)}}updateChild(e,i){const r=dn(e);if(null===r)return i;{(0,te.hu)(".priority"!==dn(e)||1===sf(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Jn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(ci,(u,p)=>{i[u]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):c=!1}),!e&&c&&o<2*r){const u=[];for(const p in i)u[p]=i[p];return u}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+E$(this.getPriority().val())+":"),this.forEachChild(ci,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":Bj(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new pn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new pn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new pn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,pn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,pn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Nw?-1:0}withIndex(e){if(e===Hc||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Hc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ci),o=i.getIterator(ci);let c=r.getNext(),u=o.getNext();for(;c&&u;){if(c.name!==u.name||!c.node.equals(u.node))return!1;c=r.getNext(),u=o.getNext()}return null===c&&null===u}return!1}return!1}}resolveIndex_(e){return e===Hc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Nw=new class zJ extends on{constructor(){super(new Ss($P),on.EMPTY_NODE,ou.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return on.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(pn,{MIN:{value:new pn(nf,on.EMPTY_NODE)},MAX:{value:new pn(ru,Nw)}}),D$.__EMPTY_NODE=on.EMPTY_NODE,Ay.__childrenNodeConstructor=on,function NJ(n){GP=n}(Nw),function VJ(n){T$=n}(Nw);const jJ=!0;function Wi(n,t=null){if(null===n)return on.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,te.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ay(n,Wi(t));if(n instanceof Array||!jJ){let e=on.EMPTY_NODE;return eo(n,(i,r)=>{if((0,te.r3)(n,i)&&"."!==i.substring(0,1)){const o=Wi(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Wi(t))}{const e=[];let i=!1;if(eo(n,(c,u)=>{if("."!==c.substring(0,1)){const p=Wi(u);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new pn(c,p)))}}),0===e.length)return on.EMPTY_NODE;const o=hS(e,FJ,c=>c.name,$P);if(i){const c=hS(e,ci.getCompare());return new on(o,Wi(t),new ou({".priority":c},{".priority":ci}))}return new on(o,Wi(t),ou.Default)}}!function LJ(n){S$=n}(Wi);class qP extends cS{constructor(t){super(),this.indexPath_=t,(0,te.hu)(!un(t)&&".priority"!==dn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?xm(t.name,e.name):o}makePost(t,e){const i=Wi(t),r=on.EMPTY_NODE.updateChild(this.indexPath_,i);return new pn(e,r)}maxPost(){const t=on.EMPTY_NODE.updateChild(this.indexPath_,Nw);return new pn(ru,t)}toString(){return Ow(this.indexPath_,0).join("/")}}const YP=new class $J extends cS{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?xm(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return pn.MIN}maxPost(){return pn.MAX}makePost(t,e){const i=Wi(t);return new pn(e,i)}toString(){return".value"}};function Vw(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class KP{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ci}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,te.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,te.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,te.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,te.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ru}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,te.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ci}copy(){const t=new KP;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function A$(n){const t={};if(n.isDefault())return t;let e;if(n.index_===ci?e="$priority":n.index_===YP?e="$value":n.index_===Hc?e="$key":((0,te.hu)(n.index_ instanceof qP,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,te.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,te.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,te.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,te.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,te.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function k$(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ci&&(t.i=n.index_.toString()),t}class pS extends m${constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Mw("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,te.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=pS.getListenId_(t,i),u={};this.listens_[c]=u;const p=A$(t._queryParams);this.restRequest_(o+".json",p,(_,b)=>{let x=b;if(404===_&&(x=null,_=null),null===_&&this.onDataUpdate_(o,x,!1,i),(0,te.DV)(this.listens_,c)===u){let M;M=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(M,null)}})}unlisten(t,e){const i=pS.getListenId_(t,e);delete this.listens_[i]}get(t){const e=A$(t._queryParams),i=t._path.toString(),r=new te.BH;return this.restRequest_(i+".json",e,(o,c)=>{let u=c;404===o&&(u=null,o=null),null===o?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,te.xO)(e);this.log_("Sending REST request for "+c);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+c+" received. status:",u.status,"response:",u.responseText);let p=null;if(u.status>=200&&u.status<300){try{p=(0,te.cI)(u.responseText)}catch{Mo("Failed to parse JSON response for "+c+": "+u.responseText)}i(null,p)}else 401!==u.status&&404!==u.status&&Mo("Got unsuccessful REST response for "+c+" Status: "+u.status),i(u.status);i=null}},u.open("GET",c,!0),u.send()})}}class XJ{constructor(){this.rootNode_=on.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function mS(){return{value:null,children:new Map}}function Oy(n,t,e){if(un(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=dn(t);n.children.has(i)||n.children.set(i,mS()),Oy(n.children.get(i),t=Jn(t),e)}}function eF(n,t,e){null!==n.value?e(t,n.value):function JJ(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{eF(r,new Fn(t.toString()+"/"+i),e)})}class eee{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&eo(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class iee{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new eee(t);const i=1e4+2e4*Math.random();kw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;eo(t,(r,o)=>{o>0&&(0,te.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),kw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ka=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ka||(Ka={})),Ka))();function iF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class gS{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ka.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(un(this.path)){if(null!=this.affectedTree.value)return(0,te.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Fn(t));return new gS(kn(),e,this.revert)}}return(0,te.hu)(dn(this.path)===t,"operationForChild called for unrelated child."),new gS(Jn(this.path),this.affectedTree,this.revert)}}class Tm{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ka.OVERWRITE}operationForChild(t){return un(this.path)?new Tm(this.source,kn(),this.snap.getImmediateChild(t)):new Tm(this.source,Jn(this.path),this.snap)}}class Py{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ka.MERGE}operationForChild(t){if(un(this.path)){const e=this.children.subtree(new Fn(t));return e.isEmpty()?null:e.value?new Tm(this.source,kn(),e.value):new Py(this.source,kn(),e)}return(0,te.hu)(dn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Py(this.source,Jn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class af{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(un(t))return this.isFullyInitialized()&&!this.filtered_;const e=dn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function Hw(n,t,e,i,r,o){const c=i.filter(u=>u.type===e);c.sort((u,p)=>function aee(n,t,e){if(null==t.childName||null==e.childName)throw(0,te.g5)("Should only compare child_ events.");const i=new pn(t.childName,t.snapshotNode),r=new pn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,u,p)),c.forEach(u=>{const p=function see(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,u,o);r.forEach(_=>{_.respondsTo(u.type)&&t.push(_.createEvent(p,n.query_))})})}function _S(n,t){return{eventCache:n,serverCache:t}}function zw(n,t,e,i){return _S(new af(t,e,i),n.serverCache)}function O$(n,t,e,i){return _S(n.eventCache,new af(t,e,i))}function yS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Mm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let rF;class di{constructor(t,e=(()=>(rF||(rF=new Ss(GX)),rF))()){this.value=t,this.children=e}static fromObject(t){let e=new di(null);return eo(t,(i,r)=>{e=e.set(new Fn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:kn(),value:this.value};if(un(t))return null;{const i=dn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Jn(t),e);return null!=o?{path:Ai(new Fn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(un(t))return this;{const e=dn(t),i=this.children.get(e);return null!==i?i.subtree(Jn(t)):new di(null)}}set(t,e){if(un(t))return new di(e,this.children);{const i=dn(t),o=(this.children.get(i)||new di(null)).set(Jn(t),e),c=this.children.insert(i,o);return new di(this.value,c)}}remove(t){if(un(t))return this.children.isEmpty()?new di(null):new di(null,this.children);{const e=dn(t),i=this.children.get(e);if(i){const r=i.remove(Jn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new di(null):new di(this.value,o)}return this}}get(t){if(un(t))return this.value;{const e=dn(t),i=this.children.get(e);return i?i.get(Jn(t)):null}}setTree(t,e){if(un(t))return e;{const i=dn(t),o=(this.children.get(i)||new di(null)).setTree(Jn(t),e);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new di(this.value,c)}}fold(t){return this.fold_(kn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ai(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,kn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(un(t))return null;{const o=dn(t),c=this.children.get(o);return c?c.findOnPath_(Jn(t),Ai(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,kn(),e)}foreachOnPath_(t,e,i){if(un(t))return this;{this.value&&i(e,this.value);const r=dn(t),o=this.children.get(r);return o?o.foreachOnPath_(Jn(t),Ai(e,r),i):new di(null)}}foreach(t){this.foreach_(kn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ai(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Ul{constructor(t){this.writeTree_=t}static empty(){return new Ul(new di(null))}}function jw(n,t,e){if(un(t))return new Ul(new di(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const c=rs(r,t);return o=o.updateChild(c,e),new Ul(n.writeTree_.set(r,o))}{const r=new di(e),o=n.writeTree_.setTree(t,r);return new Ul(o)}}}function oF(n,t,e){let i=n;return eo(e,(r,o)=>{i=jw(i,Ai(t,r),o)}),i}function P$(n,t){if(un(t))return Ul.empty();{const e=n.writeTree_.setTree(t,new di(null));return new Ul(e)}}function sF(n,t){return null!=Am(n,t)}function Am(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(rs(e.path,t)):null}function F$(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ci,(i,r)=>{t.push(new pn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new pn(i,r.value))}),t}function lf(n,t){if(un(t))return n;{const e=Am(n,t);return new Ul(null!=e?new di(e):n.writeTree_.subtree(t))}}function aF(n){return n.writeTree_.isEmpty()}function Fy(n,t){return N$(kn(),n.writeTree_,t)}function N$(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,te.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=N$(Ai(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ai(n,".priority"),i)),e}}function vS(n,t){return H$(t,n)}function fee(n,t){if(n.snap)return Za(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Za(Ai(n.path,e),t))return!0;return!1}function mee(n){return n.visible}function L$(n,t,e){let i=Ul.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let u;if(o.snap)Za(e,c)?(u=rs(e,c),i=jw(i,u,o.snap)):Za(c,e)&&(u=rs(c,e),i=jw(i,kn(),o.snap.getChild(u)));else{if(!o.children)throw(0,te.g5)("WriteRecord should have .snap or .children");if(Za(e,c))u=rs(e,c),i=oF(i,u,o.children);else if(Za(c,e))if(u=rs(c,e),un(u))i=oF(i,kn(),o.children);else{const p=(0,te.DV)(o.children,dn(u));if(p){const _=p.getChild(Jn(u));i=jw(i,kn(),_)}}}}}return i}function V$(n,t,e,i,r){if(i||r){const o=lf(n.visibleWrites,t);return!r&&aF(o)?e:r||null!=e||sF(o,kn())?Fy(L$(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Za(_.path,t)||Za(t,_.path))},t),e||on.EMPTY_NODE):null}{const o=Am(n.visibleWrites,t);if(null!=o)return o;{const c=lf(n.visibleWrites,t);return aF(c)?e:null!=e||sF(c,kn())?Fy(c,e||on.EMPTY_NODE):null}}}function bS(n,t,e,i){return V$(n.writeTree,n.treePath,t,e,i)}function lF(n,t){return function gee(n,t,e){let i=on.EMPTY_NODE;const r=Am(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ci,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=lf(n.visibleWrites,t);return e.forEachChild(ci,(c,u)=>{const p=Fy(lf(o,new Fn(c)),u);i=i.updateImmediateChild(c,p)}),F$(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return F$(lf(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function B$(n,t,e,i){return function _ee(n,t,e,i,r){(0,te.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ai(t,e);if(sF(n.visibleWrites,o))return null;{const c=lf(n.visibleWrites,o);return aF(c)?r.getChild(e):Fy(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function wS(n,t){return function vee(n,t){return Am(n.visibleWrites,t)}(n.writeTree,Ai(n.treePath,t))}function cF(n,t,e){return function yee(n,t,e,i){const r=Ai(t,e),o=Am(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Fy(lf(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function U$(n,t){return H$(Ai(n.treePath,t),n.writeTree)}function H$(n,t){return{treePath:n,writeTree:t}}class Dee{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,te.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,te.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,Vw(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,function Lw(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,function Ry(n,t){return{type:"child_added",snapshotNode:t,childName:n}}(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,te.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Vw(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const z$=new class Eee{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class dF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new af(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mm(this.viewCache_),o=function Cee(n,t,e,i,r,o){return function bee(n,t,e,i,r,o,c){let u;const p=lf(n.visibleWrites,t),_=Am(p,kn());if(null!=_)u=_;else{if(null==e)return[];u=Fy(p,e)}if(u=u.withIndex(c),u.isEmpty()||u.isLeafNode())return[];{const b=[],x=c.getCompare(),M=o?u.getReverseIteratorFrom(i,c):u.getIteratorFrom(i,c);let B=M.getNext();for(;B&&b.length<r;)0!==x(B,i)&&b.push(B),B=M.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function j$(n,t,e,i,r,o){const c=t.eventCache;if(null!=wS(i,e))return t;{let u,p;if(un(e))if((0,te.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=Mm(t),x=lF(i,_ instanceof on?_:on.EMPTY_NODE);u=n.filter.updateFullNode(t.eventCache.getNode(),x,o)}else{const _=bS(i,Mm(t));u=n.filter.updateFullNode(t.eventCache.getNode(),_,o)}else{const _=dn(e);if(".priority"===_){(0,te.hu)(1===sf(e),"Can't have a priority with additional path components");const b=c.getNode();p=t.serverCache.getNode();const x=B$(i,e,b,p);u=null!=x?n.filter.updatePriority(b,x):c.getNode()}else{const b=Jn(e);let x;if(c.isCompleteForChild(_)){p=t.serverCache.getNode();const M=B$(i,e,c.getNode(),p);x=null!=M?c.getNode().getImmediateChild(_).updateChild(b,M):c.getNode().getImmediateChild(_)}else x=cF(i,_,t.serverCache);u=null!=x?n.filter.updateChild(c.getNode(),_,x,b,r,o):c.getNode()}}return zw(t,u,c.isFullyInitialized()||un(e),n.filter.filtersNodes())}}function CS(n,t,e,i,r,o,c,u){const p=t.serverCache;let _;const b=c?n.filter:n.filter.getIndexedFilter();if(un(e))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const B=p.getNode().updateChild(e,i);_=b.updateFullNode(p.getNode(),B,null)}else{const B=dn(e);if(!p.isCompleteForPath(e)&&sf(e)>1)return t;const H=Jn(e),se=p.getNode().getImmediateChild(B).updateChild(H,i);_=".priority"===B?b.updatePriority(p.getNode(),se):b.updateChild(p.getNode(),B,se,H,z$,null)}const x=O$(t,_,p.isFullyInitialized()||un(e),b.filtersNodes());return j$(n,x,e,r,new dF(r,x,o),u)}function uF(n,t,e,i,r,o,c){const u=t.eventCache;let p,_;const b=new dF(r,t,o);if(un(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=zw(t,_,!0,n.filter.filtersNodes());else{const x=dn(e);if(".priority"===x)_=n.filter.updatePriority(t.eventCache.getNode(),i),p=zw(t,_,u.isFullyInitialized(),u.isFiltered());else{const M=Jn(e),B=u.getNode().getImmediateChild(x);let H;if(un(M))H=i;else{const K=b.getCompleteChild(x);H=null!=K?".priority"===HP(M)&&K.getChild(v$(M)).isEmpty()?K:K.updateChild(M,i):on.EMPTY_NODE}p=B.equals(H)?t:zw(t,n.filter.updateChild(u.getNode(),x,H,M,b,c),u.isFullyInitialized(),n.filter.filtersNodes())}}return p}function $$(n,t){return n.eventCache.isCompleteForChild(t)}function G$(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function hF(n,t,e,i,r,o,c,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=un(e)?i:new di(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((x,M)=>{if(b.hasChild(x)){const H=G$(0,t.serverCache.getNode().getImmediateChild(x),M);p=CS(n,p,new Fn(x),H,r,o,c,u)}}),_.children.inorderTraversal((x,M)=>{const B=!t.serverCache.isCompleteForChild(x)&&null===M.value;if(!b.hasChild(x)&&!B){const K=G$(0,t.serverCache.getNode().getImmediateChild(x),M);p=CS(n,p,new Fn(x),K,r,o,c,u)}}),p}function Nee(n,t){const e=Mm(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!un(t)&&!e.getImmediateChild(dn(t)).isEmpty())?e.getChild(t):null}function Y$(n,t,e,i){t.type===Ka.MERGE&&null!==t.source.queryId&&((0,te.hu)(Mm(n.viewCache_),"We should always have a full cache before handling merges"),(0,te.hu)(yS(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function See(n,t,e,i,r){const o=new Dee;let c,u;if(e.type===Ka.OVERWRITE){const _=e;_.source.fromUser?c=uF(n,t,_.path,_.snap,i,r,o):((0,te.hu)(_.source.fromServer,"Unknown source."),u=_.source.tagged||t.serverCache.isFiltered()&&!un(_.path),c=CS(n,t,_.path,_.snap,i,r,u,o))}else if(e.type===Ka.MERGE){const _=e;_.source.fromUser?c=function Mee(n,t,e,i,r,o,c){let u=t;return i.foreach((p,_)=>{const b=Ai(e,p);$$(t,dn(b))&&(u=uF(n,u,b,_,r,o,c))}),i.foreach((p,_)=>{const b=Ai(e,p);$$(t,dn(b))||(u=uF(n,u,b,_,r,o,c))}),u}(n,t,_.path,_.children,i,r,o):((0,te.hu)(_.source.fromServer,"Unknown source."),u=_.source.tagged||t.serverCache.isFiltered(),c=hF(n,t,_.path,_.children,i,r,u,o))}else if(e.type===Ka.ACK_USER_WRITE){const _=e;c=_.revert?function Ree(n,t,e,i,r,o){let c;if(null!=wS(i,e))return t;{const u=new dF(i,t,r),p=t.eventCache.getNode();let _;if(un(e)||".priority"===dn(e)){let b;if(t.serverCache.isFullyInitialized())b=bS(i,Mm(t));else{const x=t.serverCache.getNode();(0,te.hu)(x instanceof on,"serverChildren would be complete if leaf node"),b=lF(i,x)}_=n.filter.updateFullNode(p,b,o)}else{const b=dn(e);let x=cF(i,b,t.serverCache);null==x&&t.serverCache.isCompleteForChild(b)&&(x=p.getImmediateChild(b)),_=null!=x?n.filter.updateChild(p,b,x,Jn(e),u,o):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,on.EMPTY_NODE,Jn(e),u,o):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=bS(i,Mm(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=wS(i,kn()),zw(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,o):function Aee(n,t,e,i,r,o,c){if(null!=wS(r,e))return t;const u=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(un(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return CS(n,t,e,p.getNode().getChild(e),r,o,u,c);if(un(e)){let _=new di(null);return p.getNode().forEachChild(Hc,(b,x)=>{_=_.set(new Fn(b),x)}),hF(n,t,e,_,r,o,u,c)}return t}{let _=new di(null);return i.foreach((b,x)=>{const M=Ai(e,b);p.isCompleteForPath(M)&&(_=_.set(b,p.getNode().getChild(M)))}),hF(n,t,e,_,r,o,u,c)}}(n,t,_.path,_.affectedTree,i,r,o)}else{if(e.type!==Ka.LISTEN_COMPLETE)throw(0,te.g5)("Unknown operation type: "+e.type);c=function kee(n,t,e,i,r){const o=t.serverCache;return j$(n,O$(t,o.getNode(),o.isFullyInitialized()||un(e),o.isFiltered()),e,i,z$,r)}(n,t,e.path,i,o)}const p=o.getChanges();return function Tee(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=yS(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(function M$(n){return{type:"value",snapshotNode:n}}(yS(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function Iee(n,t){(0,te.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,te.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,te.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function Z$(n,t,e,i){return function oee(n,t,e,i){const r=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function GJ(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),Hw(n,r,"child_removed",t,i,e),Hw(n,r,"child_added",t,i,e),Hw(n,r,"child_moved",o,i,e),Hw(n,r,"child_changed",t,i,e),Hw(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let DS,xS;function fF(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,te.hu)(null!=o,"SyncTree gave us an op for an invalid query."),Y$(o,t,e,i)}{let o=[];for(const c of n.views.values())o=o.concat(Y$(c,t,e,i));return o}}function cf(n,t){let e=null;for(const i of n.views.values())e=e||Nee(i,t);return e}class t6{constructor(t){this.listenProvider_=t,this.syncPointTree_=new di(null),this.pendingWriteTree_=function wee(){return{visibleWrites:Ul.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pF(n,t,e,i,r){return function cee(n,t,e,i,r){(0,te.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=jw(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Ny(n,new Tm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function uf(n,t,e=!1){const i=function uee(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function hee(n,t){const e=n.allWrites.findIndex(u=>u.writeId===t);(0,te.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const u=n.allWrites[c];u.visible&&(c>=e&&fee(u,i.path)?r=!1:Za(i.path,u.path)&&(o=!0)),c--}return!!r&&(o?(function pee(n){n.visibleWrites=L$(n.allWrites,mee,kn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=P$(n.visibleWrites,i.path):eo(i.children,p=>{n.visibleWrites=P$(n.visibleWrites,Ai(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let o=new di(null);return null!=i.snap?o=o.set(kn(),!0):eo(i.children,c=>{o=o.set(new Fn(c),!0)}),Ny(n,new gS(i.path,o,e))}return[]}function $w(n,t,e){return Ny(n,new Tm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function SS(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,u)=>{const _=cf(u,rs(c,t));if(_)return _});return V$(r,t,o,e,!0)}function Ny(n,t){return r6(t,n.syncPointTree_,null,vS(n.pendingWriteTree_,kn()))}function r6(n,t,e,i){if(un(n.path))return o6(n,t,e,i);{const r=t.get(kn());null==e&&null!=r&&(e=cf(r,kn()));let o=[];const c=dn(n.path),u=n.operationForChild(c),p=t.children.get(c);if(p&&u){const _=e?e.getImmediateChild(c):null,b=U$(i,c);o=o.concat(r6(u,p,_,b))}return r&&(o=o.concat(fF(r,n,i,e))),o}}function o6(n,t,e,i){const r=t.get(kn());null==e&&null!=r&&(e=cf(r,kn()));let o=[];return t.children.inorderTraversal((c,u)=>{const p=e?e.getImmediateChild(c):null,_=U$(i,c),b=n.operationForChild(c);b&&(o=o.concat(o6(b,u,p,_)))}),r&&(o=o.concat(fF(r,n,i,e))),o}function gF(n,t){return n.tagToQueryMap.get(t)}function _F(n){const t=n.indexOf("$");return(0,te.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Fn(n.substr(0,t))}}function yF(n,t,e){const i=n.syncPointTree_.get(t);return(0,te.hu)(i,"Missing sync point for query tag that we're tracking"),fF(i,e,vS(n.pendingWriteTree_,t),null)}class vF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new vF(e)}node(){return this.node_}}class bF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ai(this.path_,t);return new bF(this.syncTree_,e)}node(){return SS(this.syncTree_,this.path_)}}const ite=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},a6=function(n,t,e){return n&&"object"==typeof n?((0,te.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?rte(n[".sv"],t,e):"object"==typeof n[".sv"]?ote(n[".sv"],t):void(0,te.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},rte=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,te.hu)(!1,"Unexpected server value: "+n)},ote=function(n,t,e){n.hasOwnProperty("increment")||(0,te.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,te.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,te.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},l6=function(n,t,e,i){return CF(t,new bF(e,n),i)},wF=function(n,t,e){return CF(n,new vF(t),e)};function CF(n,t,e){const i=n.getPriority().val(),r=a6(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,u=a6(c.getValue(),t,e);return u!==c.getValue()||r!==c.getPriority().val()?new Ay(u,Wi(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new Ay(r))),c.forEachChild(ci,(u,p)=>{const _=CF(p,t.getImmediateChild(u),e);_!==p&&(o=o.updateImmediateChild(u,_))}),o}}class DF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function MS(n,t){let e=t instanceof Fn?t:new Fn(t),i=n,r=dn(e);for(;null!==r;){const o=(0,te.DV)(i.node.children,r)||{children:{},childCount:0};i=new DF(r,i,o),e=Jn(e),r=dn(e)}return i}function km(n){return n.node.value}function EF(n,t){n.node.value=t,xF(n)}function c6(n){return n.node.childCount>0}function AS(n,t){eo(n.node.children,(e,i)=>{t(new DF(e,n,i))})}function d6(n,t,e,i){e&&!i&&t(n),AS(n,r=>{d6(r,t,!0,i)}),e&&i&&t(n)}function qw(n){return new Fn(null===n.parent?n.name:qw(n.parent)+"/"+n.name)}function xF(n){null!==n.parent&&function lte(n,t,e){const i=function ste(n){return void 0===km(n)&&!c6(n)}(e),r=(0,te.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,xF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,xF(n))}(n.parent,n.name,n)}const cte=/[\[\].#$\/\u0000-\u001F\u007F]/,dte=/[\[\].#$\u0000-\u001F\u007F]/,IF=10485760,kS=function(n){return"string"==typeof n&&0!==n.length&&!cte.test(n)},Zw=function(n,t,e){const i=e instanceof Fn?new SJ(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Im(i));if("function"==typeof t)throw new Error(n+"contains a function "+Im(i)+" with contents = "+t.toString());if(oS(t))throw new Error(n+"contains "+t.toString()+" "+Im(i));if("string"==typeof t&&t.length>IF/3&&(0,te.ug)(t)>IF)throw new Error(n+"contains a string greater than "+IF+" utf8 bytes "+Im(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(eo(t,(c,u)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!kS(c)))throw new Error(n+" contains an invalid key ("+c+") "+Im(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function TJ(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,te.ug)(t),b$(n)})(i,c),Zw(n,u,i),function MJ(n){const t=n.parts_.pop();n.byteLength_-=(0,te.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Im(i)+" in addition to actual children.")}},f6=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!kS(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!dte.test(n)}(n)}(e))throw new Error((0,te.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class pte{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oa(n,t,e){(function RS(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!zP(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)})(n,e),function m6(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(mte(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>Za(i,t)||Za(t,i))}function mte(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Em&&Jr("event: "+e.toString()),Ty(i)}}}const g6="repo_interrupt",gte=25;class _te{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pte,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mS(),this.transactionQueueTree_=new DF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _6(n){const e=n.infoData_.getNode(new Fn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Qw(n){return ite({timestamp:_6(n)})}function y6(n,t,e,i,r){n.dataUpdateCount++;const o=new Fn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,te.UI)(e,_=>Wi(_));c=function Qee(n,t,e,i){const r=gF(n,i);if(r){const o=_F(r),c=o.path,u=o.queryId,p=rs(c,t),_=di.fromObject(e);return yF(n,c,new Py(iF(u),p,_))}return[]}(n.serverSyncTree_,o,p,r)}else{const p=Wi(e);c=function n6(n,t,e,i){const r=gF(n,i);if(null!=r){const o=_F(r),c=o.path,u=o.queryId,p=rs(c,t);return yF(n,c,new Tm(iF(u),p,e))}return[]}(n.serverSyncTree_,o,p,r)}else if(i){const p=(0,te.UI)(e,_=>Wi(_));c=function Yee(n,t,e){const i=di.fromObject(e);return Ny(n,new Py({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,p)}else{const p=Wi(e);c=$w(n.serverSyncTree_,o,p)}let u=o;c.length>0&&(u=Vy(n,o)),oa(n.eventQueue_,u,c)}function v6(n,t){MF(n,"connected",t),!1===t&&function Cte(n){Ly(n,"onDisconnectEvents");const t=Qw(n),e=mS();eF(n.onDisconnect_,kn(),(r,o)=>{const c=l6(r,o,n.serverSyncTree_,t);Oy(e,r,c)});let i=[];eF(e,kn(),(r,o)=>{i=i.concat($w(n.serverSyncTree_,r,o));const c=function OF(n,t){const e=qw(C6(n,t)),i=MS(n.transactionQueueTree_,t);return function ate(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{PF(n,r)}),PF(n,i),d6(i,r=>{PF(n,r)}),e}(n,r);Vy(n,c)}),n.onDisconnect_=mS(),oa(n.eventQueue_,kn(),i)}(n)}function MF(n,t,e){const i=new Fn("/.info/"+t),r=Wi(e);n.infoData_.updateSnapshot(i,r);const o=$w(n.infoSyncTree_,i,r);oa(n.eventQueue_,i,o)}function OS(n){return n.nextWriteId_++}function Ly(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Jr(e,...t)}function RF(n,t,e){return SS(n.serverSyncTree_,t,e)||on.EMPTY_NODE}function PS(n,t=n.transactionQueueTree_){if(t||FS(n,t),km(t)){const e=D6(n,t);(0,te.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Mte(n,t,e){const i=e.map(_=>_.currentWriteId),r=RF(n,t,i);let o=r;const c=r.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,te.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const x=rs(t,b.path);o=o.updateChild(x,b.currentOutputSnapshotRaw)}const u=o.val(!0),p=t;n.server_.put(p.toString(),u,_=>{Ly(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const x=[];for(let M=0;M<e.length;M++)e[M].status=2,b=b.concat(uf(n.serverSyncTree_,e[M].currentWriteId)),e[M].onComplete&&x.push(()=>e[M].onComplete(null,!0,e[M].currentOutputSnapshotResolved)),e[M].unwatcher();FS(n,MS(n.transactionQueueTree_,t)),PS(n,n.transactionQueueTree_),oa(n.eventQueue_,t,b);for(let M=0;M<x.length;M++)Ty(x[M])}else{if("datastale"===_)for(let x=0;x<e.length;x++)e[x].status=3===e[x].status?4:0;else{Mo("transaction at "+p.toString()+" failed: "+_);for(let x=0;x<e.length;x++)e[x].status=4,e[x].abortReason=_}Vy(n,t)}},c)}(n,qw(t),e)}else c6(t)&&AS(t,e=>{PS(n,e)})}function Vy(n,t){const e=C6(n,t),i=qw(e);return function Ate(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const p=t[u],_=rs(e,p.path);let x,b=!1;if((0,te.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,x=p.abortReason,r=r.concat(uf(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=gte)b=!0,x="maxretry",r=r.concat(uf(n.serverSyncTree_,p.currentWriteId,!0));else{const M=RF(n,p.path,c);p.currentInputSnapshot=M;const B=t[u].update(M.val());if(void 0!==B){Zw("transaction failed: Data returned ",B,p.path);let H=Wi(B);"object"==typeof B&&null!=B&&(0,te.r3)(B,".priority")||(H=H.updatePriority(M.getPriority()));const se=p.currentWriteId,Ze=Qw(n),mt=wF(H,M,Ze);p.currentOutputSnapshotRaw=H,p.currentOutputSnapshotResolved=mt,p.currentWriteId=OS(n),c.splice(c.indexOf(se),1),r=r.concat(pF(n.serverSyncTree_,p.path,mt,p.currentWriteId,p.applyLocally)),r=r.concat(uf(n.serverSyncTree_,se,!0))}else b=!0,x="nodata",r=r.concat(uf(n.serverSyncTree_,p.currentWriteId,!0))}oa(n.eventQueue_,e,r),r=[],b&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&i.push("nodata"===x?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(x),!1,null)))}FS(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)Ty(i[u]);PS(n,n.transactionQueueTree_)}(n,D6(n,e),i),i}function C6(n,t){let e,i=n.transactionQueueTree_;for(e=dn(t);null!==e&&void 0===km(i);)i=MS(i,e),e=dn(t=Jn(t));return i}function D6(n,t){const e=[];return E6(n,t,e),e.sort((i,r)=>i.order-r.order),e}function E6(n,t,e){const i=km(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);AS(t,r=>{E6(n,r,e)})}function FS(n,t){const e=km(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,EF(t,e.length>0?e:void 0)}AS(t,i=>{FS(n,i)})}function PF(n,t){const e=km(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,te.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,te.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(uf(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?EF(t,void 0):e.length=o+1,oa(n.eventQueue_,qw(t),r);for(let c=0;c<i.length;c++)Ty(i[c])}}const FF=function(n,t){const e=Ote(n),i=e.namespace;return"firebase.com"===e.domain&&Uc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Uc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new FP(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Fn(e.pathString)}},Ote=function(n){let t="",e="",i="",r="",o="",c=!0,u="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(u=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),t=n.substring(0,Math.min(b,x)),b<x&&(r=function kte(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(b,x)));const M=function Rte(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Mo(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,x)));_=t.indexOf(":"),_>=0?(c="https"===u||"wss"===u,p=parseInt(t.substring(_+1),10)):_=t.length;const B=t.slice(0,_);if("localhost"===B.toLowerCase())e="localhost";else if(B.split(".").length<=2)e=B;else{const H=t.indexOf(".");i=t.substring(0,H).toLowerCase(),e=t.substring(H+1),o=i}"ns"in M&&(o=M.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:u,pathString:r,namespace:o}};class sa{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return un(this._path)?null:HP(this._path)}get ref(){return new Hl(this._repo,this._path)}get _queryIdentifier(){const t=k$(this._queryParams),e=OP(t);return"{}"===e?"default":e}get _queryObject(){return k$(this._queryParams)}isEqual(t){if(!((t=(0,te.m9)(t))instanceof sa))return!1;const e=this._repo===t._repo,i=zP(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function xJ(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class Hl extends sa{constructor(t,e){super(t,e,new KP,!1)}get parent(){const t=v$(this._path);return null===t?null:new Hl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}(function Bee(n){(0,te.hu)(!DS,"__referenceConstructor has already been defined"),DS=n})(Hl),function $ee(n){(0,te.hu)(!xS,"__referenceConstructor has already been defined"),xS=n}(Hl);const qte="FIREBASE_DATABASE_EMULATOR_HOST",LF={};let k6=!1;class Jte{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function yte(n,t,e){if(n.stats_=VP(n.repoInfo_),n.forceRestClient_||XX())n.server_=new pS(n.repoInfo_,(i,r,o,c)=>{y6(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>v6(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,te.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Sm(n.repoInfo_,t,(i,r,o,c)=>{y6(n,i,r,o,c)},i=>{v6(n,i)},i=>{!function vte(n,t){eo(t,(e,i)=>{MF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function iJ(n,t){const e=n.toString();return LP[e]||(LP[e]=t()),LP[e]}(n.repoInfo_,()=>new iee(n.stats_,n.server_)),n.infoData_=new XJ,n.infoSyncTree_=new t6({startListening:(i,r,o,c)=>{let u=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(u=$w(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),u},stopListening:()=>{}}),MF(n,"connected",!1),n.serverSyncTree_=new t6({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(u,p)=>{const _=c(u,p);oa(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hl(this._repo,kn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Kte(n,t){const e=LF[t];(!e||e[n.key]!==n)&&Uc(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function w6(n){n.persistentConnection_&&n.persistentConnection_.interrupt(g6)}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Uc("Cannot call "+t+" on a deleted database.")}}function ene(n=(0,Wr.getApp)(),t){const e=(0,Wr._getProvider)(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=(0,te.P0)("database");i&&function tne(n,t,e,i={}){(n=(0,te.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Uc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Uc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Rw(Rw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,te.Sg)(i.mockUserToken,n.app.options.projectId);o=new Rw(c)}!function Yte(n,t,e,i){n.repoInfo_=new FP(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(e,...i)}return e}Sm.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Sm.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function nne(n){(function UX(n){AP=n})(Wr.SDK_VERSION),(0,Wr._registerComponent)(new Mp.wA("database",(t,{instanceIdentifier:e})=>function Zte(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Uc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=FF(o,r),u=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env[qte]),_?(p=!0,o=`http://${_}?ns=${u.namespace}`,c=FF(o,r),u=c.repoInfo):p=!c.repoInfo.secure;const b=r&&p?new Rw(Rw.OWNER):new eJ(n.name,n.options,t);f6("Invalid Firebase Database URL",c),un(c.path)||Uc("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function Qte(n,t,e,i){let r=LF[t.name];r||(r={},LF[t.name]=r);let o=r[n.toURLString()];return o&&Uc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new _te(n,k6,e,i),r[n.toURLString()]=o,o}(u,n,b,new JX(n.name,e));return new Jte(x,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Wr.registerVersion)(Fj,"0.14.4",n),(0,Wr.registerVersion)(Fj,"0.14.4","esm2017")}();class VF{constructor(t){return t}}const O6="database",BF=new s.OlP("angularfire2.database-instances");function ane(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new VF(i)}}const lne={provide:class one{constructor(){return(0,fn.vb)(O6)}},deps:[[new s.FiY,BF]]},cne={provide:VF,useFactory:function sne(n,t){const e=(0,fn.JM)(O6,n,t);return e&&new VF(e)},deps:[[new s.FiY,BF],gm]};let dne=(()=>{class n{constructor(){(0,nu.KN)("angularfire",fn.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[cne,lne]}),n})();const hne=(0,fn.u3)(ene,!0);class UF{constructor(t){return t}}const P6="firestore",HF=new s.OlP("angularfire2.firestore-instances");function mne(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new UF(i)}}const gne={provide:class fne{constructor(){return(0,fn.vb)(P6)}},deps:[[new s.FiY,HF]]},_ne={provide:UF,useFactory:function pne(n,t){const e=(0,fn.JM)(P6,n,t);return e&&new UF(e)},deps:[[new s.FiY,HF],gm]};let yne=(()=>{class n{constructor(){(0,nu.KN)("angularfire",fn.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_ne,gne]}),n})();const bne=(0,fn.u3)(V5,!0);let Fne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[bs]}),n})(),Xne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,Fne,xn]}),n})();const rie={provide:new s.OlP("mat-select-scroll-strategy"),deps:[To],useFactory:function iie(n){return()=>n.scrollStrategies.reposition()}};let oie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[rie],imports:[mr,Ud,Ob,xn,wc,RI,Ob,xn]}),n})(),JF=(()=>{class n{constructor(){this.changes=new pt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const die={provide:JF,deps:[[new s.FiY,new s.tp0,JF]],useFactory:function cie(n){return n||new JF}};let uie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[die],imports:[mr,uO,oie,$3]}),n})();const YS=new s.OlP("mat-chips-default-options");let zie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Tb,{provide:YS,useValue:{separatorKeyCodes:[13]}}],imports:[xn,mr,_h,xn]}),n})();class Gy{}Gy.\u0275fac=function(t){return new(t||Gy)},Gy.\u0275mod=s.oAB({type:Gy,bootstrap:[Dw]}),Gy.\u0275inj=s.cJS({providers:[{provide:hE,useValue:"de"}],imports:[Ma,xy,kX,v9,T9,p7,uO,$3,ME,$Z,RI,PK,VA,lZ,function qq(n,...t){return{ngModule:Wq,providers:[{provide:z1,useFactory:Gq(n),multi:!0,deps:[s.R0b,s.zs3,fn.HU,...t]}]}}(()=>Yq(Oj_firebaseConfig)),function VX(n,...t){return{ngModule:LX,providers:[{provide:MP,useFactory:PX(n),multi:!0,deps:[s.R0b,s.zs3,fn.HU,uI,[new s.FiY,_y],...t]}]}}(()=>BX()),function une(n,...t){return{ngModule:dne,providers:[{provide:BF,useFactory:ane(n),multi:!0,deps:[s.R0b,s.zs3,fn.HU,uI,[new s.FiY,TP],[new s.FiY,_y],...t]}]}}(()=>hne()),function vne(n,...t){return{ngModule:yne,providers:[{provide:HF,useFactory:mne(n),multi:!0,deps:[s.R0b,s.zs3,fn.HU,uI,[new s.FiY,TP],[new s.FiY,_y],...t]}]}}(()=>bne()),Ks.hO.initializeApp(Oj_firebaseConfig),Y8,YZ,Xne,uie,zie,R7,Z7]}),Zm().bootstrapModule(Gy).catch(n=>console.error(n))},9751:(bt,Ie,U)=>{U.d(Ie,{y:()=>he});var s=U(930),$=U(727),F=U(8822),oe=U(9635),le=U(2416),J=U(576),ve=U(2806);let he=(()=>{class ee{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const qe=new ee;return qe.source=this,qe.operator=Ae,qe}subscribe(Ae,qe,dt){const _e=function Z(ee){return ee&&ee instanceof s.Lv||function Y(ee){return ee&&(0,J.m)(ee.next)&&(0,J.m)(ee.error)&&(0,J.m)(ee.complete)}(ee)&&(0,$.Nn)(ee)}(Ae)?Ae:new s.Hp(Ae,qe,dt);return(0,ve.x)(()=>{const{operator:Se,source:xe}=this;_e.add(Se?Se.call(_e,xe):xe?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(qe){Ae.error(qe)}}forEach(Ae,qe){return new(qe=me(qe))((dt,_e)=>{const Se=new s.Hp({next:xe=>{try{Ae(xe)}catch(Re){_e(Re),Se.unsubscribe()}},error:_e,complete:dt});this.subscribe(Se)})}_subscribe(Ae){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Ae)}[F.L](){return this}pipe(...Ae){return(0,oe.U)(Ae)(this)}toPromise(Ae){return new(Ae=me(Ae))((qe,dt)=>{let _e;this.subscribe(Se=>_e=Se,Se=>dt(Se),()=>qe(_e))})}}return ee.create=ze=>new ee(ze),ee})();function me(ee){var ze;return null!==(ze=ee??le.v.Promise)&&void 0!==ze?ze:Promise}},7579:(bt,Ie,U)=>{U.d(Ie,{x:()=>ve});var s=U(9751),$=U(727);const oe=(0,U(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=U(8737),J=U(2806);let ve=(()=>{class me extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const ee=new he(this,this);return ee.operator=Z,ee}_throwIfClosed(){if(this.closed)throw new oe}next(Z){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(Z)}})}error(Z){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:ee}=this;for(;ee.length;)ee.shift().error(Z)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:ee,isStopped:ze,observers:Ae}=this;return ee||ze?$.Lc:(this.currentObservers=null,Ae.push(Z),new $.w0(()=>{this.currentObservers=null,(0,le.P)(Ae,Z)}))}_checkFinalizedStatuses(Z){const{hasError:ee,thrownError:ze,isStopped:Ae}=this;ee?Z.error(ze):Ae&&Z.complete()}asObservable(){const Z=new s.y;return Z.source=this,Z}}return me.create=(Y,Z)=>new he(Y,Z),me})();class he extends ve{constructor(Y,Z){super(),this.destination=Y,this.source=Z}next(Y){var Z,ee;null===(ee=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===ee||ee.call(Z,Y)}error(Y){var Z,ee;null===(ee=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===ee||ee.call(Z,Y)}complete(){var Y,Z;null===(Z=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===Z||Z.call(Y)}_subscribe(Y){var Z,ee;return null!==(ee=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(Y))&&void 0!==ee?ee:$.Lc}}},930:(bt,Ie,U)=>{U.d(Ie,{Hp:()=>dt,Lv:()=>ee});var s=U(576),$=U(727),F=U(2416),oe=U(7849),le=U(5032);const J=me("C",void 0,void 0);function me(ke,Pe,Te){return{kind:ke,value:Pe,error:Te}}var Y=U(3410),Z=U(2806);class ee extends $.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,$.Nn)(Pe)&&Pe.add(this)):this.destination=Re}static create(Pe,Te,Ge){return new dt(Pe,Te,Ge)}next(Pe){this.isStopped?xe(function he(ke){return me("N",ke,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?xe(function ve(ke){return me("E",void 0,ke)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?xe(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Ae(ke,Pe){return ze.call(ke,Pe)}class qe{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Pe)}catch(Ge){_e(Ge)}}error(Pe){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Pe)}catch(Ge){_e(Ge)}else _e(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Te){_e(Te)}}}class dt extends ee{constructor(Pe,Te,Ge){let ne;if(super(),(0,s.m)(Pe)||!Pe)ne={next:Pe??void 0,error:Te??void 0,complete:Ge??void 0};else{let de;this&&F.v.useDeprecatedNextContext?(de=Object.create(Pe),de.unsubscribe=()=>this.unsubscribe(),ne={next:Pe.next&&Ae(Pe.next,de),error:Pe.error&&Ae(Pe.error,de),complete:Pe.complete&&Ae(Pe.complete,de)}):ne=Pe}this.destination=new qe(ne)}}function _e(ke){F.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(ke):(0,oe.h)(ke)}function xe(ke,Pe){const{onStoppedNotification:Te}=F.v;Te&&Y.z.setTimeout(()=>Te(ke,Pe))}const Re={closed:!0,next:le.Z,error:function Se(ke){throw ke},complete:le.Z}},727:(bt,Ie,U)=>{U.d(Ie,{Lc:()=>J,w0:()=>le,Nn:()=>ve});var s=U(576);const F=(0,U(3888).d)(me=>function(Z){me(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((ee,ze)=>`${ze+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var oe=U(8737);class le{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Ae of Z)Ae.remove(this);else Z.remove(this);const{initialTeardown:ee}=this;if((0,s.m)(ee))try{ee()}catch(Ae){Y=Ae instanceof F?Ae.errors:[Ae]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Ae of ze)try{he(Ae)}catch(qe){Y=Y??[],qe instanceof F?Y=[...Y,...qe.errors]:Y.push(qe)}}if(Y)throw new F(Y)}}add(Y){var Z;if(Y&&Y!==this)if(this.closed)he(Y);else{if(Y instanceof le){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(Y)}}_hasParent(Y){const{_parentage:Z}=this;return Z===Y||Array.isArray(Z)&&Z.includes(Y)}_addParent(Y){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(Y),Z):Z?[Z,Y]:Y}_removeParent(Y){const{_parentage:Z}=this;Z===Y?this._parentage=null:Array.isArray(Z)&&(0,oe.P)(Z,Y)}remove(Y){const{_finalizers:Z}=this;Z&&(0,oe.P)(Z,Y),Y instanceof le&&Y._removeParent(this)}}le.EMPTY=(()=>{const me=new le;return me.closed=!0,me})();const J=le.EMPTY;function ve(me){return me instanceof le||me&&"closed"in me&&(0,s.m)(me.remove)&&(0,s.m)(me.add)&&(0,s.m)(me.unsubscribe)}function he(me){(0,s.m)(me)?me():me.unsubscribe()}},2416:(bt,Ie,U)=>{U.d(Ie,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(bt,Ie,U)=>{U.d(Ie,{E:()=>$});const $=new(U(9751).y)(le=>le.complete())},8996:(bt,Ie,U)=>{U.d(Ie,{D:()=>Pe});var s=U(8421),$=U(5363),F=U(9468),J=U(9751),he=U(2202),me=U(576),Y=U(9672);function ee(Te,Ge){if(!Te)throw new Error("Iterable cannot be null");return new J.y(ne=>{(0,Y.f)(ne,Ge,()=>{const de=Te[Symbol.asyncIterator]();(0,Y.f)(ne,Ge,()=>{de.next().then(be=>{be.done?ne.complete():ne.next(be.value)})},0,!0)})})}var ze=U(3670),Ae=U(8239),qe=U(1144),dt=U(6495),_e=U(2206),Se=U(4532),xe=U(3260);function Pe(Te,Ge){return Ge?function ke(Te,Ge){if(null!=Te){if((0,ze.c)(Te))return function oe(Te,Ge){return(0,s.Xf)(Te).pipe((0,F.R)(Ge),(0,$.Q)(Ge))}(Te,Ge);if((0,qe.z)(Te))return function ve(Te,Ge){return new J.y(ne=>{let de=0;return Ge.schedule(function(){de===Te.length?ne.complete():(ne.next(Te[de++]),ne.closed||this.schedule())})})}(Te,Ge);if((0,Ae.t)(Te))return function le(Te,Ge){return(0,s.Xf)(Te).pipe((0,F.R)(Ge),(0,$.Q)(Ge))}(Te,Ge);if((0,_e.D)(Te))return ee(Te,Ge);if((0,dt.T)(Te))return function Z(Te,Ge){return new J.y(ne=>{let de;return(0,Y.f)(ne,Ge,()=>{de=Te[he.h](),(0,Y.f)(ne,Ge,()=>{let be,Ye;try{({value:be,done:Ye}=de.next())}catch($e){return void ne.error($e)}Ye?ne.complete():ne.next(be)},0,!0)}),()=>(0,me.m)(de?.return)&&de.return()})}(Te,Ge);if((0,xe.L)(Te))return function Re(Te,Ge){return ee((0,xe.Q)(Te),Ge)}(Te,Ge)}throw(0,Se.z)(Te)}(Te,Ge):(0,s.Xf)(Te)}},8421:(bt,Ie,U)=>{U.d(Ie,{Xf:()=>ze});var s=U(655),$=U(1144),F=U(8239),oe=U(9751),le=U(3670),J=U(2206),ve=U(4532),he=U(6495),me=U(3260),Y=U(576),Z=U(7849),ee=U(8822);function ze(ke){if(ke instanceof oe.y)return ke;if(null!=ke){if((0,le.c)(ke))return function Ae(ke){return new oe.y(Pe=>{const Te=ke[ee.L]();if((0,Y.m)(Te.subscribe))return Te.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,$.z)(ke))return function qe(ke){return new oe.y(Pe=>{for(let Te=0;Te<ke.length&&!Pe.closed;Te++)Pe.next(ke[Te]);Pe.complete()})}(ke);if((0,F.t)(ke))return function dt(ke){return new oe.y(Pe=>{ke.then(Te=>{Pe.closed||(Pe.next(Te),Pe.complete())},Te=>Pe.error(Te)).then(null,Z.h)})}(ke);if((0,J.D)(ke))return Se(ke);if((0,he.T)(ke))return function _e(ke){return new oe.y(Pe=>{for(const Te of ke)if(Pe.next(Te),Pe.closed)return;Pe.complete()})}(ke);if((0,me.L)(ke))return function xe(ke){return Se((0,me.Q)(ke))}(ke)}throw(0,ve.z)(ke)}function Se(ke){return new oe.y(Pe=>{(function Re(ke,Pe){var Te,Ge,ne,de;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Te=(0,s.KL)(ke);!(Ge=yield Te.next()).done;)if(Pe.next(Ge.value),Pe.closed)return}catch(be){ne={error:be}}finally{try{Ge&&!Ge.done&&(de=Te.return)&&(yield de.call(Te))}finally{if(ne)throw ne.error}}Pe.complete()})})(ke,Pe).catch(Te=>Pe.error(Te))})}},6451:(bt,Ie,U)=>{U.d(Ie,{T:()=>J});var s=U(8189),$=U(8421),F=U(515),oe=U(3269),le=U(8996);function J(...ve){const he=(0,oe.yG)(ve),me=(0,oe._6)(ve,1/0),Y=ve;return Y.length?1===Y.length?(0,$.Xf)(Y[0]):(0,s.J)(me)((0,le.D)(Y,he)):F.E}},5403:(bt,Ie,U)=>{U.d(Ie,{x:()=>$});var s=U(930);function $(oe,le,J,ve,he){return new F(oe,le,J,ve,he)}class F extends s.Lv{constructor(le,J,ve,he,me,Y){super(le),this.onFinalize=me,this.shouldUnsubscribe=Y,this._next=J?function(Z){try{J(Z)}catch(ee){le.error(ee)}}:super._next,this._error=he?function(Z){try{he(Z)}catch(ee){le.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(Z){le.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(bt,Ie,U)=>{U.d(Ie,{U:()=>F});var s=U(4482),$=U(5403);function F(oe,le){return(0,s.e)((J,ve)=>{let he=0;J.subscribe((0,$.x)(ve,me=>{ve.next(oe.call(le,me,he++))}))})}},8189:(bt,Ie,U)=>{U.d(Ie,{J:()=>F});var s=U(5577),$=U(4671);function F(oe=1/0){return(0,s.z)($.y,oe)}},5577:(bt,Ie,U)=>{U.d(Ie,{z:()=>he});var s=U(4004),$=U(8421),F=U(4482),oe=U(9672),le=U(5403),ve=U(576);function he(me,Y,Z=1/0){return(0,ve.m)(Y)?he((ee,ze)=>(0,s.U)((Ae,qe)=>Y(ee,Ae,ze,qe))((0,$.Xf)(me(ee,ze))),Z):("number"==typeof Y&&(Z=Y),(0,F.e)((ee,ze)=>function J(me,Y,Z,ee,ze,Ae,qe,dt){const _e=[];let Se=0,xe=0,Re=!1;const ke=()=>{Re&&!_e.length&&!Se&&Y.complete()},Pe=Ge=>Se<ee?Te(Ge):_e.push(Ge),Te=Ge=>{Ae&&Y.next(Ge),Se++;let ne=!1;(0,$.Xf)(Z(Ge,xe++)).subscribe((0,le.x)(Y,de=>{ze?.(de),Ae?Pe(de):Y.next(de)},()=>{ne=!0},void 0,()=>{if(ne)try{for(Se--;_e.length&&Se<ee;){const de=_e.shift();qe?(0,oe.f)(Y,qe,()=>Te(de)):Te(de)}ke()}catch(de){Y.error(de)}}))};return me.subscribe((0,le.x)(Y,Pe,()=>{Re=!0,ke()})),()=>{dt?.()}}(ee,ze,me,Z)))}},5363:(bt,Ie,U)=>{U.d(Ie,{Q:()=>oe});var s=U(9672),$=U(4482),F=U(5403);function oe(le,J=0){return(0,$.e)((ve,he)=>{ve.subscribe((0,F.x)(he,me=>(0,s.f)(he,le,()=>he.next(me),J),()=>(0,s.f)(he,le,()=>he.complete(),J),me=>(0,s.f)(he,le,()=>he.error(me),J)))})}},3099:(bt,Ie,U)=>{U.d(Ie,{B:()=>le});var s=U(8421),$=U(7579),F=U(930),oe=U(4482);function le(ve={}){const{connector:he=(()=>new $.x),resetOnError:me=!0,resetOnComplete:Y=!0,resetOnRefCountZero:Z=!0}=ve;return ee=>{let ze,Ae,qe,dt=0,_e=!1,Se=!1;const xe=()=>{Ae?.unsubscribe(),Ae=void 0},Re=()=>{xe(),ze=qe=void 0,_e=Se=!1},ke=()=>{const Pe=ze;Re(),Pe?.unsubscribe()};return(0,oe.e)((Pe,Te)=>{dt++,!Se&&!_e&&xe();const Ge=qe=qe??he();Te.add(()=>{dt--,0===dt&&!Se&&!_e&&(Ae=J(ke,Z))}),Ge.subscribe(Te),!ze&&dt>0&&(ze=new F.Hp({next:ne=>Ge.next(ne),error:ne=>{Se=!0,xe(),Ae=J(Re,me,ne),Ge.error(ne)},complete:()=>{_e=!0,xe(),Ae=J(Re,Y),Ge.complete()}}),(0,s.Xf)(Pe).subscribe(ze))})(ee)}}function J(ve,he,...me){if(!0===he)return void ve();if(!1===he)return;const Y=new F.Hp({next:()=>{Y.unsubscribe(),ve()}});return he(...me).subscribe(Y)}},9468:(bt,Ie,U)=>{U.d(Ie,{R:()=>$});var s=U(4482);function $(F,oe=0){return(0,s.e)((le,J)=>{J.add(F.schedule(()=>le.subscribe(J),oe))})}},8505:(bt,Ie,U)=>{U.d(Ie,{b:()=>le});var s=U(576),$=U(4482),F=U(5403),oe=U(4671);function le(J,ve,he){const me=(0,s.m)(J)||ve||he?{next:J,error:ve,complete:he}:J;return me?(0,$.e)((Y,Z)=>{var ee;null===(ee=me.subscribe)||void 0===ee||ee.call(me);let ze=!0;Y.subscribe((0,F.x)(Z,Ae=>{var qe;null===(qe=me.next)||void 0===qe||qe.call(me,Ae),Z.next(Ae)},()=>{var Ae;ze=!1,null===(Ae=me.complete)||void 0===Ae||Ae.call(me),Z.complete()},Ae=>{var qe;ze=!1,null===(qe=me.error)||void 0===qe||qe.call(me,Ae),Z.error(Ae)},()=>{var Ae,qe;ze&&(null===(Ae=me.unsubscribe)||void 0===Ae||Ae.call(me)),null===(qe=me.finalize)||void 0===qe||qe.call(me)}))}):oe.y}},4408:(bt,Ie,U)=>{U.d(Ie,{o:()=>le});var s=U(727);class $ extends s.w0{constructor(ve,he){super()}schedule(ve,he=0){return this}}const F={setInterval(J,ve,...he){const{delegate:me}=F;return me?.setInterval?me.setInterval(J,ve,...he):setInterval(J,ve,...he)},clearInterval(J){const{delegate:ve}=F;return(ve?.clearInterval||clearInterval)(J)},delegate:void 0};var oe=U(8737);class le extends ${constructor(ve,he){super(ve,he),this.scheduler=ve,this.work=he,this.pending=!1}schedule(ve,he=0){var me;if(this.closed)return this;this.state=ve;const Y=this.id,Z=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(Z,Y,he)),this.pending=!0,this.delay=he,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(Z,this.id,he),this}requestAsyncId(ve,he,me=0){return F.setInterval(ve.flush.bind(ve,this),me)}recycleAsyncId(ve,he,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return he;null!=he&&F.clearInterval(he)}execute(ve,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ve,he);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,he){let Y,me=!1;try{this.work(ve)}catch(Z){me=!0,Y=Z||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:ve,scheduler:he}=this,{actions:me}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(me,this),null!=ve&&(this.id=this.recycleAsyncId(he,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(bt,Ie,U)=>{U.d(Ie,{v:()=>F});var s=U(6063);class ${constructor(le,J=$.now){this.schedulerActionCtor=le,this.now=J}schedule(le,J=0,ve){return new this.schedulerActionCtor(this,le).schedule(ve,J)}}$.now=s.l.now;class F extends ${constructor(le,J=$.now){super(le,J),this.actions=[],this._active=!1}flush(le){const{actions:J}=this;if(this._active)return void J.push(le);let ve;this._active=!0;do{if(ve=le.execute(le.state,le.delay))break}while(le=J.shift());if(this._active=!1,ve){for(;le=J.shift();)le.unsubscribe();throw ve}}}},4986:(bt,Ie,U)=>{U.d(Ie,{P:()=>oe,z:()=>F});var s=U(4408);const F=new(U(7565).v)(s.o),oe=F},6063:(bt,Ie,U)=>{U.d(Ie,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(bt,Ie,U)=>{U.d(Ie,{z:()=>s});const s={setTimeout($,F,...oe){const{delegate:le}=s;return le?.setTimeout?le.setTimeout($,F,...oe):setTimeout($,F,...oe)},clearTimeout($){const{delegate:F}=s;return(F?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(bt,Ie,U)=>{U.d(Ie,{h:()=>$});const $=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bt,Ie,U)=>{U.d(Ie,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(bt,Ie,U)=>{U.d(Ie,{_6:()=>J,jO:()=>oe,yG:()=>le});var s=U(576),$=U(3532);function F(ve){return ve[ve.length-1]}function oe(ve){return(0,s.m)(F(ve))?ve.pop():void 0}function le(ve){return(0,$.K)(F(ve))?ve.pop():void 0}function J(ve,he){return"number"==typeof F(ve)?ve.pop():he}},8737:(bt,Ie,U)=>{function s($,F){if($){const oe=$.indexOf(F);0<=oe&&$.splice(oe,1)}}U.d(Ie,{P:()=>s})},3888:(bt,Ie,U)=>{function s($){const oe=$(le=>{Error.call(le),le.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}U.d(Ie,{d:()=>s})},2806:(bt,Ie,U)=>{U.d(Ie,{O:()=>oe,x:()=>F});var s=U(2416);let $=null;function F(le){if(s.v.useDeprecatedSynchronousErrorHandling){const J=!$;if(J&&($={errorThrown:!1,error:null}),le(),J){const{errorThrown:ve,error:he}=$;if($=null,ve)throw he}}else le()}function oe(le){s.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=le)}},9672:(bt,Ie,U)=>{function s($,F,oe,le=0,J=!1){const ve=F.schedule(function(){oe(),J?$.add(this.schedule(null,le)):this.unsubscribe()},le);if($.add(ve),!J)return ve}U.d(Ie,{f:()=>s})},4671:(bt,Ie,U)=>{function s($){return $}U.d(Ie,{y:()=>s})},1144:(bt,Ie,U)=>{U.d(Ie,{z:()=>s});const s=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(bt,Ie,U)=>{U.d(Ie,{D:()=>$});var s=U(576);function $(F){return Symbol.asyncIterator&&(0,s.m)(F?.[Symbol.asyncIterator])}},576:(bt,Ie,U)=>{function s($){return"function"==typeof $}U.d(Ie,{m:()=>s})},3670:(bt,Ie,U)=>{U.d(Ie,{c:()=>F});var s=U(8822),$=U(576);function F(oe){return(0,$.m)(oe[s.L])}},6495:(bt,Ie,U)=>{U.d(Ie,{T:()=>F});var s=U(2202),$=U(576);function F(oe){return(0,$.m)(oe?.[s.h])}},8239:(bt,Ie,U)=>{U.d(Ie,{t:()=>$});var s=U(576);function $(F){return(0,s.m)(F?.then)}},3260:(bt,Ie,U)=>{U.d(Ie,{L:()=>oe,Q:()=>F});var s=U(655),$=U(576);function F(le){return(0,s.FC)(this,arguments,function*(){const ve=le.getReader();try{for(;;){const{value:he,done:me}=yield(0,s.qq)(ve.read());if(me)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(he)}}finally{ve.releaseLock()}})}function oe(le){return(0,$.m)(le?.getReader)}},3532:(bt,Ie,U)=>{U.d(Ie,{K:()=>$});var s=U(576);function $(F){return F&&(0,s.m)(F.schedule)}},4482:(bt,Ie,U)=>{U.d(Ie,{A:()=>$,e:()=>F});var s=U(576);function $(oe){return(0,s.m)(oe?.lift)}function F(oe){return le=>{if($(le))return le.lift(function(J){try{return oe(J,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(bt,Ie,U)=>{function s(){}U.d(Ie,{Z:()=>s})},9635:(bt,Ie,U)=>{U.d(Ie,{U:()=>F,z:()=>$});var s=U(4671);function $(...oe){return F(oe)}function F(oe){return 0===oe.length?s.y:1===oe.length?oe[0]:function(J){return oe.reduce((ve,he)=>he(ve),J)}}},7849:(bt,Ie,U)=>{U.d(Ie,{h:()=>F});var s=U(2416),$=U(3410);function F(oe){$.z.setTimeout(()=>{const{onUnhandledError:le}=s.v;if(!le)throw oe;le(oe)})}},4532:(bt,Ie,U)=>{function s($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Ie,{z:()=>s})},655:(bt,Ie,U)=>{function oe(ce,pe){var Ce={};for(var Oe in ce)Object.prototype.hasOwnProperty.call(ce,Oe)&&pe.indexOf(Oe)<0&&(Ce[Oe]=ce[Oe]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(Oe=Object.getOwnPropertySymbols(ce);Ve<Oe.length;Ve++)pe.indexOf(Oe[Ve])<0&&Object.prototype.propertyIsEnumerable.call(ce,Oe[Ve])&&(Ce[Oe[Ve]]=ce[Oe[Ve]])}return Ce}function ee(ce,pe,Ce,Oe){return new(Ce||(Ce=Promise))(function(Be,it){function Xe(Dt){try{xt(Oe.next(Dt))}catch(at){it(at)}}function mn(Dt){try{xt(Oe.throw(Dt))}catch(at){it(at)}}function xt(Dt){Dt.done?Be(Dt.value):function Ve(Be){return Be instanceof Ce?Be:new Ce(function(it){it(Be)})}(Dt.value).then(Xe,mn)}xt((Oe=Oe.apply(ce,pe||[])).next())})}function ke(ce){return this instanceof ke?(this.v=ce,this):new ke(ce)}function Pe(ce,pe,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Oe=Ce.apply(ce,pe||[]),Be=[];return Ve={},it("next"),it("throw"),it("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function it(cn){Oe[cn]&&(Ve[cn]=function(Gn){return new Promise(function(bn,gn){Be.push([cn,Gn,bn,gn])>1||Xe(cn,Gn)})})}function Xe(cn,Gn){try{!function mn(cn){cn.value instanceof ke?Promise.resolve(cn.value.v).then(xt,Dt):at(Be[0][2],cn)}(Oe[cn](Gn))}catch(bn){at(Be[0][3],bn)}}function xt(cn){Xe("next",cn)}function Dt(cn){Xe("throw",cn)}function at(cn,Gn){cn(Gn),Be.shift(),Be.length&&Xe(Be[0][0],Be[0][1])}}function Ge(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,pe=ce[Symbol.asyncIterator];return pe?pe.call(ce):(ce=function dt(ce){var pe="function"==typeof Symbol&&Symbol.iterator,Ce=pe&&ce[pe],Oe=0;if(Ce)return Ce.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Oe>=ce.length&&(ce=void 0),{value:ce&&ce[Oe++],done:!ce}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),Ce={},Oe("next"),Oe("throw"),Oe("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Oe(Be){Ce[Be]=ce[Be]&&function(it){return new Promise(function(Xe,mn){!function Ve(Be,it,Xe,mn){Promise.resolve(mn).then(function(xt){Be({value:xt,done:Xe})},it)}(Xe,mn,(it=ce[Be](it)).done,it.value)})}}}U.d(Ie,{FC:()=>Pe,KL:()=>Ge,_T:()=>oe,mG:()=>ee,qq:()=>ke})},4650:(bt,Ie,U)=>{U.d(Ie,{$8M:()=>cc,$WT:()=>ri,$Z:()=>Uv,AFp:()=>zb,AaK:()=>he,AsE:()=>RD,BQk:()=>Gg,CHM:()=>bf,CRH:()=>a_,CZH:()=>Yd,CqO:()=>yD,D6c:()=>L_,DdM:()=>Dr,EJc:()=>LE,EiD:()=>vC,EpF:()=>cp,F$t:()=>bD,F4k:()=>sb,FYo:()=>Zf,FiY:()=>Hs,Gf:()=>s_,GfV:()=>xv,GkF:()=>ob,Gpc:()=>Z,Hsn:()=>wD,Ikx:()=>FD,JOm:()=>jo,JVY:()=>lv,JZr:()=>dt,KtG:()=>mu,L6k:()=>cv,LAX:()=>zu,LFG:()=>je,Lbi:()=>ok,Lck:()=>TL,MAs:()=>gD,MMx:()=>lE,NdJ:()=>Wg,O4$:()=>od,OlP:()=>wn,Oqu:()=>kD,P3R:()=>Wo,PXZ:()=>Xb,Q6J:()=>ib,QGY:()=>Bd,QbO:()=>FE,Qsj:()=>Ig,R0b:()=>Ko,RDi:()=>rT,Rgc:()=>r_,SBq:()=>qu,Sil:()=>sk,Suo:()=>qA,TTD:()=>pa,TgZ:()=>rb,Udp:()=>TD,VKq:()=>Sc,W1O:()=>CE,WFA:()=>kl,X6Q:()=>XE,XFs:()=>lt,Xpm:()=>la,Xts:()=>mv,Y36:()=>Jf,YKP:()=>xb,YNc:()=>jg,Yjl:()=>da,Yz7:()=>at,Z0I:()=>gn,ZZ4:()=>Nl,_Bn:()=>Jg,_UZ:()=>_D,_Vd:()=>Yf,_c5:()=>Ll,_uU:()=>UM,aQg:()=>a0,c2e:()=>$b,cJS:()=>Gn,cg1:()=>LD,d8E:()=>ND,dDg:()=>qE,dqk:()=>Bt,eBb:()=>xl,eFA:()=>YE,eJc:()=>c_,ekj:()=>MD,eoX:()=>Kb,f3M:()=>rt,g9A:()=>p_,h0i:()=>mh,hGG:()=>N_,hij:()=>hb,iGM:()=>WA,ifc:()=>ye,ip1:()=>OE,jDz:()=>AA,kL8:()=>tA,kcU:()=>Bi,lG2:()=>zl,lqb:()=>kd,lri:()=>Zb,mCW:()=>Sd,n5z:()=>Su,n_E:()=>Ab,oAB:()=>ca,oxw:()=>lb,pB0:()=>gC,q3G:()=>Ji,q4F:()=>kC,qLn:()=>Yu,qOj:()=>Qv,qZA:()=>$g,qzn:()=>Hu,rWj:()=>WE,sBO:()=>Eh,s_b:()=>Rb,soG:()=>m_,tBr:()=>uc,tb:()=>PE,tp0:()=>I,uIk:()=>hD,vHH:()=>_e,vpe:()=>Pl,wAp:()=>Ft,xp6:()=>HC,ynx:()=>lp,z2F:()=>Vp,z3N:()=>El,zSh:()=>xC,zs3:()=>Od});var s=U(7579),$=U(727),F=U(9751),oe=U(6451),le=U(3099);function J(a){for(let l in a)if(a[l]===J)return l;throw Error("Could not find renamed property on target object.")}function ve(a,l){for(const d in l)l.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=l[d])}function he(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(he).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const d=l.indexOf("\n");return-1===d?l:l.substring(0,d)}function me(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Y=J({__forward_ref__:J});function Z(a){return a.__forward_ref__=Z,a.toString=function(){return he(this())},a}function ee(a){return ze(a)?a():a}function ze(a){return"function"==typeof a&&a.hasOwnProperty(Y)&&a.__forward_ref__===Z}function Ae(a){return a&&!!a.\u0275providers}const dt="https://g.co/ng/security#xss";class _e extends Error{constructor(l,d){super(Se(l,d)),this.code=l}}function Se(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}function xe(a){return"string"==typeof a?a:null==a?"":String(a)}function Ge(a,l){throw new _e(-201,!1)}function it(a,l){null==a&&function Xe(a,l,d,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${d} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function at(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Gn(a){return{providers:a.providers||[],imports:a.imports||[]}}function bn(a){return Di(a,Mr)||Di(a,Mn)}function gn(a){return null!==bn(a)}function Di(a,l){return a.hasOwnProperty(l)?a[l]:null}function ei(a){return a&&(a.hasOwnProperty(Vr)||a.hasOwnProperty(ki))?a[Vr]:null}const Mr=J({\u0275prov:J}),Vr=J({\u0275inj:J}),Mn=J({ngInjectableDef:J}),ki=J({ngInjectorDef:J});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Yi;function ui(a){const l=Yi;return Yi=a,l}function ti(a,l,d){const h=bn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&lt.Optional?null:void 0!==l?l:void Ge(he(a))}const Bt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wn={},hi="__NG_DI_FLAG__",Ri="ngTempTokenPath",Ei="ngTokenPath",io=/\n/gm,Zt="\u0275",Br="__source";let Qt;function hr(a){const l=Qt;return Qt=a,l}function ni(a,l=lt.Default){if(void 0===Qt)throw new _e(-203,!1);return null===Qt?ti(a,void 0,l):Qt.get(a,l&lt.Optional?null:void 0,l)}function je(a,l=lt.Default){return(function Zi(){return Yi}()||ni)(ee(a),l)}function rt(a,l=lt.Default){return je(a,It(l))}function It(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Rt(a){const l=[];for(let d=0;d<a.length;d++){const h=ee(a[d]);if(Array.isArray(h)){if(0===h.length)throw new _e(900,!1);let f,m=lt.Default;for(let v=0;v<h.length;v++){const C=h[v],E=ii(C);"number"==typeof E?-1===E?f=C.token:m|=E:f=C}l.push(je(f,m))}else l.push(je(h))}return l}function sn(a,l){return a[hi]=l,a.prototype[hi]=l,a}function ii(a){return a[hi]}function N(a){return{toString:a}.toString()}var V=(()=>((V=V||{})[V.OnPush=0]="OnPush",V[V.Default=1]="Default",V))(),ye=(()=>{return(a=ye||(ye={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",ye;var a})();const Je={},Ke=[],At=J({\u0275cmp:J}),Jt=J({\u0275dir:J}),jt=J({\u0275pipe:J}),zn=J({\u0275mod:J}),kt=J({\u0275fac:J}),Oi=J({__NG_ELEMENT_ID__:J});let Gc=0;function la(a){return N(()=>{const d=!0===a.standalone,h={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Ke,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||ye.Emulated,id:"c"+Gc++,styles:a.styles||Ke,_:null,setInput:null,schemas:a.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},m=a.dependencies,v=a.features;return f.inputs=Yc(a.inputs,h),f.outputs=Yc(a.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(qc).filter(Pi):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ki).filter(Pi):null,f})}function qc(a){return hn(a)||Nn(a)}function Pi(a){return null!==a}function ca(a){return N(()=>({type:a.type,bootstrap:a.bootstrap||Ke,declarations:a.declarations||Ke,imports:a.imports||Ke,exports:a.exports||Ke,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Yc(a,l){if(null==a)return Je;const d={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),d[f]=h,l&&(l[f]=m)}return d}const zl=la;function da(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function hn(a){return a[At]||null}function Nn(a){return a[Jt]||null}function Ki(a){return a[jt]||null}function ri(a){const l=hn(a)||Nn(a)||Ki(a);return null!==l&&l.standalone}function fr(a,l){const d=a[zn]||null;if(!d&&!0===l)throw new Error(`Type ${he(a)} does not have '\u0275mod' property.`);return d}const Ar=0,st=1,Ot=2,jn=3,Qi=4,bo=5,xi=6,ro=7,On=8,jl=9,oi=10,en=11,Xa=12,ua=13,ss=14,Ur=15,Fi=16,$l=17,ko=18,pr=19,kr=20,Ja=21,Pn=22,Zc=1,Gl=2,Wl=7,Ro=8,Hr=9,Ni=10;function Rr(a){return Array.isArray(a)&&"object"==typeof a[Zc]}function Or(a){return Array.isArray(a)&&!0===a[Zc]}function Oo(a){return 0!=(4&a.flags)}function el(a){return a.componentOffset>-1}function Kc(a){return 1==(1&a.flags)}function Li(a){return null!==a.template}function Nm(a){return 0!=(256&a[Ot])}function Ms(a,l){return a.hasOwnProperty(kt)?a[kt]:null}class fa{constructor(l,d,h){this.previousValue=l,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function pa(){return ma}function ma(a){return a.type.prototype.ngOnChanges&&(a.setInput=As),Kl}function Kl(){const a=Ql(this),l=a?.current;if(l){const d=a.previous;if(d===Je)a.previous=l;else for(let h in l)d[h]=l[h];a.current=null,this.ngOnChanges(l)}}function As(a,l,d,h){const f=this.declaredInputs[d],m=Ql(a)||function Xc(a,l){return a[ga]=l}(a,{previous:Je,current:null}),v=m.current||(m.current={}),C=m.previous,E=C[f];v[f]=new fa(E&&E.currentValue,l,C===Je),a[h]=l}pa.ngInherit=!0;const ga="__ngSimpleChanges__";function Ql(a){return a[ga]||null}const gr=function(a,l,d){},si="svg";function qn(a){for(;Array.isArray(a);)a=a[Ar];return a}function as(a,l){return qn(l[a])}function Vi(a,l){return qn(l[a.index])}function Xl(a,l){return a.data[l]}function Ii(a,l){const d=l[a];return Rr(d)?d:d[Ar]}function Rs(a){return 64==(64&a[Ot])}function oo(a,l){return null==l?null:a[l]}function ed(a){a[ko]=0}function Os(a,l){a[bo]+=l;let d=a,h=a[jn];for(;null!==h&&(1===l&&1===d[bo]||-1===l&&0===d[bo]);)h[bo]+=l,d=h,h=h[jn]}const $t={lFrame:zm(null),bindingsEnabled:!0};function pu(){return $t.bindingsEnabled}function ge(){return $t.lFrame.lView}function ln(){return $t.lFrame.tView}function bf(a){return $t.lFrame.contextLView=a,a[On]}function mu(a){return $t.lFrame.contextLView=null,a}function Si(){let a=nd();for(;null!==a&&64===a.type;)a=a.parent;return a}function nd(){return $t.lFrame.currentTNode}function so(a,l){const d=$t.lFrame;d.currentTNode=a,d.isParent=l}function va(){return $t.lFrame.isParent}function gu(){$t.lFrame.isParent=!1}function Xi(){const a=$t.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function No(){return $t.lFrame.bindingIndex++}function ls(a){const l=$t.lFrame,d=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,d}function id(a,l){const d=$t.lFrame;d.bindingIndex=d.bindingRootIndex=a,cs(l)}function cs(a){$t.lFrame.currentDirectiveIndex=a}function ll(a){const l=$t.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Df(){return $t.lFrame.currentQueryIndex}function rd(a){$t.lFrame.currentQueryIndex=a}function yu(a){const l=a[st];return 2===l.type?l.declTNode:1===l.type?a[xi]:null}function Ef(a,l,d){if(d&lt.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||d&lt.Host||(f=yu(m),null===f||(m=m[Ur],10&f.type))););if(null===f)return!1;l=f,a=m}const h=$t.lFrame=Hm();return h.currentTNode=l,h.lView=a,!0}function tc(a){const l=Hm(),d=a[st];$t.lFrame=l,l.currentTNode=d.firstChild,l.lView=a,l.tView=d,l.contextLView=a,l.bindingIndex=d.bindingStartIndex,l.inI18n=!1}function Hm(){const a=$t.lFrame,l=null===a?null:a.child;return null===l?zm(a):l}function zm(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function jm(){const a=$t.lFrame;return $t.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const vu=jm;function $m(){const a=jm();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function _r(){return $t.lFrame.selectedIndex}function Lo(a){$t.lFrame.selectedIndex=a}function Dn(){const a=$t.lFrame;return Xl(a.tView,a.selectedIndex)}function od(){$t.lFrame.currentNamespace=si}function Bi(){!function If(){$t.lFrame.currentNamespace=null}()}function cl(a,l){for(let d=l.directiveStart,h=l.directiveEnd;d<h;d++){const m=a.data[d].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:O}=m;v&&(a.contentHooks||(a.contentHooks=[])).push(-d,v),C&&((a.contentHooks||(a.contentHooks=[])).push(d,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(d,C)),E&&(a.viewHooks||(a.viewHooks=[])).push(-d,E),T&&((a.viewHooks||(a.viewHooks=[])).push(d,T),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(d,T)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(d,O)}}function dl(a,l,d){nc(a,l,3,d)}function Da(a,l,d,h){(3&a[Ot])===d&&nc(a,l,d,h)}function Ea(a,l){let d=a[Ot];(3&d)===l&&(d&=2047,d+=1,a[Ot]=d)}function nc(a,l,d,h){const m=h??-1,v=l.length-1;let C=0;for(let E=void 0!==h?65535&a[ko]:0;E<v;E++)if("number"==typeof l[E+1]){if(C=l[E],null!=h&&C>=h)break}else l[E]<0&&(a[ko]+=65536),(C<m||-1==m)&&(ul(a,d,l,E),a[ko]=(4294901760&a[ko])+E+2),E++}function ul(a,l,d,h){const f=d[h]<0,m=d[h+1],C=a[f?-d[h]:d[h]];if(f){if(a[Ot]>>11<a[ko]>>16&&(3&a[Ot])===l){a[Ot]+=2048,gr(4,C,m);try{m.call(C)}finally{gr(5,C,m)}}}else{gr(4,C,m);try{m.call(C)}finally{gr(5,C,m)}}}const xa=-1;class Ps{constructor(l,d,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function ic(a,l,d){let h=0;for(;h<d.length;){const f=d[h];if("number"==typeof f){if(0!==f)break;h++;const m=d[h++],v=d[h++],C=d[h++];a.setAttribute(l,v,C,m)}else{const m=f,v=d[++h];Ns(m)?a.setProperty(l,m,v):a.setAttribute(l,m,v),h++}}return h}function Fs(a){return 3===a||4===a||6===a}function Ns(a){return 64===a.charCodeAt(0)}function ao(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let d=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?d=f:0===d||rc(a,d,f,null,-1===d||2===d?l[++h]:null)}}return a}function rc(a,l,d,h,f){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const C=a[m++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=m-1;break}}}for(;m<a.length;){const C=a[m];if("number"==typeof C)break;if(C===d){if(null===h)return void(null!==f&&(a[m+1]=f));if(h===a[m+1])return void(a[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,d),null!==h&&a.splice(m++,0,h),null!==f&&a.splice(m++,0,f)}function ad(a){return a!==xa}function Ia(a){return 32767&a}function Ls(a,l){let d=function ld(a){return a>>16}(a),h=l;for(;d>0;)h=h[Ur],d--;return h}let Sa=!0;function Vo(a){const l=Sa;return Sa=a,l}const Du=255,Vs=5;let cd=0;const Ui={};function ds(a,l){const d=oc(a,l);if(-1!==d)return d;const h=l[st];h.firstCreatePass&&(a.injectorIndex=l.length,Bs(h.data,a),Bs(l,null),Bs(h.blueprint,null));const f=sc(a,l),m=a.injectorIndex;if(ad(f)){const v=Ia(f),C=Ls(f,l),E=C[st].data;for(let T=0;T<8;T++)l[m+T]=C[v+T]|E[v+T]}return l[m+8]=f,m}function Bs(a,l){a.push(0,0,0,0,0,0,0,0,l)}function oc(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function sc(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,h=null,f=l;for(;null!==f;){if(h=ud(f),null===h)return xa;if(d++,f=f[Ur],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return xa}function ac(a,l,d){!function dd(a,l,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(Oi)&&(h=d[Oi]),null==h&&(h=d[Oi]=cd++);const f=h&Du;l.data[a+(f>>Vs)]|=1<<f}(a,l,d)}function Eu(a,l,d){if(d&lt.Optional||void 0!==a)return a;Ge()}function gl(a,l,d,h){if(d&lt.Optional&&void 0===h&&(h=null),!(d&(lt.Self|lt.Host))){const f=a[jl],m=ui(void 0);try{return f?f.get(l,h,d&lt.Optional):ti(l,h,d&lt.Optional)}finally{ui(m)}}return Eu(h,0,d)}function xu(a,l,d,h=lt.Default,f){if(null!==a){if(1024&l[Ot]){const v=function Zm(a,l,d,h,f){let m=a,v=l;for(;null!==m&&null!==v&&1024&v[Ot]&&!(256&v[Ot]);){const C=jr(m,v,d,h|lt.Self,Ui);if(C!==Ui)return C;let E=m.parent;if(!E){const T=v[Ja];if(T){const O=T.get(d,Ui,h);if(O!==Ui)return O}E=ud(v),v=v[Ur]}m=E}return f}(a,l,d,h,Ui);if(v!==Ui)return v}const m=jr(a,l,d,h,Ui);if(m!==Ui)return m}return gl(l,d,h,f)}function jr(a,l,d,h,f){const m=function Sf(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Oi)?a[Oi]:void 0;return"number"==typeof l?l>=0?l&Du:Ym:l}(d);if("function"==typeof m){if(!Ef(l,a,h))return h&lt.Host?Eu(f,0,h):gl(l,d,h,f);try{const v=m(h);if(null!=v||h&lt.Optional)return v;Ge()}finally{vu()}}else if("number"==typeof m){let v=null,C=oc(a,l),E=xa,T=h&lt.Host?l[Fi][xi]:null;for((-1===C||h&lt.SkipSelf)&&(E=-1===C?sc(a,l):l[C+8],E!==xa&&$r(h,!1)?(v=l[st],C=Ia(E),l=Ls(E,l)):C=-1);-1!==C;){const O=l[st];if(lc(m,C,O.data)){const z=Iu(C,l,d,v,h,T);if(z!==Ui)return z}E=l[C+8],E!==xa&&$r(h,l[st].data[C+8]===T)&&lc(m,C,l)?(v=O,C=Ia(E),l=Ls(E,l)):C=-1}}return f}function Iu(a,l,d,h,f,m){const v=l[st],C=v.data[a+8],O=us(C,v,d,null==h?el(C)&&Sa:h!=v&&0!=(3&C.type),f&lt.Host&&m===C);return null!==O?Co(l,v,O,C):Ui}function us(a,l,d,h,f){const m=a.providerIndexes,v=l.data,C=1048575&m,E=a.directiveStart,O=m>>20,X=f?C+O:a.directiveEnd;for(let re=h?C:C+O;re<X;re++){const De=v[re];if(re<E&&d===De||re>=E&&De.type===d)return re}if(f){const re=v[E];if(re&&Li(re)&&re.type===d)return E}return null}function Co(a,l,d,h){let f=a[d];const m=l.data;if(function yr(a){return a instanceof Ps}(f)){const v=f;v.resolving&&function ke(a,l){const d=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new _e(-200,`Circular dependency in DI detected for ${a}${d}`)}(function Re(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():xe(a)}(m[d]));const C=Vo(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?ui(v.injectImpl):null;Ef(a,h,lt.Default);try{f=a[d]=v.factory(void 0,m,a,h),l.firstCreatePass&&d>=h.directiveStart&&function wu(a,l,d){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(h){const v=ma(l);(d.preOrderHooks||(d.preOrderHooks=[])).push(a,v),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,v)}f&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-a,f),m&&((d.preOrderHooks||(d.preOrderHooks=[])).push(a,m),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,m))}(d,m[d],l)}finally{null!==E&&ui(E),Vo(C),v.resolving=!1,vu()}}return f}function lc(a,l,d){return!!(d[l+(a>>Vs)]&1<<a)}function $r(a,l){return!(a&lt.Self||a&lt.Host&&l)}class hs{constructor(l,d){this._tNode=l,this._lView=d}get(l,d,h){return xu(this._tNode,this._lView,l,It(h),d)}}function Ym(){return new hs(Si(),ge())}function Su(a){return N(()=>{const l=a.prototype.constructor,d=l[kt]||Ta(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const m=f[kt]||Ta(f);if(m&&m!==d)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Ta(a){return ze(a)?()=>{const l=Ta(ee(a));return l&&l()}:Ms(a)}function ud(a){const l=a[st],d=l.type;return 2===d?l.declTNode:1===d?a[xi]:null}function cc(a){return function ml(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const d=a.attrs;if(d){const h=d.length;let f=0;for(;f<h;){const m=d[f];if(Fs(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof d[f];)f++;else{if(m===l)return d[f+1];f+=2}}}return null}(Si(),a)}const Ma="__parameters__";function yl(a,l,d){return N(()=>{const h=function Mf(a){return function(...d){if(a){const h=a(...d);for(const f in h)this[f]=h[f]}}}(l);function f(...m){if(this instanceof f)return h.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(E,T,O){const z=E.hasOwnProperty(Ma)?E[Ma]:Object.defineProperty(E,Ma,{value:[]})[Ma];for(;z.length<=O;)z.push(null);return(z[O]=z[O]||[]).push(v),E}}return d&&(f.prototype=Object.create(d.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class wn{constructor(l,d){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=at({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ho(a,l){a.forEach(d=>Array.isArray(d)?Ho(d,l):l(d))}function pd(a,l,d){l>=a.length?a.push(d):a.splice(l,0,d)}function ka(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function fs(a,l){const d=[];for(let h=0;h<a;h++)d.push(l);return d}function Pr(a,l,d){let h=Do(a,l);return h>=0?a[1|h]=d:(h=~h,function Yy(a,l,d,h){let f=a.length;if(f==l)a.push(d,h);else if(1===f)a.push(h,a[0]),a[0]=d;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=d,a[l+1]=h}}(a,h,l,d)),h}function bl(a,l){const d=Do(a,l);if(d>=0)return a[1|d]}function Do(a,l){return function ku(a,l,d){let h=0,f=a.length>>d;for(;f!==h;){const m=h+(f-h>>1),v=a[m<<d];if(l===v)return m<<d;v>l?f=m:h=m+1}return~(f<<d)}(a,l,1)}const uc=sn(yl("Inject",a=>({token:a})),-1),Hs=sn(yl("Optional"),8),I=sn(yl("SkipSelf"),4);var jo=(()=>((jo=jo||{})[jo.Important=1]="Important",jo[jo.DashCase=2]="DashCase",jo))();const wl=new Map;let Ff=0;const ji="__ngContext__";function Kn(a,l){Rr(l)?(a[ji]=l[kr],function tg(a){wl.set(a[kr],a)}(l)):a[ji]=l}let Q;function Me(a,l){return Q(a,l)}function ft(a){const l=a[jn];return Or(l)?l[jn]:l}function Gr(a){return La(a[ua])}function _s(a){return La(a[Qi])}function La(a){for(;null!==a&&!Or(a);)a=a[Qi];return a}function $o(a,l,d,h,f){if(null!=h){let m,v=!1;Or(h)?m=h:Rr(h)&&(v=!0,h=h[Ar]);const C=qn(h);0===a&&null!==d?null==f?_c(l,d,C):Cd(l,d,C,f||null,!0):1===a&&null!==d?Cd(l,d,C,f||null,!0):2===a?function hg(a,l,d){const h=Bf(a,l);h&&function sN(a,l,d,h){a.removeChild(l,d,h)}(a,h,l,d)}(l,C,v):3===a&&l.destroyNode(C),null!=m&&function rv(a,l,d,h,f){const m=d[Wl];m!==qn(d)&&$o(l,a,h,m,f);for(let C=Ni;C<d.length;C++){const E=d[C];Ed(E[st],E,a,l,h,m)}}(l,a,m,d,f)}}function Cl(a,l,d){return a.createElement(l,d)}function wd(a,l){const d=a[Hr],h=d.indexOf(l),f=l[jn];512&l[Ot]&&(l[Ot]&=-513,Os(f,-1)),d.splice(h,1)}function Jy(a,l){if(a.length<=Ni)return;const d=Ni+l,h=a[d];if(h){const f=h[$l];null!==f&&f!==a&&wd(f,h),l>0&&(a[d-1][Qi]=h[Qi]);const m=ka(a,Ni+l);!function bd(a,l){Ed(a,l,l[en],2,null,null),l[Ar]=null,l[xi]=null}(h[st],h);const v=m[pr];null!==v&&v.detachView(m[st]),h[jn]=null,h[Qi]=null,h[Ot]&=-65}return h}function oC(a,l){if(!(128&l[Ot])){const d=l[en];d.destroyNode&&Ed(a,l,d,3,null,null),function lg(a){let l=a[ua];if(!l)return ev(a[st],a);for(;l;){let d=null;if(Rr(l))d=l[ua];else{const h=l[Ni];h&&(d=h)}if(!d){for(;l&&!l[Qi]&&l!==a;)Rr(l)&&ev(l[st],l),l=l[jn];null===l&&(l=a),Rr(l)&&ev(l[st],l),d=l&&l[Qi]}l=d}}(l)}}function ev(a,l){if(!(128&l[Ot])){l[Ot]&=-65,l[Ot]|=128,function JS(a,l){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let h=0;h<d.length;h+=2){const f=l[d[h]];if(!(f instanceof Ps)){const m=d[h+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],E=m[v+1];gr(4,C,E);try{E.call(C)}finally{gr(5,C,E)}}else{gr(4,f,m);try{m.call(f)}finally{gr(5,f,m)}}}}}(a,l),function XS(a,l){const d=a.cleanup,h=l[ro];let f=-1;if(null!==d)for(let m=0;m<d.length-1;m+=2)if("string"==typeof d[m]){const v=d[m+3];v>=0?h[f=v]():h[f=-v].unsubscribe(),m+=2}else{const v=h[f=d[m+1]];d[m].call(v)}if(null!==h){for(let m=f+1;m<h.length;m++)(0,h[m])();l[ro]=null}}(a,l),1===l[st].type&&l[en].destroy();const d=l[$l];if(null!==d&&Or(l[jn])){d!==l[jn]&&wd(d,l);const h=l[pr];null!==h&&h.detachView(a)}!function Io(a){wl.delete(a[kr])}(l)}}function cg(a,l,d){return function Vf(a,l,d){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return d[Ar];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:m}=a.data[h.directiveStart+f];if(m===ye.None||m===ye.Emulated)return null}return Vi(h,d)}}(a,l.parent,d)}function Cd(a,l,d,h,f){a.insertBefore(l,d,h,f)}function _c(a,l,d){a.appendChild(l,d)}function dg(a,l,d,h,f){null!==h?Cd(a,l,d,h,f):_c(a,l,d)}function Bf(a,l){return a.parentNode(l)}function Lu(a,l,d){return Dd(a,l,d)}let ug,Go,sv,mg,Dd=function Vu(a,l,d){return 40&a.type?Vi(a,d):null};function Uf(a,l,d,h){const f=cg(a,h,l),m=l[en],C=Lu(h.parent||l[xi],h,l);if(null!=f)if(Array.isArray(d))for(let E=0;E<d.length;E++)dg(m,f,d[E],C,!1);else dg(m,f,d,C,!1);void 0!==ug&&ug(m,h,l,d,f)}function Dl(a,l){if(null!==l){const d=l.type;if(3&d)return Vi(l,a);if(4&d)return nv(-1,a[l.index]);if(8&d){const h=l.child;if(null!==h)return Dl(a,h);{const f=a[l.index];return Or(f)?nv(-1,f):qn(f)}}if(32&d)return Me(l,a)()||qn(a[l.index]);{const h=sC(a,l);return null!==h?Array.isArray(h)?h[0]:Dl(ft(a[Fi]),h):Dl(a,l.next)}}return null}function sC(a,l){return null!==l?a[Fi][xi].projection[l.projection]:null}function nv(a,l){const d=Ni+a+1;if(d<l.length){const h=l[d],f=h[st].firstChild;if(null!==f)return Dl(h,f)}return l[Wl]}function iv(a,l,d,h,f,m,v){for(;null!=d;){const C=h[d.index],E=d.type;if(v&&0===l&&(C&&Kn(qn(C),h),d.flags|=2),32!=(32&d.flags))if(8&E)iv(a,l,d.child,h,f,m,!1),$o(l,a,f,C,m);else if(32&E){const T=Me(d,h);let O;for(;O=T();)$o(l,a,f,O,m);$o(l,a,f,C,m)}else 16&E?aC(a,l,h,d,f,m):$o(l,a,f,C,m);d=v?d.projectionNext:d.next}}function Ed(a,l,d,h,f,m){iv(d,h,a.firstChild,l,f,m,!1)}function aC(a,l,d,h,f,m){const v=d[Fi],E=v[xi].projection[h.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)$o(l,a,f,E[T],m);else iv(a,l,E,v[jn],f,m,!0)}function ov(a,l,d){""===d?a.removeAttribute(l,"class"):a.setAttribute(l,"class",d)}function Uu(a,l,d){const{mergedAttrs:h,classes:f,styles:m}=d;null!==h&&ic(a,l,h),null!==f&&ov(a,l,f),null!==m&&function lC(a,l,d){a.setAttribute(l,"style",d)}(a,l,m)}function ys(a){return function Hf(){if(void 0===Go&&(Go=null,Bt.trustedTypes))try{Go=Bt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Go}()?.createHTML(a)||a}function rT(a){sv=a}function fC(a){return function av(){if(void 0===mg&&(mg=null,Bt.trustedTypes))try{mg=Bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return mg}()?.createScriptURL(a)||a}class xd{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}class oT extends xd{getTypeName(){return"HTML"}}class pC extends xd{getTypeName(){return"Style"}}class sT extends xd{getTypeName(){return"Script"}}class aT extends xd{getTypeName(){return"URL"}}class lT extends xd{getTypeName(){return"ResourceURL"}}function El(a){return a instanceof xd?a.changingThisBreaksApplicationSecurity:a}function Hu(a,l){const d=function mC(a){return a instanceof xd&&a.getTypeName()||null}(a);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see ${dt})`)}return d===l}function lv(a){return new oT(a)}function cv(a){return new pC(a)}function xl(a){return new sT(a)}function zu(a){return new aT(a)}function gC(a){return new lT(a)}class cT{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(ys(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.removeChild(d.firstChild),d)}catch{return null}}}class Id{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const d=this.inertDocument.createElement("template");return d.innerHTML=ys(l),d}}const dT=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Sd(a){return(a=String(a)).match(dT)?a:"unsafe:"+a}function Va(a){const l={};for(const d of a.split(","))l[d]=!0;return l}function Td(...a){const l={};for(const d of a)for(const h in d)d.hasOwnProperty(h)&&(l[h]=!0);return l}const uv=Va("area,br,col,hr,img,wbr"),gg=Va("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_g=Va("rp,rt"),hv=Td(uv,Td(gg,Va("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Td(_g,Va("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Td(_g,gg)),zf=Va("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fv=Td(zf,Va("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Va("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yC=Va("script,style,template");class fT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let d=l.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let f=this.checkClobberedElement(d,d.nextSibling);if(f){d=f;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(l){const d=l.nodeName.toLowerCase();if(!hv.hasOwnProperty(d))return this.sanitizedSomething=!0,!yC.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=l.attributes;for(let f=0;f<h.length;f++){const m=h.item(f),v=m.name,C=v.toLowerCase();if(!fv.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;zf[C]&&(E=Sd(E)),this.buf.push(" ",v,'="',bg(E),'"')}return this.buf.push(">"),!0}endElement(l){const d=l.nodeName.toLowerCase();hv.hasOwnProperty(d)&&!uv.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(l){this.buf.push(bg(l))}checkClobberedElement(l,d){if(d&&(l.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return d}}const jf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vg=/([^\#-~ |!])/g;function bg(a){return a.replace(/&/g,"&amp;").replace(jf,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(vg,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wg;function vC(a,l){let d=null;try{wg=wg||function dv(a){const l=new Id(a);return function _C(){try{return!!(new window.DOMParser).parseFromString(ys(""),"text/html")}catch{return!1}}()?new cT(l):l}(a);let h=l?String(l):"";d=wg.getInertBodyElement(h);let f=5,m=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=m,m=d.innerHTML,d=wg.getInertBodyElement(h)}while(h!==m);return ys((new fT).sanitizeChildren($f(d)||d))}finally{if(d){const h=$f(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function $f(a){return"content"in a&&function bC(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Ji=(()=>((Ji=Ji||{})[Ji.NONE=0]="NONE",Ji[Ji.HTML=1]="HTML",Ji[Ji.STYLE=2]="STYLE",Ji[Ji.SCRIPT=3]="SCRIPT",Ji[Ji.URL=4]="URL",Ji[Ji.RESOURCE_URL=5]="RESOURCE_URL",Ji))();function pT(a){const l=Gf();return l?l.sanitize(Ji.URL,a)||"":Hu(a,"URL")?El(a):Sd(xe(a))}function Cg(a){const l=Gf();if(l)return fC(l.sanitize(Ji.RESOURCE_URL,a)||"");if(Hu(a,"ResourceURL"))return fC(El(a));throw new _e(904,!1)}function Wo(a,l,d){return function pv(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?Cg:pT}(l,d)(a)}function Gf(){const a=ge();return a&&a[Xa]}const mv=new wn("ENVIRONMENT_INITIALIZER"),gv=new wn("INJECTOR",-1),Wf=new wn("INJECTOR_DEF_TYPES");class wC{get(l,d=Wn){if(d===Wn){const h=new Error(`NullInjectorError: No provider for ${he(l)}!`);throw h.name="NullInjectorError",h}return d}}function ju(...a){return{\u0275providers:$u(0,a),\u0275fromNgModule:!0}}function $u(a,...l){const d=[],h=new Set;let f;return Ho(l,m=>{const v=m;_v(v,d,[],h)&&(f||(f=[]),f.push(v))}),void 0!==f&&CC(f,d),d}function CC(a,l){for(let d=0;d<a.length;d++){const{providers:f}=a[d];Md(f,m=>{l.push(m)})}}function _v(a,l,d,h){if(!(a=ee(a)))return!1;let f=null,m=ei(a);const v=!m&&hn(a);if(m||v){if(v&&!v.standalone)return!1;f=a}else{const E=a.ngModule;if(m=ei(E),!m)return!1;f=E}const C=h.has(f);if(v){if(C)return!1;if(h.add(f),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of E)_v(T,l,d,h)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let T;h.add(f);try{Ho(m.imports,O=>{_v(O,l,d,h)&&(T||(T=[]),T.push(O))})}finally{}void 0!==T&&CC(T,l)}if(!C){const T=Ms(f)||(()=>new f);l.push({provide:f,useFactory:T,deps:Ke},{provide:Wf,useValue:f,multi:!0},{provide:mv,useValue:()=>je(f),multi:!0})}const E=m.providers;null==E||C||Md(E,O=>{l.push(O)})}}return f!==a&&void 0!==a.providers}function Md(a,l){for(let d of a)Ae(d)&&(d=d.\u0275providers),Array.isArray(d)?Md(d,l):l(d)}const vT=J({provide:String,useValue:J});function yv(a){return null!==a&&"object"==typeof a&&vT in a}function Ad(a){return"function"==typeof a}const xC=new wn("Set Injector scope."),xg={},vv={};let Gu;function Il(){return void 0===Gu&&(Gu=new wC),Gu}class kd{}class IC extends kd{get destroyed(){return this._destroyed}constructor(l,d,h,f){super(),this.parent=d,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wv(l,v=>this.processProvider(v)),this.records.set(gv,Wu(void 0,this)),f.has("environment")&&this.records.set(kd,Wu(void 0,this));const m=this.records.get(xC);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Wf.multi,Ke,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const d=hr(this),h=ui(void 0);try{return l()}finally{hr(d),ui(h)}}get(l,d=Wn,h=lt.Default){this.assertNotDestroyed(),h=It(h);const f=hr(this),m=ui(void 0);try{if(!(h&lt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const E=function TC(a){return"function"==typeof a||"object"==typeof a&&a instanceof wn}(l)&&bn(l);C=E&&this.injectableDefInScope(E)?Wu(bv(l),xg):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(h&lt.Self?Il():this.parent).get(l,d=h&lt.Optional&&d===Wn?null:d)}catch(v){if("NullInjectorError"===v.name){if((v[Ri]=v[Ri]||[]).unshift(he(l)),f)throw v;return function q(a,l,d,h){const f=a[Ri];throw l[Br]&&f.unshift(l[Br]),a.message=function W(a,l,d,h=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==Zt?a.slice(2):a;let f=he(l);if(Array.isArray(l))f=l.map(he).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):he(C)))}f=`{${m.join(", ")}}`}return`${d}${h?"("+h+")":""}[${f}]: ${a.replace(io,"\n  ")}`}("\n"+a.message,f,d,h),a[Ei]=f,a[Ri]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{ui(m),hr(f)}}resolveInjectorInitializers(){const l=hr(this),d=ui(void 0);try{const h=this.get(mv.multi,Ke,lt.Self);for(const f of h)f()}finally{hr(l),ui(d)}}toString(){const l=[],d=this.records;for(const h of d.keys())l.push(he(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(l){let d=Ad(l=ee(l))?l:ee(l&&l.provide);const h=function CT(a){return yv(a)?Wu(void 0,a.useValue):Wu(SC(a),xg)}(l);if(Ad(l)||!0!==l.multi)this.records.get(d);else{let f=this.records.get(d);f||(f=Wu(void 0,xg,!0),f.factory=()=>Rt(f.multi),this.records.set(d,f)),d=l,f.multi.push(l)}this.records.set(d,h)}hydrate(l,d){return d.value===xg&&(d.value=vv,d.value=d.factory()),"object"==typeof d.value&&d.value&&function ET(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(l){if(!l.providedIn)return!1;const d=ee(l.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function bv(a){const l=bn(a),d=null!==l?l.factory:Ms(a);if(null!==d)return d;if(a instanceof wn)throw new _e(204,!1);if(a instanceof Function)return function wT(a){const l=a.length;if(l>0)throw fs(l,"?"),new _e(204,!1);const d=function rr(a){const l=a&&(a[Mr]||a[Mn]);return l?(function no(a){if(a.hasOwnProperty("name"))return a.name;(""+a).match(/^function\s*([^\s(]+)/)}(a),l):null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new _e(204,!1)}function SC(a,l,d){let h;if(Ad(a)){const f=ee(a);return Ms(f)||bv(f)}if(yv(a))h=()=>ee(a.useValue);else if(function EC(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...Rt(a.deps||[]));else if(function DC(a){return!(!a||!a.useExisting)}(a))h=()=>je(ee(a.useExisting));else{const f=ee(a&&(a.useClass||a.provide));if(!function DT(a){return!!a.deps}(a))return Ms(f)||bv(f);h=()=>new f(...Rt(a.deps))}return h}function Wu(a,l,d=!1){return{factory:a,value:l,multi:d?[]:void 0}}function wv(a,l){for(const d of a)Array.isArray(d)?wv(d,l):d&&Ae(d)?wv(d.\u0275providers,l):l(d)}class Cv{}class Dv{}class xT{resolveComponentFactory(l){throw function Ev(a){const l=Error(`No component factory found for ${he(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Yf=(()=>{class a{}return a.NULL=new xT,a})();function IT(){return Sl(Si(),ge())}function Sl(a,l){return new qu(Vi(a,l))}let qu=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=IT,a})();function MC(a){return a instanceof qu?a.nativeElement:a}class Zf{}let Ig=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function AC(){const a=ge(),d=Ii(Si().index,a);return(Rr(d)?d:a)[en]}(),a})(),Kf=(()=>{class a{}return a.\u0275prov=at({token:a,providedIn:"root",factory:()=>null}),a})();class xv{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const kC=new xv("15.2.1"),Iv={},Sv="ngOriginalError";function Tv(a){return a[Sv]}class Yu{constructor(){this._console=console}handleError(l){const d=this._findOriginalError(l);this._console.error("ERROR",l),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(l){let d=l&&Tv(l);for(;d&&Tv(d);)d=Tv(d);return d||null}}function Tl(a){return a instanceof Function?a():a}function PC(a,l,d){let h=a.length;for(;;){const f=a.indexOf(l,d);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===h||a.charCodeAt(f+m)<=32)return f}d=f+1}}const FC="ng-template";function NT(a,l,d){let h=0;for(;h<a.length;){let f=a[h++];if(d&&"class"===f){if(f=a[h],-1!==PC(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<a.length&&"string"==typeof(f=a[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function NC(a){return 4===a.type&&a.value!==FC}function LT(a,l,d){return l===(4!==a.type||d?a.value:FC)}function LC(a,l,d){let h=4;const f=a.attrs||[],m=function kv(a){for(let l=0;l<a.length;l++)if(Fs(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const E=l[C];if("number"!=typeof E){if(!v)if(4&h){if(h=2|1&h,""!==E&&!LT(a,E,d)||""===E&&1===l.length){if(qo(h))return!1;v=!0}}else{const T=8&h?E:l[++C];if(8&h&&null!==a.attrs){if(!NT(a.attrs,T,d)){if(qo(h))return!1;v=!0}continue}const z=VT(8&h?"class":E,f,NC(a),d);if(-1===z){if(qo(h))return!1;v=!0;continue}if(""!==T){let X;X=z>m?"":f[z+1].toLowerCase();const re=8&h?X:null;if(re&&-1!==PC(re,T,0)||2&h&&T!==X){if(qo(h))return!1;v=!0}}}}else{if(!v&&!qo(h)&&!qo(E))return!1;if(v&&qo(E))continue;v=!1,h=E|1&h}}return qo(h)||v}function qo(a){return 0==(1&a)}function VT(a,l,d,h){if(null===l)return-1;let f=0;if(h||!d){let m=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function BT(a,l){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const h=a[d];if("number"==typeof h)return-1;if(h===l)return d;d++}return-1}(l,a)}function Av(a,l,d=!1){for(let h=0;h<l.length;h++)if(LC(a,l[h],d))return!0;return!1}function VC(a,l){e:for(let d=0;d<l.length;d++){const h=l[d];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function Qf(a,l){return a?":not("+l.trim()+")":l}function Sg(a){let l=a[0],d=1,h=2,f="",m=!1;for(;d<a.length;){let v=a[d];if("string"==typeof v)if(2&h){const C=a[++d];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!qo(v)&&(l+=Qf(m,f),f=""),h=v,m=m||!qo(h);d++}return""!==f&&(l+=Qf(m,f)),l}const Xt={};function HC(a){zC(ln(),ge(),_r()+a,!1)}function zC(a,l,d,h){if(!h)if(3==(3&l[Ot])){const m=a.preOrderCheckHooks;null!==m&&dl(l,m,d)}else{const m=a.preOrderHooks;null!==m&&Da(l,m,0,d)}Lo(d)}function GC(a,l=null,d=null,h){const f=So(a,l,d,h);return f.resolveInjectorInitializers(),f}function So(a,l=null,d=null,h,f=new Set){const m=[d||Ke,ju(a)];return h=h||("object"==typeof a?void 0:he(a)),new IC(m,l||Il(),h||null,f)}let Od=(()=>{class a{static create(d,h){if(Array.isArray(d))return GC({name:""},h,d,"");{const f=d.name??"";return GC({name:f},d.parent,d.providers,f)}}}return a.THROW_IF_NOT_FOUND=Wn,a.NULL=new wC,a.\u0275prov=at({token:a,providedIn:"any",factory:()=>je(gv)}),a.__NG_ELEMENT_ID__=-1,a})();function Jf(a,l=lt.Default){const d=ge();return null===d?je(a,l):xu(Si(),d,ee(a),l)}function Uv(){throw new Error("invalid")}function JC(a,l){const d=a.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const m=d[h+1];if(-1!==m){const v=a.data[m];rd(d[h]),v.contentQueries(2,l[m],m)}}}function Rg(a,l,d,h,f,m,v,C,E,T,O){const z=l.blueprint.slice();return z[Ar]=f,z[Ot]=76|h,(null!==O||a&&1024&a[Ot])&&(z[Ot]|=1024),ed(z),z[jn]=z[Ur]=a,z[On]=d,z[oi]=v||a&&a[oi],z[en]=C||a&&a[en],z[Xa]=E||a&&a[Xa]||null,z[jl]=T||a&&a[jl]||null,z[xi]=m,z[kr]=function pc(){return Ff++}(),z[Ja]=O,z[Fi]=2==l.type?a[Fi]:z,z}function Ku(a,l,d,h,f){let m=a.data[l];if(null===m)m=function Hv(a,l,d,h,f){const m=nd(),v=va(),E=a.data[l]=function Ml(a,l,d,h,f,m){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,d,l,h,f);return null===a.firstChild&&(a.firstChild=E),null!==m&&(v?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E,E.prev=m)),E}(a,l,d,h,f),function _u(){return $t.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=d,m.value=h,m.attrs=f;const v=function ya(){const a=$t.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return so(m,!0),m}function ep(a,l,d,h){if(0===d)return-1;const f=l.length;for(let m=0;m<d;m++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function Og(a,l,d){tc(l);try{const h=a.viewQuery;null!==h&&Kt(1,h,d);const f=a.template;null!==f&&YT(a,l,f,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&JC(a,l),a.staticViewQueries&&Kt(2,a.viewQuery,d);const m=a.components;null!==m&&function qT(a,l){for(let d=0;d<l.length;d++)oM(a,l[d])}(l,m)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[Ot]&=-5,$m()}}function Pg(a,l,d,h){const f=l[Ot];if(128!=(128&f)){tc(l);try{ed(l),function wa(a){return $t.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&YT(a,l,d,2,h);const v=3==(3&f);if(v){const T=a.preOrderCheckHooks;null!==T&&dl(l,T,null)}else{const T=a.preOrderHooks;null!==T&&Da(l,T,0,null),Ea(l,0)}if(function Wv(a){for(let l=Gr(a);null!==l;l=_s(l)){if(!l[Gl])continue;const d=l[Hr];for(let h=0;h<d.length;h++){const f=d[h];512&f[Ot]||Os(f[jn],1),f[Ot]|=512}}}(l),function rM(a){for(let l=Gr(a);null!==l;l=_s(l))for(let d=Ni;d<l.length;d++){const h=l[d],f=h[st];Rs(h)&&Pg(f,h,f.template,h[On])}}(l),null!==a.contentQueries&&JC(a,l),v){const T=a.contentCheckHooks;null!==T&&dl(l,T)}else{const T=a.contentHooks;null!==T&&Da(l,T,1),Ea(l,1)}!function WT(a,l){const d=a.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const f=d[h];if(f<0)Lo(~f);else{const m=f,v=d[++h],C=d[++h];id(v,m),C(2,l[m])}}}finally{Lo(-1)}}(a,l);const C=a.components;null!==C&&function eD(a,l){for(let d=0;d<l.length;d++)wN(a,l[d])}(l,C);const E=a.viewQuery;if(null!==E&&Kt(2,E,h),v){const T=a.viewCheckHooks;null!==T&&dl(l,T)}else{const T=a.viewHooks;null!==T&&Da(l,T,2),Ea(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[Ot]&=-41,512&l[Ot]&&(l[Ot]&=-513,Os(l[jn],-1))}finally{$m()}}}function YT(a,l,d,h,f){const m=_r(),v=2&h;try{Lo(-1),v&&l.length>Pn&&zC(a,l,Pn,!1),gr(v?2:0,f),d(h,f)}finally{Lo(m),gr(v?3:1,f)}}function Pd(a,l,d){if(Oo(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,d[m],m)}}}function yc(a,l,d){pu()&&(function XT(a,l,d,h){const f=d.directiveStart,m=d.directiveEnd;el(d)&&function nM(a,l,d){const h=Vi(l,a),f=qt(d),m=a[oi],v=Vg(a,Rg(a,f,null,d.onPush?32:16,h,l,m,m.createRenderer(h,d),null,null,null));a[l.index]=v}(l,d,a.data[f+d.componentOffset]),a.firstCreatePass||ds(d,l),Kn(h,l);const v=d.initialInputs;for(let C=f;C<m;C++){const E=a.data[C],T=Co(l,a,C,d);Kn(T,l),null!==v&&iM(0,C-f,T,E,0,v),Li(E)&&(Ii(d.index,l)[On]=Co(l,a,C,d))}}(a,l,d,Vi(d,l)),64==(64&d.flags)&&jv(a,l,d))}function vc(a,l,d=Vi){const h=l.localNames;if(null!==h){let f=l.index+1;for(let m=0;m<h.length;m+=2){const v=h[m+1],C=-1===v?d(l,a):a[v];a[f++]=C}}}function qt(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Ba(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Ba(a,l,d,h,f,m,v,C,E,T){const O=Pn+h,z=O+f,X=function ZT(a,l){const d=[];for(let h=0;h<l;h++)d.push(h<a?null:Xt);return d}(O,z),re="function"==typeof T?T():T;return X[st]={type:a,blueprint:X,template:d,queries:null,viewQuery:C,declTNode:l,data:X.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:re,incompleteFirstPass:!1}}function $i(a,l,d,h){const f=Qn(l);null===d?f.push(h):(f.push(d),a.firstCreatePass&&lM(a).push(h,f.length-1))}function tD(a,l,d,h){for(let f in a)if(a.hasOwnProperty(f)){d=null===d?{}:d;const m=a[f];null===h?nD(d,l,f,m):h.hasOwnProperty(f)&&nD(d,l,h[f],m)}return d}function nD(a,l,d,h){a.hasOwnProperty(d)?a[d].push(l,h):a[d]=[l,h]}function Yo(a,l,d,h,f,m,v,C){const E=Vi(l,d);let O,T=l.inputs;!C&&null!=T&&(O=T[h])?(Ug(a,d,O,h,f),el(l)&&Qu(d,l.index)):3&l.type&&(h=function QT(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=v?v(f,l.value||"",h):f,m.setProperty(E,h,f))}function Qu(a,l){const d=Ii(l,a);16&d[Ot]||(d[Ot]|=32)}function zv(a,l,d,h){if(pu()){const f=null===h?null:{"":-1},m=function eM(a,l){const d=a.directiveRegistry;let h=null,f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];if(Av(l,v.selectors,!1))if(h||(h=[]),Li(v))if(null!==v.findHostDirectiveDefs){const C=[];f=f||new Map,v.findHostDirectiveDefs(v,C,f),h.unshift(...C,v),sD(a,l,C.length)}else h.unshift(v),sD(a,l,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,h,f),h.push(v)}return null===h?null:[h,f]}(a,d);let v,C;null===m?v=C=null:[v,C]=m,null!==v&&rD(a,l,d,v,f,C),f&&function tM(a,l,d){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=d[l[f+1]];if(null==m)throw new _e(-301,!1);h.push(l[f],m)}}}(d,h,f)}d.mergedAttrs=ao(d.mergedAttrs,d.attrs)}function rD(a,l,d,h,f,m){for(let T=0;T<h.length;T++)ac(ds(d,l),a,h[T].type);!function Ng(a,l,d){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+d,a.providerIndexes=l}(d,a.data.length,h.length);for(let T=0;T<h.length;T++){const O=h[T];O.providersResolver&&O.providersResolver(O)}let v=!1,C=!1,E=ep(a,l,h.length,null);for(let T=0;T<h.length;T++){const O=h[T];d.mergedAttrs=ao(d.mergedAttrs,O.hostAttrs),aD(a,d,l,E,O),$v(E,O,f),null!==O.contentQueries&&(d.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(d.flags|=64);const z=O.type.prototype;!v&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(d.index),v=!0),!C&&(z.ngOnChanges||z.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(d.index),C=!0),E++}!function KT(a,l,d){const f=l.directiveEnd,m=a.data,v=l.attrs,C=[];let E=null,T=null;for(let O=l.directiveStart;O<f;O++){const z=m[O],X=d?d.get(z):null,De=X?X.outputs:null;E=tD(z.inputs,O,E,X?X.inputs:null),T=tD(z.outputs,O,T,De);const He=null===E||null===v||NC(l)?null:Lg(E,O,v);C.push(He)}null!==E&&(E.hasOwnProperty("class")&&(l.flags|=8),E.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=C,l.inputs=E,l.outputs=T}(a,d,m)}function jv(a,l,d){const h=d.directiveStart,f=d.directiveEnd,m=d.index,v=function Cf(){return $t.lFrame.currentDirectiveIndex}();try{Lo(m);for(let C=h;C<f;C++){const E=a.data[C],T=l[C];cs(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&JT(E,T)}}finally{Lo(-1),cs(v)}}function JT(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function sD(a,l,d){l.componentOffset=d,(a.components||(a.components=[])).push(l.index)}function $v(a,l,d){if(d){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)d[l.exportAs[h]]=a;Li(l)&&(d[""]=a)}}function aD(a,l,d,h,f){a.data[h]=f;const m=f.factory||(f.factory=Ms(f.type)),v=new Ps(m,Li(f),Jf);a.blueprint[h]=v,d[h]=v,function oD(a,l,d,h,f){const m=f.hostBindings;if(m){let v=a.hostBindingOpCodes;null===v&&(v=a.hostBindingOpCodes=[]);const C=~l.index;(function tp(a){let l=a.length;for(;l>0;){const d=a[--l];if("number"==typeof d&&d<0)return d}return 0})(v)!=C&&v.push(C),v.push(d,h,m)}}(a,l,h,ep(a,d,f.hostVars,Xt),f)}function Al(a,l,d,h,f,m){const v=Vi(a,l);!function Gv(a,l,d,h,f,m,v){if(null==m)a.removeAttribute(l,f,d);else{const C=null==v?xe(m):v(m,h||"",f);a.setAttribute(l,f,C,d)}}(l[en],v,m,a.value,d,h,f)}function iM(a,l,d,h,f,m){const v=m[l];if(null!==v){const C=h.setInput;for(let E=0;E<v.length;){const T=v[E++],O=v[E++],z=v[E++];null!==C?h.setInput(d,z,T,O):d[O]=z}}}function Lg(a,l,d){let h=null,f=0;for(;f<d.length;){const m=d[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(a.hasOwnProperty(m)){null===h&&(h=[]);const v=a[m];for(let C=0;C<v.length;C+=2)if(v[C]===l){h.push(m,v[C+1],d[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function lD(a,l,d,h){return[a,!0,!1,l,null,0,h,d,null,null]}function wN(a,l){const d=Ii(l,a);if(Rs(d)){const h=d[st];48&d[Ot]?Pg(h,d,h.template,d[On]):d[bo]>0&&Fd(d)}}function Fd(a){for(let h=Gr(a);null!==h;h=_s(h))for(let f=Ni;f<h.length;f++){const m=h[f];if(Rs(m))if(512&m[Ot]){const v=m[st];Pg(v,m,v.template,m[On])}else m[bo]>0&&Fd(m)}const d=a[st].components;if(null!==d)for(let h=0;h<d.length;h++){const f=Ii(d[h],a);Rs(f)&&f[bo]>0&&Fd(f)}}function oM(a,l){const d=Ii(l,a),h=d[st];(function sM(a,l){for(let d=l.length;d<a.blueprint.length;d++)l.push(a.blueprint[d])})(h,d),Og(h,d,d[On])}function Vg(a,l){return a[ua]?a[ss][Qi]=l:a[ua]=l,a[ss]=l,l}function Bg(a){for(;a;){a[Ot]|=32;const l=ft(a);if(Nm(a)&&!l)return a;a=l}return null}function Xu(a,l,d,h=!0){const f=l[oi];f.begin&&f.begin();try{Pg(a,l,a.template,d)}catch(v){throw h&&qv(l,v),v}finally{f.end&&f.end()}}function Kt(a,l,d){rd(0),l(a,d)}function Qn(a){return a[ro]||(a[ro]=[])}function lM(a){return a.cleanup||(a.cleanup=[])}function Nd(a,l,d){return(null===a||Li(a))&&(d=function rl(a){for(;Array.isArray(a);){if("object"==typeof a[Zc])return a;a=a[Ar]}return null}(d[l.index])),d[en]}function qv(a,l){const d=a[jl],h=d?d.get(Yu,null):null;h&&h.handleError(l)}function Ug(a,l,d,h,f){for(let m=0;m<d.length;){const v=d[m++],C=d[m++],E=l[v],T=a.data[v];null!==T.setInput?T.setInput(E,f,h,C):E[C]=f}}function Zo(a,l,d){const h=as(l,a);!function gc(a,l,d){a.setValue(l,d)}(a[en],h,d)}function Hg(a,l,d){let h=d?a.styles:null,f=d?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?m=C:1==m?f=me(f,C):2==m&&(h=me(h,C+": "+l[++v]+";"))}d?a.styles=h:a.stylesWithoutHost=h,d?a.classes=f:a.classesWithoutHost=f}function Ua(a,l,d,h,f=!1){for(;null!==d;){const m=l[d.index];if(null!==m&&h.push(qn(m)),Or(m))for(let C=Ni;C<m.length;C++){const E=m[C],T=E[st].firstChild;null!==T&&Ua(E[st],E,T,h)}const v=d.type;if(8&v)Ua(a,l,d.child,h);else if(32&v){const C=Me(d,l);let E;for(;E=C();)h.push(E)}else if(16&v){const C=sC(l,d);if(Array.isArray(C))h.push(...C);else{const E=ft(l[Fi]);Ua(E[st],E,C,h,!0)}}d=f?d.projectionNext:d.next}return h}class bc{get rootNodes(){const l=this._lView,d=l[st];return Ua(d,l,d.firstChild,[])}constructor(l,d){this._lView=l,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[On]}set context(l){this._lView[On]=l}get destroyed(){return 128==(128&this._lView[Ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[jn];if(Or(l)){const d=l[Ro],h=d?d.indexOf(this):-1;h>-1&&(Jy(l,h),ka(d,h))}this._attachedToViewContainer=!1}oC(this._lView[st],this._lView)}onDestroy(l){$i(this._lView[st],this._lView,null,l)}markForCheck(){Bg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ot]&=-65}reattach(){this._lView[Ot]|=64}detectChanges(){Xu(this._lView[st],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Nu(a,l){Ed(a,l,l[en],2,null,null)}(this._lView[st],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=l}}class Ld extends bc{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Xu(l[st],l,l[On],!1)}checkNoChanges(){}get context(){return null}}class Yv extends Yf{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=hn(l);return new np(d,this.ngModule)}}function Ju(a){const l=[];for(let d in a)a.hasOwnProperty(d)&&l.push({propName:a[d],templateName:d});return l}class cM{constructor(l,d){this.injector=l,this.parentInjector=d}get(l,d,h){h=It(h);const f=this.injector.get(l,Iv,h);return f!==Iv||d===Iv?f:this.parentInjector.get(l,d,h)}}class np extends Dv{get inputs(){return Ju(this.componentDef.inputs)}get outputs(){return Ju(this.componentDef.outputs)}constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=function BC(a){return a.map(Sg).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!d}create(l,d,h,f){let m=(f=f||this.ngModule)instanceof kd?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new cM(l,m):l,C=v.get(Zf,null);if(null===C)throw new _e(407,!1);const E=v.get(Kf,null),T=C.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",z=h?function Fg(a,l,d){return a.selectRootElement(l,d===ye.ShadowDom)}(T,h,this.componentDef.encapsulation):Cl(T,O,function Zv(a){const l=a.toLowerCase();return"svg"===l?si:"math"===l?"math":null}(O)),X=this.componentDef.onPush?288:272,re=Ba(0,null,null,1,0,null,null,null,null,null),De=Rg(null,re,null,X,null,null,C,T,E,v,null);let He,et;tc(De);try{const _t=this.componentDef;let Nt,Ne=null;_t.findHostDirectiveDefs?(Nt=[],Ne=new Map,_t.findHostDirectiveDefs(_t,Nt,Ne),Nt.push(_t)):Nt=[_t];const Ht=function Kv(a,l){const d=a[st],h=Pn;return a[h]=l,Ku(d,h,2,"#host",null)}(De,z),Un=function dM(a,l,d,h,f,m,v,C){const E=f[st];!function uM(a,l,d,h){for(const f of a)l.mergedAttrs=ao(l.mergedAttrs,f.hostAttrs);null!==l.mergedAttrs&&(Hg(l,l.mergedAttrs,!0),null!==d&&Uu(h,d,l))}(h,a,l,v);const T=m.createRenderer(l,d),O=Rg(f,qt(d),null,d.onPush?32:16,f[a.index],a,m,T,C||null,null,null);return E.firstCreatePass&&sD(E,a,h.length-1),Vg(f,O),f[a.index]=O}(Ht,z,_t,Nt,De,C,T);et=Xl(re,Pn),z&&function fM(a,l,d,h){if(h)ic(a,d,["ng-version",kC.full]);else{const{attrs:f,classes:m}=function UC(a){const l=[],d=[];let h=1,f=2;for(;h<a.length;){let m=a[h];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++h]):8===f&&d.push(m);else{if(!qo(f))break;f=m}h++}return{attrs:l,classes:d}}(l.selectors[0]);f&&ic(a,d,f),m&&m.length>0&&ov(a,d,m.join(" "))}}(T,_t,z,h),void 0!==d&&function Fr(a,l,d){const h=a.projection=[];for(let f=0;f<l.length;f++){const m=d[f];h.push(null!=m?Array.from(m):null)}}(et,this.ngContentSelectors,d),He=function hM(a,l,d,h,f,m){const v=Si(),C=f[st],E=Vi(v,f);rD(C,f,v,d,null,h);for(let O=0;O<d.length;O++)Kn(Co(f,C,v.directiveStart+O,v),f);jv(C,f,v),E&&Kn(E,f);const T=Co(f,C,v.directiveStart+v.componentOffset,v);if(a[On]=f[On]=T,null!==m)for(const O of m)O(T,l);return Pd(C,v,a),T}(Un,_t,Nt,Ne,De,[CN]),Og(re,De,null)}finally{$m()}return new ip(this.componentType,He,Sl(et,De),De,et)}}class ip extends Cv{constructor(l,d,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.instance=d,this.hostView=this.changeDetectorRef=new Ld(f),this.componentType=l}setInput(l,d){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){const m=this._rootLView;Ug(m[st],m,f,l,d),Qu(m,this._tNode.index)}}get injector(){return new hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function CN(){const a=Si();cl(ge()[st],a)}function Qv(a){let l=function eh(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const h=[a];for(;l;){let f;if(Li(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new _e(903,!1);f=l.\u0275dir}if(f){if(d){h.push(f);const v=a;v.inputs=Xv(a.inputs),v.declaredInputs=Xv(a.declaredInputs),v.outputs=Xv(a.outputs);const C=f.hostBindings;C&&xN(a,C);const E=f.viewQuery,T=f.contentQueries;if(E&&DN(a,E),T&&EN(a,T),ve(a.inputs,f.inputs),ve(a.declaredInputs,f.declaredInputs),ve(a.outputs,f.outputs),Li(f)&&f.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(a),C===Qv&&(d=!1)}}l=Object.getPrototypeOf(l)}!function pM(a){let l=0,d=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=ao(f.hostAttrs,d=ao(d,f.hostAttrs))}}(h)}function Xv(a){return a===Je?{}:a===Ke?[]:a}function DN(a,l){const d=a.viewQuery;a.viewQuery=d?(h,f)=>{l(h,f),d(h,f)}:l}function EN(a,l){const d=a.contentQueries;a.contentQueries=d?(h,f,m)=>{l(h,f,m),d(h,f,m)}:l}function xN(a,l){const d=a.hostBindings;a.hostBindings=d?(h,f)=>{l(h,f),d(h,f)}:l}function eb(a){return!!uD(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function uD(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function bs(a,l,d){return a[l]=d}function lo(a,l,d){return!Object.is(a[l],d)&&(a[l]=d,!0)}function hD(a,l,d,h){const f=ge();return lo(f,No(),l)&&(ln(),Al(Dn(),f,a,l,d,h)),hD}function Dc(a,l,d,h,f,m){const C=function ih(a,l,d,h){const f=lo(a,l,d);return lo(a,l+1,h)||f}(a,function or(){return $t.lFrame.bindingIndex}(),d,f);return ls(2),C?l+xe(d)+h+xe(f)+m:Xt}function jg(a,l,d,h,f,m,v,C){const E=ge(),T=ln(),O=a+Pn,z=T.firstCreatePass?function pD(a,l,d,h,f,m,v,C,E){const T=l.consts,O=Ku(l,a,4,v||null,oo(T,C));zv(l,d,O,oo(T,E)),cl(l,O);const z=O.tViews=Ba(2,O,h,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,T);return null!==l.queries&&(l.queries.template(l,O),z.queries=l.queries.embeddedTView(O)),O}(O,T,E,l,d,h,f,m,v):T.data[O];so(z,!1);const X=E[en].createComment("");Uf(T,E,X,z),Kn(X,E),Vg(E,E[O]=lD(X,E,X,z)),Kc(z)&&yc(T,E,z),null!=v&&vc(E,z,C)}function gD(a){return function Fo(a,l){return a[l]}(function ec(){return $t.lFrame.contextLView}(),Pn+a)}function ib(a,l,d){const h=ge();return lo(h,No(),l)&&Yo(ln(),Dn(),h,a,l,h[en],d,!1),ib}function lh(a,l,d,h,f){const v=f?"class":"style";Ug(a,d,l.inputs[v],v,h)}function rb(a,l,d,h){const f=ge(),m=ln(),v=Pn+a,C=f[en],E=m.firstCreatePass?function AN(a,l,d,h,f,m){const v=l.consts,E=Ku(l,a,2,h,oo(v,f));return zv(l,d,E,oo(v,m)),null!==E.attrs&&Hg(E,E.attrs,!1),null!==E.mergedAttrs&&Hg(E,E.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,E),E}(v,m,f,l,d,h):m.data[v],T=f[v]=Cl(C,l,function Gm(){return $t.lFrame.currentNamespace}()),O=Kc(E);return so(E,!0),Uu(C,T,E),32!=(32&E.flags)&&Uf(m,f,T,E),0===function sl(){return $t.lFrame.elementDepthCount}()&&Kn(T,f),function yf(){$t.lFrame.elementDepthCount++}(),O&&(yc(m,f,E),Pd(m,E,f)),null!==h&&vc(f,E),rb}function $g(){let a=Si();va()?gu():(a=a.parent,so(a,!1));const l=a;!function al(){$t.lFrame.elementDepthCount--}();const d=ln();return d.firstCreatePass&&(cl(d,a),Oo(a)&&d.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Cu(a){return 0!=(8&a.flags)}(l)&&lh(d,l,ge(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function fl(a){return 0!=(16&a.flags)}(l)&&lh(d,l,ge(),l.stylesWithoutHost,!1),$g}function _D(a,l,d,h){return rb(a,l,d,h),$g(),_D}function lp(a,l,d){const h=ge(),f=ln(),m=a+Pn,v=f.firstCreatePass?function kN(a,l,d,h,f){const m=l.consts,v=oo(m,h),C=Ku(l,a,8,"ng-container",v);return null!==v&&Hg(C,v,!0),zv(l,d,C,oo(m,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(m,f,h,l,d):f.data[m];so(v,!0);const C=h[m]=h[en].createComment("");return Uf(f,h,C,v),Kn(C,h),Kc(v)&&(yc(f,h,v),Pd(f,v,h)),null!=d&&vc(h,v),lp}function Gg(){let a=Si();const l=ln();return va()?gu():(a=a.parent,so(a,!1)),l.firstCreatePass&&(cl(l,a),Oo(a)&&l.queries.elementEnd(a)),Gg}function ob(a,l,d){return lp(a,l,d),Gg(),ob}function cp(){return ge()}function Bd(a){return!!a&&"function"==typeof a.then}function sb(a){return!!a&&"function"==typeof a.subscribe}const yD=sb;function Wg(a,l,d,h){const f=ge(),m=ln(),v=Si();return ab(m,f,f[en],v,a,l,h),Wg}function kl(a,l){const d=Si(),h=ge(),f=ln();return ab(f,h,Nd(ll(f.data),d,h),d,a,l),kl}function ab(a,l,d,h,f,m,v){const C=Kc(h),T=a.firstCreatePass&&lM(a),O=l[On],z=Qn(l);let X=!0;if(3&h.type||v){const He=Vi(h,l),et=v?v(He):He,_t=z.length,Nt=v?Ht=>v(qn(Ht[h.index])):h.index;let Ne=null;if(!v&&C&&(Ne=function vD(a,l,d,h){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===d&&f[m+1]===h){const C=l[ro],E=f[m+2];return C.length>E?C[E]:null}"string"==typeof v&&(m+=2)}return null}(a,l,f,h.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=m,Ne.__ngLastListenerFn__=m,X=!1;else{m=EM(h,l,O,m,!1);const Ht=d.listen(et,f,m);z.push(m,Ht),T&&T.push(f,Nt,_t,_t+1)}}else m=EM(h,l,O,m,!1);const re=h.outputs;let De;if(X&&null!==re&&(De=re[f])){const He=De.length;if(He)for(let et=0;et<He;et+=2){const Un=l[De[et]][De[et+1]].subscribe(m),vi=z.length;z.push(m,Un),T&&T.push(f,h.index,vi,-(vi+1))}}}function DM(a,l,d,h){try{return gr(6,l,d),!1!==d(h)}catch(f){return qv(a,f),!1}finally{gr(7,l,d)}}function EM(a,l,d,h,f){return function m(v){if(v===Function)return h;Bg(a.componentOffset>-1?Ii(a.index,l):l);let E=DM(l,d,h,v),T=m.__ngNextListenerFn__;for(;T;)E=DM(l,d,T,v)&&E,T=T.__ngNextListenerFn__;return f&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function lb(a=1){return function Wy(a){return($t.lFrame.contextLView=function bu(a,l){for(;a>0;)l=l[Ur],a--;return l}(a,$t.lFrame.contextLView))[On]}(a)}function xM(a,l){let d=null;const h=function Zu(a){const l=a.attrs;if(null!=l){const d=l.indexOf(5);if(!(1&d))return l[d+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===h?Av(a,m,!0):VC(h,m))return f}else d=f}return d}function bD(a){const l=ge()[Fi][xi];if(!l.projection){const h=l.projection=fs(a?a.length:1,null),f=h.slice();let m=l.child;for(;null!==m;){const v=a?xM(m,a):0;null!==v&&(f[v]?f[v].projectionNext=m:h[v]=m,f[v]=m),m=m.next}}}function wD(a,l=0,d){const h=ge(),f=ln(),m=Ku(f,Pn+a,16,null,d||null);null===m.projection&&(m.projection=l),gu(),32!=(32&m.flags)&&function Bu(a,l,d){aC(l[en],0,l,d,cg(a,d,l),Lu(d.parent||l[xi],d,l))}(f,h,m)}function ch(a,l){return a<<17|l<<2}function Ha(a){return a>>17&32767}function cb(a){return 2|a}function Hd(a){return(131068&a)>>2}function db(a,l){return-131069&a|l<<2}function ID(a){return 1|a}function hp(a,l,d,h,f){const m=a[d+1],v=null===l;let C=h?Ha(m):Hd(m),E=!1;for(;0!==C&&(!1===E||v);){const O=a[C+1];qg(a[C],l)&&(E=!0,a[C+1]=h?ID(O):cb(O)),C=h?Ha(O):Hd(O)}E&&(a[d+1]=h?cb(m):ID(m))}function qg(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Do(a,l)>=0}function TD(a,l,d){return ja(a,l,d,!1),TD}function MD(a,l){return ja(a,l,null,!0),MD}function ja(a,l,d,h){const f=ge(),m=ln(),v=ls(2);m.firstUpdatePass&&function FM(a,l,d,h){const f=a.data;if(null===f[d+1]){const m=f[_r()],v=function PM(a,l){return l>=a.expandoStartIndex}(a,d);(function BM(a,l){return 0!=(a.flags&(l?8:16))})(m,h)&&null===l&&!v&&(l=!1),l=function UN(a,l,d,h){const f=ll(a);let m=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(d=Yg(d=AD(null,a,l,d,h),l.attrs,h),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(d=AD(f,a,l,d,h),null===m){let E=function HN(a,l,d){const h=d?l.classBindings:l.styleBindings;if(0!==Hd(h))return a[Ha(h)]}(a,l,h);void 0!==E&&Array.isArray(E)&&(E=AD(null,a,l,E[1],h),E=Yg(E,l.attrs,h),function zN(a,l,d,h){a[Ha(d?l.classBindings:l.styleBindings)]=h}(a,l,h,E))}else m=function jN(a,l,d){let h;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)h=Yg(h,a[m].hostAttrs,d);return Yg(h,l.attrs,d)}(a,l,h)}return void 0!==m&&(h?l.residualClasses=m:l.residualStyles=m),d}(f,m,l,h),function dp(a,l,d,h,f,m){let v=m?l.classBindings:l.styleBindings,C=Ha(v),E=Hd(v);a[h]=d;let O,T=!1;if(Array.isArray(d)?(O=d[1],(null===O||Do(d,O)>0)&&(T=!0)):O=d,f)if(0!==E){const X=Ha(a[C+1]);a[h+1]=ch(X,C),0!==X&&(a[X+1]=db(a[X+1],h)),a[C+1]=function qs(a,l){return 131071&a|l<<17}(a[C+1],h)}else a[h+1]=ch(C,0),0!==C&&(a[C+1]=db(a[C+1],h)),C=h;else a[h+1]=ch(E,0),0===C?C=h:a[E+1]=db(a[E+1],h),E=h;T&&(a[h+1]=cb(a[h+1])),hp(a,O,h,!0),hp(a,O,h,!1),function up(a,l,d,h,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&Do(m,l)>=0&&(d[h+1]=ID(d[h+1]))}(l,O,a,h,m),v=ch(C,E),m?l.classBindings=v:l.styleBindings=v}(f,m,l,d,v,h)}}(m,a,v,h),l!==Xt&&lo(f,v,l)&&function LM(a,l,d,h,f,m,v,C){if(!(3&l.type))return;const E=a.data,T=E[C+1],O=function ON(a){return 1==(1&a)}(T)?VM(E,l,d,f,Hd(T),v):void 0;ub(O)||(ub(m)||function RN(a){return 2==(2&a)}(T)&&(m=VM(E,null,d,f,C,v)),function nT(a,l,d,h,f){if(l)f?a.addClass(d,h):a.removeClass(d,h);else{let m=-1===h.indexOf("-")?void 0:jo.DashCase;null==f?a.removeStyle(d,h,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=jo.Important),a.setStyle(d,h,f,m))}}(h,v,as(_r(),d),f,m))}(m,m.data[_r()],f,f[en],a,f[v+1]=function WN(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=he(El(a)))),a}(l,d),h,v)}function AD(a,l,d,h,f){let m=null;const v=d.directiveEnd;let C=d.directiveStylingLast;for(-1===C?C=d.directiveStart:C++;C<v&&(m=l[C],h=Yg(h,m.hostAttrs,f),m!==a);)C++;return null!==a&&(d.directiveStylingLast=C),h}function Yg(a,l,d){const h=d?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Pr(a,v,!!d||l[++m]))}return void 0===a?null:a}function VM(a,l,d,h,f,m){const v=null===l;let C;for(;f>0;){const E=a[f],T=Array.isArray(E),O=T?E[1]:E,z=null===O;let X=d[f+1];X===Xt&&(X=z?Ke:void 0);let re=z?bl(X,h):O===h?X:void 0;if(T&&!ub(re)&&(re=bl(E,h)),ub(re)&&(C=re,v))return C;const De=a[f+1];f=v?Ha(De):Hd(De)}if(null!==l){let E=m?l.residualClasses:l.residualStyles;null!=E&&(C=bl(E,h))}return C}function ub(a){return void 0!==a}function UM(a,l=""){const d=ge(),h=ln(),f=a+Pn,m=h.firstCreatePass?Ku(h,f,1,l,null):h.data[f],v=d[f]=function mc(a,l){return a.createText(l)}(d[en],l);Uf(h,d,v,m),so(m,!1)}function kD(a){return hb("",a,""),kD}function hb(a,l,d){const h=ge(),f=function Ws(a,l,d,h){return lo(a,No(),d)?l+xe(d)+h:Xt}(h,a,l,d);return f!==Xt&&Zo(h,_r(),f),hb}function RD(a,l,d,h,f){const m=ge(),v=Dc(m,a,l,d,h,f);return v!==Xt&&Zo(m,_r(),v),RD}function FD(a,l,d){const h=ge();return lo(h,No(),l)&&Yo(ln(),Dn(),h,a,l,h[en],d,!0),FD}function ND(a,l,d){const h=ge();if(lo(h,No(),l)){const m=ln(),v=Dn();Yo(m,v,h,a,l,Nd(ll(m.data),v,h),d,!0)}return ND}const hh=void 0;var hL=["en",[["a","p"],["AM","PM"],hh],[["AM","PM"],hh,hh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hh,"{1} 'at' {0}",hh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uL(a){const d=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let fp={};function LD(a){const l=function fL(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=nA(l);if(d)return d;const h=l.split("-")[0];if(d=nA(h),d)return d;if("en"===h)return hL;throw new _e(701,!1)}function tA(a){return LD(a)[Ft.PluralCase]}function nA(a){return a in fp||(fp[a]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[a]),fp[a]}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const pp="en-US";let iA=pp;function Ip(a,l,d,h,f){if(a=ee(a),Array.isArray(a))for(let m=0;m<a.length;m++)Ip(a[m],l,d,h,f);else{const m=ln(),v=ge();let C=Ad(a)?a:ee(a.provide),E=SC(a);const T=Si(),O=1048575&T.providerIndexes,z=T.directiveStart,X=T.providerIndexes>>20;if(Ad(a)||!a.multi){const re=new Ps(E,f,Jf),De=Db(C,l,f?O:O+X,z);-1===De?(ac(ds(T,v),m,C),Xg(m,a,l.length),l.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),d.push(re),v.push(re)):(d[De]=re,v[De]=re)}else{const re=Db(C,l,O+X,z),De=Db(C,l,O,O+X),et=De>=0&&d[De];if(f&&!et||!f&&!(re>=0&&d[re])){ac(ds(T,v),m,C);const _t=function sE(a,l,d,h,f){const m=new Ps(a,d,Jf);return m.multi=[],m.index=l,m.componentProviders=0,oE(m,f,h&&!d),m}(f?TA:SA,d.length,f,h,E);!f&&et&&(d[De].providerFactory=_t),Xg(m,a,l.length,0),l.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),d.push(_t),v.push(_t)}else Xg(m,a,re>-1?re:De,oE(d[f?De:re],E,!f&&h));!f&&h&&et&&d[De].componentProviders++}}}function Xg(a,l,d,h){const f=Ad(l),m=function bT(a){return!!a.useClass}(l);if(f||m){const E=(m?ee(l.useClass):l).prototype.ngOnDestroy;if(E){const T=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const O=T.indexOf(d);-1===O?T.push(d,[h,E]):T[O+1].push(h,E)}else T.push(d,E)}}}function oE(a,l,d){return d&&a.componentProviders++,a.multi.push(l)-1}function Db(a,l,d,h){for(let f=d;f<h;f++)if(l[f]===a)return f;return-1}function SA(a,l,d,h){return Eb(this.multi,[])}function TA(a,l,d,h){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Co(d,d[st],this.providerFactory.index,h);m=C.slice(0,v),Eb(f,m);for(let E=v;E<C.length;E++)m.push(C[E])}else m=[],Eb(f,m);return m}function Eb(a,l){for(let d=0;d<a.length;d++)l.push((0,a[d])());return l}function Jg(a,l=[]){return d=>{d.providersResolver=(h,f)=>function rE(a,l,d){const h=ln();if(h.firstCreatePass){const f=Li(a);Ip(d,h.data,h.blueprint,f,!0),Ip(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class mh{}class xb{}function TL(a,l){return new MA(a,l??null)}class MA extends mh{constructor(l,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yv(this);const h=fr(l);this._bootstrapComponents=Tl(h.bootstrap),this._r3Injector=So(l,d,[{provide:mh,useValue:this},{provide:Yf,useValue:this.componentFactoryResolver}],he(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class aE extends xb{constructor(l){super(),this.moduleType=l}create(l){return new MA(this.moduleType,l)}}class ML extends mh{constructor(l,d,h){super(),this.componentFactoryResolver=new Yv(this),this.instance=null;const f=new IC([...l,{provide:mh,useValue:this},{provide:Yf,useValue:this.componentFactoryResolver}],d||Il(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function lE(a,l,d=null){return new ML(a,l,d).injector}let AL=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const h=$u(0,d.type),f=h.length>0?lE([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,f)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=at({token:a,providedIn:"environment",factory:()=>new a(je(kd))}),a})();function AA(a){a.getStandaloneInjector=l=>l.get(AL).getOrCreateStandaloneInjector(a)}function Dr(a,l,d){const h=Xi()+a,f=ge();return f[h]===Xt?bs(f,h,d?l.call(d):l()):function zg(a,l){return a[l]}(f,h)}function Sc(a,l,d,h){return function BA(a,l,d,h,f,m){const v=l+d;return lo(a,v,f)?bs(a,v+1,m?h.call(m,f):h(f)):function i_(a,l){const d=a[l];return d===Xt?void 0:d}(a,v+1)}(ge(),Xi(),a,l,d,h)}function _h(a){return l=>{setTimeout(a,void 0,l)}}const Pl=class Ol extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,d,h){let f=l,m=d||(()=>null),v=h;if(l&&"object"==typeof l){const E=l;f=E.next?.bind(E),m=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(m=_h(m),f&&(f=_h(f)),v&&(v=_h(v)));const C=super.subscribe({next:f,error:m,complete:v});return l instanceof $.w0&&l.add(C),C}};function jA(){return this._results[Symbol.iterator]()}class Ab{get changes(){return this._changes||(this._changes=new Pl)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Ab.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=jA)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){const h=this;h.dirty=!1;const f=function sr(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function Xm(a,l,d){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],m=l[h];if(d&&(f=d(f),m=d(m)),m!==f)return!1}return!0}(h._results,f,d))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let r_=(()=>{class a{}return a.__NG_ELEMENT_ID__=VL,a})();const NL=r_,LL=class extends NL{constructor(l,d,h){super(),this._declarationLView=l,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(l,d){const h=this._declarationTContainer.tViews,f=Rg(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,d||null);f[$l]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[pr];return null!==v&&(f[pr]=v.createEmbeddedView(h)),Og(h,f,l),new bc(f)}};function VL(){return kb(Si(),ge())}function kb(a,l){return 4&a.type?new LL(l,a,Sl(a,l)):null}let Rb=(()=>{class a{}return a.__NG_ELEMENT_ID__=BL,a})();function BL(){return Ob(Si(),ge())}const UL=Rb,$A=class extends UL{constructor(l,d,h){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=h}get element(){return Sl(this._hostTNode,this._hostLView)}get injector(){return new hs(this._hostTNode,this._hostLView)}get parentInjector(){const l=sc(this._hostTNode,this._hostLView);if(ad(l)){const d=Ls(l,this._hostLView),h=Ia(l);return new hs(d[st].data[h+8],d)}return new hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=GA(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-Ni}createEmbeddedView(l,d,h){let f,m;"number"==typeof h?f=h:null!=h&&(f=h.index,m=h.injector);const v=l.createEmbeddedView(d||{},m);return this.insert(v,f),v}createComponent(l,d,h,f,m){const v=l&&!function vl(a){return"function"==typeof a}(l);let C;if(v)C=d;else{const z=d||{};C=z.index,h=z.injector,f=z.projectableNodes,m=z.environmentInjector||z.ngModuleRef}const E=v?l:new np(hn(l)),T=h||this.parentInjector;if(!m&&null==E.ngModule){const X=(v?T:this.parentInjector).get(kd,null);X&&(m=X)}const O=E.create(T,f,void 0,m);return this.insert(O.hostView,C),O}insert(l,d){const h=l._lView,f=h[st];if(function gf(a){return Or(a[jn])}(h)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const z=h[jn],X=new $A(z,z[xi],z[jn]);X.detach(X.indexOf(l))}}const m=this._adjustIndex(d),v=this._lContainer;!function Xy(a,l,d,h){const f=Ni+h,m=d.length;h>0&&(d[f-1][Qi]=l),h<m-Ni?(l[Qi]=d[f],pd(d,Ni+h,l)):(d.push(l),l[Qi]=null),l[jn]=d;const v=l[$l];null!==v&&d!==v&&function Lf(a,l){const d=a[Hr];l[Fi]!==l[jn][jn][Fi]&&(a[Gl]=!0),null===d?a[Hr]=[l]:d.push(l)}(v,l);const C=l[pr];null!==C&&C.insertView(a),l[Ot]|=64}(f,h,v,m);const C=nv(m,v),E=h[en],T=Bf(E,v[Wl]);return null!==T&&function Nf(a,l,d,h,f,m){h[Ar]=f,h[xi]=l,Ed(a,h,d,1,f,m)}(f,v[xi],E,h,T,C),l.attachToViewContainerRef(),pd(yE(v),m,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=GA(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),h=Jy(this._lContainer,d);h&&(ka(yE(this._lContainer),d),oC(h[st],h))}detach(l){const d=this._adjustIndex(l,-1),h=Jy(this._lContainer,d);return h&&null!=ka(yE(this._lContainer),d)?new bc(h):null}_adjustIndex(l,d=0){return l??this.length+d}};function GA(a){return a[Ro]}function yE(a){return a[Ro]||(a[Ro]=[])}function Ob(a,l){let d;const h=l[a.index];if(Or(h))d=h;else{let f;if(8&a.type)f=qn(h);else{const m=l[en];f=m.createComment("");const v=Vi(a,l);Cd(m,Bf(m,v),f,function tT(a,l){return a.nextSibling(l)}(m,v),!1)}l[a.index]=d=lD(h,l,f,a),Vg(l,d)}return new $A(d,a,l)}class o_{constructor(l){this.queryList=l,this.matches=null}clone(){return new o_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pb{constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const h=null!==l.contentQueries?l.contentQueries[0]:d.length,f=[];for(let m=0;m<h;m++){const v=d.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new Pb(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==l_(l,d).matches&&this.queries[d].setDirty()}}class $a{constructor(l,d,h=null){this.predicate=l,this.flags=d,this.read=h}}class ws{constructor(l=[]){this.queries=l}elementStart(l,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let h=0;h<this.length;h++){const f=null!==d?d.length:0,m=this.getByIndex(h).embeddedTView(l,f);m&&(m.indexInDeclarationView=h,null!==d?d.push(m):d=[m])}return null!==d?new ws(d):null}template(l,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Er{constructor(l,d=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new Er(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(l,d,vE(d,m)),this.matchTNodeWithReadOption(l,d,us(d,l,m,!1,!1))}else h===r_?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,us(d,l,h,!1,!1))}matchTNodeWithReadOption(l,d,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===qu||f===Rb||f===r_&&4&d.type)this.addMatch(d.index,-2);else{const m=us(d,l,f,!1,!1);null!==m&&this.addMatch(d.index,m)}else this.addMatch(d.index,h)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function vE(a,l){const d=a.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===l)return d[h+1];return null}function Bn(a,l,d,h){return-1===d?function bE(a,l){return 11&a.type?Sl(a,l):4&a.type?kb(a,l):null}(l,a):-2===d?function Cs(a,l,d){return d===qu?Sl(l,a):d===r_?kb(l,a):d===Rb?Ob(l,a):void 0}(a,l,h):Co(a,a[st],d,l)}function Fb(a,l,d,h){const f=l[pr].queries[h];if(null===f.matches){const m=a.data,v=d.matches,C=[];for(let E=0;E<v.length;E+=2){const T=v[E];C.push(T<0?null:Bn(l,m[T],v[E+1],d.metadata.read))}f.matches=C}return f.matches}function ar(a,l,d,h){const f=a.queries.getByIndex(d),m=f.matches;if(null!==m){const v=Fb(a,l,f,d);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)h.push(v[C/2]);else{const T=m[C+1],O=l[-E];for(let z=Ni;z<O.length;z++){const X=O[z];X[$l]===X[jn]&&ar(X[st],X,T,h)}if(null!==O[Hr]){const z=O[Hr];for(let X=0;X<z.length;X++){const re=z[X];ar(re[st],re,T,h)}}}}}return h}function WA(a){const l=ge(),d=ln(),h=Df();rd(h+1);const f=l_(d,h);if(a.dirty&&function Jl(a){return 4==(4&a[Ot])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?ar(d,l,h,[]):Fb(d,l,f,h);a.reset(m,MC),a.notifyOnChanges()}return!0}return!1}function s_(a,l,d){const h=ln();h.firstCreatePass&&(yh(h,new $a(a,l,d),-1),2==(2&l)&&(h.staticViewQueries=!0)),Nb(h,ge(),l)}function qA(a,l,d,h){const f=ln();if(f.firstCreatePass){const m=Si();yh(f,new $a(l,d,h),m.index),function wE(a,l){const d=a.contentQueries||(a.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,l)}(f,a),2==(2&d)&&(f.staticContentQueries=!0)}Nb(f,ge(),d)}function a_(){return function HL(a,l){return a[pr].queries[l].queryList}(ge(),Df())}function Nb(a,l,d){const h=new Ab(4==(4&d));$i(a,l,h,h.destroy),null===l[pr]&&(l[pr]=new Pb),l[pr].queries.push(new o_(h))}function yh(a,l,d){null===a.queries&&(a.queries=new ws),a.queries.track(new Er(l,d))}function l_(a,l){return a.queries.getByIndex(l)}function CE(a,l){return kb(a,l)}function c_(a){return!!fr(a)}function Rp(...a){}const OE=new wn("Application Initializer");let Yd=(()=>{class a{constructor(d){this.appInits=d,this.resolve=Rp,this.reject=Rp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Bd(m))d.push(m);else if(yD(m)){const v=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});d.push(v)}}Promise.all(d).then(()=>{h()}).catch(f=>{this.reject(f)}),0===d.length&&h(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(je(OE,8))},a.\u0275prov=at({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const zb=new wn("AppId",{providedIn:"root",factory:function f_(){return`${Ds()}${Ds()}${Ds()}`}});function Ds(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const p_=new wn("Platform Initializer"),ok=new wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),PE=new wn("appBootstrapListener"),FE=new wn("AnimationModuleType");let $b=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=at({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const m_=new wn("LocaleId",{providedIn:"root",factory:()=>rt(m_,lt.Optional|lt.SkipSelf)||function NE(){return typeof $localize<"u"&&$localize.locale||pp}()}),LE=new wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Wb{constructor(l,d){this.ngModuleFactory=l,this.componentFactories=d}}let sk=(()=>{class a{compileModuleSync(d){return new aE(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),m=Tl(fr(d).declarations).reduce((v,C)=>{const E=hn(C);return E&&v.push(new np(E)),v},[]);return new Wb(h,m)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=at({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const lk=(()=>Promise.resolve(0))();function qb(a){typeof Zone>"u"?lk.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ko{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pl(!1),this.onMicrotaskEmpty=new Pl(!1),this.onStable=new Pl(!1),this.onError=new Pl(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&d,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function g_(){let a=Bt.requestAnimationFrame,l=Bt.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Yb(a){const l=()=>{!function y_(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Bt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Pp(a),a.isCheckStableRunning=!0,__(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Pp(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,f,m,v,C)=>{try{return v_(a),d.invokeTask(f,m,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),b_(a)}},onInvoke:(d,h,f,m,v,C,E)=>{try{return v_(a),d.invoke(f,m,v,C,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),b_(a)}},onHasTask:(d,h,f,m)=>{d.hasTask(f,m),h===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Pp(a),__(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(d,h,f,m)=>(d.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ko.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(Ko.isInAngularZone())throw new _e(909,!1)}run(l,d,h){return this._inner.run(l,d,h)}runTask(l,d,h,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,$E,Rp,Rp);try{return m.runTask(v,d,h)}finally{m.cancelTask(v)}}runGuarded(l,d,h){return this._inner.runGuarded(l,d,h)}runOutsideAngular(l){return this._outer.run(l)}}const $E={};function __(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Pp(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function v_(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function b_(a){a._nesting--,__(a)}class GE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pl,this.onMicrotaskEmpty=new Pl,this.onStable=new Pl,this.onError=new Pl}run(l,d,h){return l.apply(d,h)}runGuarded(l,d,h){return l.apply(d,h)}runOutsideAngular(l){return l()}runTask(l,d,h,f){return l.apply(d,h)}}const Zb=new wn(""),WE=new wn("");let w_,qE=(()=>{class a{constructor(d,h,f){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,w_||(function Qb(a){w_=a}(f),f.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ko.assertNotInAngularZone(),qb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qb(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:m,updateCb:f})}whenStable(d,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,f){return[]}}return a.\u0275fac=function(d){return new(d||a)(je(Ko),je(Kb),je(WE))},a.\u0275prov=at({token:a,factory:a.\u0275fac}),a})(),Kb=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return w_?.findTestabilityInTree(this,d,h)??null}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=at({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Ac=null;const C_=new wn("AllowMultipleToken"),Fp=new wn("PlatformDestroyListeners"),Xs=!1;class Xb{constructor(l,d){this.name=l,this.token=d}}function YE(a,l,d=[]){const h=`Platform: ${l}`,f=new wn(h);return(m=[])=>{let v=Np();if(!v||v.injector.get(C_,!1)){const C=[...d,...m,{provide:f,useValue:!0}];a?a(C):function ck(a){if(Ac&&!Ac.get(C_,!1))throw new _e(400,!1);Ac=a;const l=a.get(e0);(function Jb(a){const l=a.get(p_,null);l&&l.forEach(d=>d())})(a)}(function E_(a=[],l){return Od.create({name:l,providers:[{provide:xC,useValue:"platform"},{provide:Fp,useValue:new Set([()=>Ac=null])},...a]})}(C,h))}return function ZE(a){const l=Np();if(!l)throw new _e(401,!1);return l}()}}function Np(){return Ac?.get(e0)??null}let e0=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const f=function Lp(a,l){let d;return d="noop"===a?new GE:("zone.js"===a?void 0:a)||new Ko(l),d}(h?.ngZone,function KE(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:Ko,useValue:f}];return f.run(()=>{const v=Od.create({providers:m,parent:this.injector,name:d.moduleType.name}),C=d.create(v),E=C.injector.get(Yu,null);if(!E)throw new _e(402,!1);return f.runOutsideAngular(()=>{const T=f.onError.subscribe({next:O=>{E.handleError(O)}});C.onDestroy(()=>{S_(this._modules,C),T.unsubscribe()})}),function x_(a,l,d){try{const h=d();return Bd(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(E,f,()=>{const T=C.injector.get(Yd);return T.runInitializers(),T.donePromise.then(()=>(function rA(a){it(a,"Expected localeId to be defined"),"string"==typeof a&&(iA=a.toLowerCase().replace(/_/g,"-"))}(C.injector.get(m_,pp)||pp),this._moduleDoBootstrap(C),C))})})}bootstrapModule(d,h=[]){const f=I_({},h);return function Ir(a,l,d){const h=new aE(d);return Promise.resolve(h)}(0,0,d).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(d){const h=d.injector.get(Vp);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!d.instance.ngDoBootstrap)throw new _e(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(Fp,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(je(Od))},a.\u0275prov=at({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function I_(a,l){return Array.isArray(l)?l.reduce(I_,a):{...a,...l}}let Vp=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,h,f){this._zone=d,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new F.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new F.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Ko.assertNotInAngularZone(),qb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Ko.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});this.isStable=(0,oe.T)(m,v.pipe((0,le.B)()))}bootstrap(d,h){const f=d instanceof Dv;if(!this._injector.get(Yd).done){!f&&ri(d);throw new _e(405,Xs)}let v;v=f?d:this._injector.get(Yf).resolveComponentFactory(d),this.componentTypes.push(v.componentType);const C=function D_(a){return a.isBoundToModule}(v)?void 0:this._injector.get(mh),T=v.create(Od.NULL,[],h||v.selector,C),O=T.location.nativeElement,z=T.injector.get(Zb,null);return z?.registerApplication(O),T.onDestroy(()=>{this.detachView(T.hostView),S_(this.components,T),z?.unregisterApplication(O)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;S_(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get(PE,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>S_(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new _e(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(d){return new(d||a)(je(Ko),je(kd),je(Yu))},a.\u0275prov=at({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function S_(a,l){const d=a.indexOf(l);d>-1&&a.splice(d,1)}function XE(){return!1}let Eh=(()=>{class a{}return a.__NG_ELEMENT_ID__=hk,a})();function hk(a){return function fk(a,l,d){if(el(a)&&!d){const h=Ii(a.index,l);return new bc(h,h)}return 47&a.type?new bc(l[Fi],l):null}(Si(),ge(),16==(16&a))}class O_{constructor(){}supports(l){return eb(l)}create(l){return new o0(l)}}const P_=(a,l)=>l;class o0{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||P_}forEachItem(l){let d;for(d=this._itHead;null!==d;d=d._next)l(d)}forEachOperation(l){let d=this._itHead,h=this._removalsHead,f=0,m=null;for(;d||h;){const v=!h||d&&d.currentIndex<rx(h,f,m)?d:h,C=rx(v,f,m),E=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(d=d._next,null==v.previousIndex)f++;else{m||(m=[]);const T=C-f,O=E-f;if(T!=O){for(let X=0;X<T;X++){const re=X<m.length?m[X]:m[X]=0,De=re+X;O<=De&&De<T&&(m[X]=re+1)}m[v.previousIndex]=O-T}}C!==E&&l(v,C,E)}}forEachPreviousItem(l){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachMovedItem(l){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}forEachIdentityChange(l){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)l(d)}diff(l){if(null==l&&(l=[]),!eb(l))throw new _e(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,d=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)m=l[C],v=this._trackByFn(C,m),null!==d&&Object.is(d.trackById,v)?(h&&(d=this._verifyReinsertion(d,m,v,C)),Object.is(d.item,m)||this._addIdentityChange(d,m)):(d=this._mismatch(d,m,v,C),h=!0),d=d._next}else f=0,function MN(a,l){if(Array.isArray(a))for(let d=0;d<a.length;d++)l(a[d]);else{const d=a[Symbol.iterator]();let h;for(;!(h=d.next()).done;)l(h.value)}}(l,C=>{v=this._trackByFn(f,C),null!==d&&Object.is(d.trackById,v)?(h&&(d=this._verifyReinsertion(d,C,v,f)),Object.is(d.item,C)||this._addIdentityChange(d,C)):(d=this._mismatch(d,C,v,f),h=!0),d=d._next,f++}),this.length=f;return this._truncate(d),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,d,h,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._moveAfter(l,m,f)):l=this._addAfter(new nx(d,h),m,f),l}_verifyReinsertion(l,d,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const d=l._next;this._addToRemovals(this._unlink(l)),l=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,d,h),this._addToMoves(l,h),l}_moveAfter(l,d,h){return this._unlink(l),this._insertAfter(l,d,h),this._addToMoves(l,h),l}_addAfter(l,d,h){return this._insertAfter(l,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,d,h){const f=null===d?this._itHead:d._next;return l._next=f,l._prev=d,null===f?this._itTail=l:f._prev=l,null===d?this._itHead=l:d._next=l,null===this._linkedRecords&&(this._linkedRecords=new s0),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const d=l._prev,h=l._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,l}_addToMoves(l,d){return l.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new s0),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,d){return l.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class nx{constructor(l,d){this.item=l,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ix{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const d=l._prevDup,h=l._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class s0{constructor(){this.map=new Map}put(l){const d=l.trackById;let h=this.map.get(d);h||(h=new ix,this.map.set(d,h)),h.add(l)}get(l,d){const f=this.map.get(l);return f?f.get(l,d):null}remove(l){const d=l.trackById;return this.map.get(d).remove(l)&&this.map.delete(d),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rx(a,l,d){const h=a.previousIndex;if(null===h)return h;let f=0;return d&&h<d.length&&(f=d[h]),h+l+f}class Sh{constructor(){}supports(l){return l instanceof Map||uD(l)}create(){return new ox}}class ox{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let d;for(d=this._mapHead;null!==d;d=d._next)l(d)}forEachPreviousItem(l){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)l(d)}forEachChangedItem(l){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}diff(l){if(l){if(!(l instanceof Map||uD(l)))throw new _e(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(d&&d.key===f)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const m=this._getOrCreateRecordForKey(f,h);d=this._insertBeforeOrAppend(d,m)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,d){if(l){const h=l._prev;return d._next=l,d._prev=h,l._prev=d,h&&(h._next=d),l===this._mapHead&&(this._mapHead=d),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(l,d){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,d);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const h=new F_(l);return this._records.set(l,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,d){Object.is(d,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=d,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,d){l instanceof Map?l.forEach(d):Object.keys(l).forEach(h=>d(l[h],h))}}class F_{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Th(){return new Nl([new O_])}let Nl=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(null!=h){const f=h.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||Th()),deps:[[a,new I,new Hs]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(null!=h)return h;throw new _e(901,!1)}}return a.\u0275prov=at({token:a,providedIn:"root",factory:Th}),a})();function ax(){return new a0([new Sh])}let a0=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(h){const f=h.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||ax()),deps:[[a,new I,new Hs]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(h)return h;throw new _e(901,!1)}}return a.\u0275prov=at({token:a,providedIn:"root",factory:ax}),a})();const Ll=YE(null,"core",[]);let N_=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(je(Vp))},a.\u0275mod=ca({type:a}),a.\u0275inj=Gn({}),a})();function L_(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(bt,Ie,U)=>{U.d(Ie,{Z:()=>qe});var s=U(2090),$=U(4859),F=U(9681),oe=U(1877);class le{constructor(_e,Se){this._delegate=_e,this.firebase=Se,(0,F._addComponent)(_e,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(_e,Se=F._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const Re=this._delegate.container.getProvider(_e);return!Re.isInitialized()&&"EXPLICIT"===(null===(xe=Re.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&Re.initialize(),Re.getImmediate({identifier:Se})}_removeServiceInstance(_e,Se=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(Se)}_addComponent(_e){(0,F._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,F._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function me(){const dt=function he(dt){const _e={},Se={__esModule:!0,initializeApp:function ke(ne,de={}){const be=F.initializeApp(ne,de);if((0,s.r3)(_e,be.name))return _e[be.name];const Ye=new dt(be,Se);return _e[be.name]=Ye,Ye},app:Re,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Te(ne){const de=ne.name,be=de.replace("-compat","");if(F._registerComponent(ne)&&"PUBLIC"===ne.type){const Ye=($e=Re())=>{if("function"!=typeof $e[be])throw ve.create("invalid-app-argument",{appName:de});return $e[be]()};void 0!==ne.serviceProps&&(0,s.ZB)(Ye,ne.serviceProps),Se[be]=Ye,dt.prototype[be]=function(...$e){return this._getService.bind(this,de).apply(this,ne.multipleInstances?$e:[])}}return"PUBLIC"===ne.type?Se[be]:null},removeApp:function xe(ne){delete _e[ne]},useAsService:function Ge(ne,de){return"serverAuth"===de?null:de},modularAPIs:F}};function Re(ne){if(!(0,s.r3)(_e,ne=ne||F._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:ne});return _e[ne]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Pe(){return Object.keys(_e).map(ne=>_e[ne])}}),Re.App=dt,Se}(le);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function _e(Se){(0,s.ZB)(dt,Se)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),dt}(),Z=new oe.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=Y;!function Ae(dt){(0,F.registerVersion)("@firebase/app-compat","0.2.4",dt)}()},9681:(bt,Ie,U)=>{U.r(Ie),U.d(Ie,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>Ve,_addComponent:()=>mn,_addOrOverwriteComponent:()=>xt,_apps:()=>it,_clearComponents:()=>Gn,_components:()=>Xe,_getProvider:()=>at,_registerComponent:()=>Dt,_removeServiceInstance:()=>cn,deleteApp:()=>Vr,getApp:()=>ei,getApps:()=>Mr,initializeApp:()=>no,onLog:()=>lt,registerVersion:()=>ki,setLogLevel:()=>Yi});var s=U(5861),$=U(4859),F=U(1877),oe=U(2090),le=U(8766);class J{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function ve(je){return"VERSION"===je.getComponent()?.type}(rt)){const It=rt.getImmediate();return`${It.library}/${It.version}`}return null}).filter(rt=>rt).join(" ")}}const he="@firebase/app",Y=new F.Yd("@firebase/app"),Ve="[DEFAULT]",Be={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},it=new Map,Xe=new Map;function mn(je,Ee){try{je.container.addComponent(Ee)}catch(rt){Y.debug(`Component ${Ee.name} failed to register with FirebaseApp ${je.name}`,rt)}}function xt(je,Ee){je.container.addOrOverwriteComponent(Ee)}function Dt(je){const Ee=je.name;if(Xe.has(Ee))return Y.debug(`There were multiple attempts to register component ${Ee}.`),!1;Xe.set(Ee,je);for(const rt of it.values())mn(rt,je);return!0}function at(je,Ee){const rt=je.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),je.container.getProvider(Ee)}function cn(je,Ee,rt=Ve){at(je,Ee).clearInstance(rt)}function Gn(){Xe.clear()}const gn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Di{constructor(Ee,rt,It){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}const rr="9.17.2";function no(je,Ee={}){let rt=je;"object"!=typeof Ee&&(Ee={name:Ee});const It=Object.assign({name:Ve,automaticDataCollectionEnabled:!1},Ee),Rt=It.name;if("string"!=typeof Rt||!Rt)throw gn.create("bad-app-name",{appName:String(Rt)});if(rt||(rt=(0,oe.aH)()),!rt)throw gn.create("no-options");const sn=it.get(Rt);if(sn){if((0,oe.vZ)(rt,sn.options)&&(0,oe.vZ)(It,sn.config))return sn;throw gn.create("duplicate-app",{appName:Rt})}const ii=new $.H0(Rt);for(const W of Xe.values())ii.addComponent(W);const q=new Di(rt,It,ii);return it.set(Rt,q),q}function ei(je=Ve){const Ee=it.get(je);if(!Ee&&je===Ve)return no();if(!Ee)throw gn.create("no-app",{appName:je});return Ee}function Mr(){return Array.from(it.values())}function Vr(je){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,s.Z)(function*(je){const Ee=je.name;it.has(Ee)&&(it.delete(Ee),yield Promise.all(je.container.getProviders().map(rt=>rt.delete())),je.isDeleted=!0)})).apply(this,arguments)}function ki(je,Ee,rt){var It;let Rt=null!==(It=Be[je])&&void 0!==It?It:je;rt&&(Rt+=`-${rt}`);const sn=Rt.match(/\s|\//),ii=Ee.match(/\s|\//);if(sn||ii){const q=[`Unable to register library "${Rt}" with version "${Ee}":`];return sn&&q.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),sn&&ii&&q.push("and"),ii&&q.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void Y.warn(q.join(" "))}Dt(new $.wA(`${Rt}-version`,()=>({library:Rt,version:Ee}),"VERSION"))}function lt(je,Ee){if(null!==je&&"function"!=typeof je)throw gn.create("invalid-log-argument");(0,F.Am)(je,Ee)}function Yi(je){(0,F.Ub)(je)}const Zi="firebase-heartbeat-database",ui=1,ti="firebase-heartbeat-store";let ur=null;function Bt(){return ur||(ur=(0,le.X3)(Zi,ui,{upgrade:(je,Ee)=>{0===Ee&&je.createObjectStore(ti)}}).catch(je=>{throw gn.create("idb-open",{originalErrorMessage:je.message})})),ur}function Pt(){return(Pt=(0,s.Z)(function*(je){try{return(yield Bt()).transaction(ti).objectStore(ti).get(hi(je))}catch(Ee){if(Ee instanceof oe.ZR)Y.warn(Ee.message);else{const rt=gn.create("idb-get",{originalErrorMessage:Ee?.message});Y.warn(rt.message)}}})).apply(this,arguments)}function Rn(je,Ee){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(je,Ee){try{const It=(yield Bt()).transaction(ti,"readwrite");return yield It.objectStore(ti).put(Ee,hi(je)),It.done}catch(rt){if(rt instanceof oe.ZR)Y.warn(rt.message);else{const It=gn.create("idb-set",{originalErrorMessage:rt?.message});Y.warn(It.message)}}})).apply(this,arguments)}function hi(je){return`${je.name}!${je.options.appId}`}class io{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new Qt(rt),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ee=this;return(0,s.Z)(function*(){const It=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=Zt();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!Ee._heartbeatsCache.heartbeats.some(sn=>sn.date===Rt))return Ee._heartbeatsCache.heartbeats.push({date:Rt,agent:It}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(sn=>{const ii=new Date(sn.date).valueOf();return Date.now()-ii<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,s.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const rt=Zt(),{heartbeatsToSend:It,unsentEntries:Rt}=function Br(je,Ee=1024){const rt=[];let It=je.slice();for(const Rt of je){const sn=rt.find(ii=>ii.agent===Rt.agent);if(sn){if(sn.dates.push(Rt.date),hr(rt)>Ee){sn.dates.pop();break}}else if(rt.push({agent:Rt.agent,dates:[Rt.date]}),hr(rt)>Ee){rt.pop();break}It=It.slice(1)}return{heartbeatsToSend:rt,unsentEntries:It}}(Ee._heartbeatsCache.heartbeats),sn=(0,oe.L)(JSON.stringify({version:2,heartbeats:It}));return Ee._heartbeatsCache.lastSentHeartbeatDate=rt,Rt.length>0?(Ee._heartbeatsCache.heartbeats=Rt,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),sn})()}}function Zt(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,s.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function wt(je){return Pt.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var rt=this;return(0,s.Z)(function*(){var It;if(yield rt._canUseIndexedDBPromise){const sn=yield rt.read();return Rn(rt.app,{lastSentHeartbeatDate:null!==(It=Ee.lastSentHeartbeatDate)&&void 0!==It?It:sn.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var rt=this;return(0,s.Z)(function*(){var It;if(yield rt._canUseIndexedDBPromise){const sn=yield rt.read();return Rn(rt.app,{lastSentHeartbeatDate:null!==(It=Ee.lastSentHeartbeatDate)&&void 0!==It?It:sn.lastSentHeartbeatDate,heartbeats:[...sn.heartbeats,...Ee.heartbeats]})}})()}}function hr(je){return(0,oe.L)(JSON.stringify({version:2,heartbeats:je})).length}!function ni(je){Dt(new $.wA("platform-logger",Ee=>new J(Ee),"PRIVATE")),Dt(new $.wA("heartbeat",Ee=>new io(Ee),"PRIVATE")),ki(he,"0.9.4",je),ki(he,"0.9.4","esm2017"),ki("fire-js","")}("")},4859:(bt,Ie,U)=>{U.d(Ie,{H0:()=>he,wA:()=>F});var s=U(5861),$=U(2090);class F{constructor(Y,Z,ee){this.name=Y,this.instanceFactory=Z,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const oe="[DEFAULT]";class le{constructor(Y,Z){this.name=Y,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const Z=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(Z)){const ee=new $.BH;if(this.instancesDeferred.set(Z,ee),this.isInitialized(Z)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:Z});ze&&ee.resolve(ze)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(Y){var Z;const ee=this.normalizeInstanceIdentifier(Y?.identifier),ze=null!==(Z=Y?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ae){if(ze)return null;throw Ae}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function ve(me){return"EAGER"===me.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[Z,ee]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(Z);try{const Ae=this.getOrInitializeService({instanceIdentifier:ze});ee.resolve(Ae)}catch{}}}}clearInstance(Y=oe){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,s.Z)(function*(){const Z=Array.from(Y.instances.values());yield Promise.all([...Z.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...Z.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=oe){return this.instances.has(Y)}getOptions(Y=oe){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:Z={}}=Y,ee=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ee,options:Z});for(const[Ae,qe]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ae)&&qe.resolve(ze);return ze}onInit(Y,Z){var ee;const ze=this.normalizeInstanceIdentifier(Z),Ae=null!==(ee=this.onInitCallbacks.get(ze))&&void 0!==ee?ee:new Set;Ae.add(Y),this.onInitCallbacks.set(ze,Ae);const qe=this.instances.get(ze);return qe&&Y(qe,ze),()=>{Ae.delete(Y)}}invokeOnInitCallbacks(Y,Z){const ee=this.onInitCallbacks.get(Z);if(ee)for(const ze of ee)try{ze(Y,Z)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:Z={}}){let ee=this.instances.get(Y);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(me=Y,me===oe?void 0:me),options:Z}),this.instances.set(Y,ee),this.instancesOptions.set(Y,Z),this.invokeOnInitCallbacks(ee,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,ee)}catch{}var me;return ee||null}normalizeInstanceIdentifier(Y=oe){return this.component?this.component.multipleInstances?Y:oe:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const Z=this.getProvider(Y.name);if(Z.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);Z.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const Z=new le(Y,this);return this.providers.set(Y,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(bt,Ie,U)=>{U.d(Ie,{Am:()=>me,Ub:()=>he,Yd:()=>ve,in:()=>$});const s=[];var $=(()=>{return(Y=$||($={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",$;var Y})();const F={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},oe=$.INFO,le={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},J=(Y,Z,...ee)=>{if(Z<Y.logLevel)return;const ze=(new Date).toISOString(),Ae=le[Z];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Ae](`[${ze}]  ${Y.name}:`,...ee)};class ve{constructor(Z){this.name=Z,this._logLevel=oe,this._logHandler=J,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in $))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?F[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...Z),this._logHandler(this,$.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...Z),this._logHandler(this,$.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,$.INFO,...Z),this._logHandler(this,$.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,$.WARN,...Z),this._logHandler(this,$.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...Z),this._logHandler(this,$.ERROR,...Z)}}function he(Y){s.forEach(Z=>{Z.setLogLevel(Y)})}function me(Y,Z){for(const ee of s){let ze=null;Z&&Z.level&&(ze=F[Z.level]),ee.userLogHandler=null===Y?null:(Ae,qe,...dt)=>{const _e=dt.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");qe>=(ze??Ae.logLevel)&&Y({level:$[qe].toLowerCase(),message:_e,args:dt,type:Ae.name})}}}},259:(bt,Ie,U)=>{U.d(Ie,{C6:()=>s.getApps,KN:()=>s.registerVersion,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=U(9681);(0,s.registerVersion)("firebase","9.17.2","app")},9260:(bt,Ie,U)=>{U.d(Ie,{Z:()=>s.Z});var s=U(3942);s.Z.registerVersion("firebase","9.17.2","app-compat")},9568:(bt,Ie,U)=>{U.r(Ie);var s=U(5861),$=U(3942),F=U(8401),oe=U(2090),ve=(U(9681),U(1877),U(4859));function he(){return window}const me=2e3;function Z(){return Z=(0,s.Z)(function*(N,V,P){var ie;const{BuildInfo:ye}=he();(0,F.ap)(V.sessionId,"AuthEvent did not contain a session ID");const Je=yield function Se(N){return xe.apply(this,arguments)}(V.sessionId),Ke={};return(0,F.aq)()?Ke.ibi=ye.packageName:(0,F.ar)()?Ke.apn=ye.packageName:(0,F.as)(N,"operation-not-supported-in-this-environment"),ye.displayName&&(Ke.appDisplayName=ye.displayName),Ke.sessionId=Je,(0,F.at)(N,P,V.type,void 0,null!==(ie=V.eventId)&&void 0!==ie?ie:void 0,Ke)}),Z.apply(this,arguments)}function ze(){return(ze=(0,s.Z)(function*(N){const{BuildInfo:V}=he(),P={};(0,F.aq)()?P.iosBundleId=V.packageName:(0,F.ar)()?P.androidPackageName=V.packageName:(0,F.as)(N,"operation-not-supported-in-this-environment"),yield(0,F.au)(N,P)})).apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(N,V,P){const{cordova:ie}=he();let ye=()=>{};try{yield new Promise((Je,Ke)=>{let At=null;function Jt(){var kt;Je();const Oi=null===(kt=ie.plugins.browsertab)||void 0===kt?void 0:kt.close;"function"==typeof Oi&&Oi(),"function"==typeof P?.close&&P.close()}function jt(){At||(At=window.setTimeout(()=>{Ke((0,F.aw)(N,"redirect-cancelled-by-user"))},me))}function zn(){"visible"===document?.visibilityState&&jt()}V.addPassiveListener(Jt),document.addEventListener("resume",jt,!1),(0,F.ar)()&&document.addEventListener("visibilitychange",zn,!1),ye=()=>{V.removePassiveListener(Jt),document.removeEventListener("resume",jt,!1),document.removeEventListener("visibilitychange",zn,!1),At&&window.clearTimeout(At)}})}finally{ye()}})).apply(this,arguments)}function xe(){return(xe=(0,s.Z)(function*(N){const V=function Re(N){if((0,F.ap)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const V=new ArrayBuffer(N.length),P=new Uint8Array(V);for(let ie=0;ie<N.length;ie++)P[ie]=N.charCodeAt(ie);return P}(N),P=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(P)).map(ye=>ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const ke=20;class Pe extends F.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(P=>P(V)),super.onEvent(V)}initialized(){var V=this;return(0,s.Z)(function*(){yield V.initPromise})()}}function ne(N){return de.apply(this,arguments)}function de(){return(de=(0,s.Z)(function*(N){const V=yield $e()._get(Mt(N));return V&&(yield $e()._remove(Mt(N))),V})).apply(this,arguments)}function Ye(){const N=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<ke;P++){const ie=Math.floor(Math.random()*V.length);N.push(V.charAt(ie))}return N.join("")}function $e(){return(0,F.az)(F.b)}function Mt(N){return(0,F.aA)("authEvent",N.config.apiKey,N.name)}function pe(N){if(!N?.includes("?"))return{};const[V,...P]=N.split("?");return(0,oe.zd)(P.join("?"))}const Ve=class Oe{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(V){var P=this;return(0,s.Z)(function*(){const ie=V._key();let ye=P.eventManagers.get(ie);return ye||(ye=new Pe(V),P.eventManagers.set(ie,ye),P.attachCallbackListeners(V,ye)),ye})()}_openPopup(V){(0,F.as)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,P,ie,ye){var Je=this;return(0,s.Z)(function*(){!function _e(N){var V,P,ie,ye,Je,Ke,At,Jt,jt,zn;const kt=he();(0,F.ax)("function"==typeof(null===(V=kt?.universalLinks)||void 0===V?void 0:V.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.ax)(typeof(null===(P=kt?.BuildInfo)||void 0===P?void 0:P.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.ax)("function"==typeof(null===(Je=null===(ye=null===(ie=kt?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===Je?void 0:Je.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(Jt=null===(At=null===(Ke=kt?.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===At?void 0:At.browsertab)||void 0===Jt?void 0:Jt.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(zn=null===(jt=kt?.cordova)||void 0===jt?void 0:jt.InAppBrowser)||void 0===zn?void 0:zn.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Ke=yield Je._initialize(V);yield Ke.initialized(),Ke.resetRedirect(),(0,F.aD)(),yield Je._originValidation(V);const At=function Te(N,V,P=null){return{type:V,eventId:P,urlResponse:null,sessionId:Ye(),postBody:null,tenantId:N.tenantId,error:(0,F.aw)(N,"no-auth-event")}}(V,ie,ye);yield function Ge(N,V){return $e()._set(Mt(N),V)}(V,At);const Jt=yield function Y(N,V,P){return Z.apply(this,arguments)}(V,At,P),jt=yield function Ae(N){const{cordova:V}=he();return new Promise(P=>{V.plugins.browsertab.isAvailable(ie=>{let ye=null;ie?V.plugins.browsertab.openUrl(N):ye=V.InAppBrowser.open(N,(0,F.av)()?"_blank":"_system","location=yes"),P(ye)})})}(Jt);return function qe(N,V,P){return dt.apply(this,arguments)}(V,Ke,jt)})()}_isIframeWebStorageSupported(V,P){throw new Error("Method not implemented.")}_originValidation(V){const P=V._key();return this.originValidationPromises[P]||(this.originValidationPromises[P]=function ee(N){return ze.apply(this,arguments)}(V)),this.originValidationPromises[P]}attachCallbackListeners(V,P){const{universalLinks:ie,handleOpenURL:ye,BuildInfo:Je}=he(),Ke=setTimeout((0,s.Z)(function*(){yield ne(V),P.onEvent(Be())}),500),At=function(){var zn=(0,s.Z)(function*(kt){clearTimeout(Ke);const Oi=yield ne(V);let Gc=null;Oi&&kt?.url&&(Gc=function be(N,V){var P,ie;const ye=function ce(N){const V=pe(N),P=V.link?decodeURIComponent(V.link):void 0,ie=pe(P).link,ye=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return pe(ye).link||ye||ie||P||N}(V);if(ye.includes("/__/auth/callback")){const Je=pe(ye),Ke=Je.firebaseError?function nt(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(Je.firebaseError)):null,At=null===(ie=null===(P=Ke?.code)||void 0===P?void 0:P.split("auth/"))||void 0===ie?void 0:ie[1],Jt=At?(0,F.aw)(At):null;return Jt?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:Jt,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:ye,postBody:null}}return null}(Oi,kt.url)),P.onEvent(Gc||Be())});return function(Oi){return zn.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,At);const Jt=ye,jt=`${Je.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var zn=(0,s.Z)(function*(kt){if(kt.toLowerCase().startsWith(jt)&&At({url:kt}),"function"==typeof Jt)try{Jt(kt)}catch(Oi){console.error(Oi)}});return function(kt){return zn.apply(this,arguments)}}()}};function Be(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aw)("no-auth-event")}}const xt=1e3;function Dt(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function cn(N=(0,oe.z$)()){return!("file:"!==Dt()&&"ionic:"!==Dt()&&"capacitor:"!==Dt()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function rr(){try{const N=self.localStorage,V=F.aI();if(N)return N.setItem(V,"1"),N.removeItem(V),!function Di(N=(0,oe.z$)()){return function bn(){return(0,oe.w1)()&&11===document?.documentMode}()||function gn(N=(0,oe.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,oe.hl)()}catch{return no()&&(0,oe.hl)()}return!1}function no(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ei(){return(function at(){return"http:"===Dt()||"https:"===Dt()}()||(0,oe.ru)()||cn())&&!function Gn(){return(0,oe.b$)()||(0,oe.UG)()}()&&rr()&&!no()}function Mr(){return cn()&&typeof document<"u"}function Mn(){return(Mn=(0,s.Z)(function*(){return!!Mr()&&new Promise(N=>{const V=setTimeout(()=>{N(!1)},xt);document.addEventListener("deviceready",()=>{clearTimeout(V),N(!0)})})})).apply(this,arguments)}const lt={LOCAL:"local",NONE:"none",SESSION:"session"},Yi=F.ax,Zi="persistence";function ti(N){return ur.apply(this,arguments)}function ur(){return(ur=(0,s.Z)(function*(N){yield N._initializationPromise;const V=wt(),P=F.aA(Zi,N.config.apiKey,N.name);V&&V.setItem(P,N._getPersistence())})).apply(this,arguments)}function wt(){var N;try{return(null===(N=function ki(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const Pt=F.ax;class Rn{constructor(){this.browserResolver=F.az(F.k),this.cordovaResolver=F.az(Ve),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(V){var P=this;return(0,s.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,P,ie,ye){var Je=this;return(0,s.Z)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openPopup(V,P,ie,ye)})()}_openRedirect(V,P,ie,ye){var Je=this;return(0,s.Z)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openRedirect(V,P,ie,ye)})()}_isIframeWebStorageSupported(V,P){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,P)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Mr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,s.Z)(function*(){if(V.underlyingResolver)return;const P=yield function Vr(){return Mn.apply(this,arguments)}();V.underlyingResolver=P?V.cordovaResolver:V.browserResolver})()}}function Wn(N){return N.unwrap()}function Ri(N){return io(N)}function io(N){const{_tokenResponse:V}=N instanceof oe.ZR?N.customData:N;if(!V)return null;if(!(N instanceof oe.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return F.P.credentialFromResult(N);const P=V.providerId;if(!P||P===F.o.PASSWORD)return null;let ie;switch(P){case F.o.GOOGLE:ie=F.Q;break;case F.o.FACEBOOK:ie=F.N;break;case F.o.GITHUB:ie=F.T;break;case F.o.TWITTER:ie=F.W;break;default:const{oauthIdToken:ye,oauthAccessToken:Je,oauthTokenSecret:Ke,pendingToken:At,nonce:Jt}=V;return Je||Ke||ye||At?At?P.startsWith("saml.")?F.aL._create(P,At):F.J._fromParams({providerId:P,signInMethod:P,pendingToken:At,idToken:ye,accessToken:Je}):new F.U(P).credential({idToken:ye,accessToken:Je,rawNonce:Jt}):null}return N instanceof oe.ZR?ie.credentialFromError(N):ie.credentialFromResult(N)}function Zt(N,V){return V.catch(P=>{throw P instanceof oe.ZR&&function Ei(N,V){var P;const ie=null===(P=V.customData)||void 0===P?void 0:P._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new hr(N,F.an(N,V));else if(ie){const ye=io(V),Je=V;ye&&(Je.credential=ye,Je.tenantId=ie.tenantId||void 0,Je.email=ie.email||void 0,Je.phoneNumber=ie.phoneNumber||void 0)}}(N,P),P}).then(P=>{const ye=P.user;return{operationType:P.operationType,credential:Ri(P),additionalUserInfo:F.al(P),user:ni.getOrCreate(ye)}})}function Br(N,V){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(N,V){const P=yield V;return{verificationId:P.verificationId,confirm:ie=>Zt(N,P.confirm(ie))}})).apply(this,arguments)}class hr{constructor(V,P){this.resolver=P,this.auth=function hi(N){return N.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return Zt(Wn(this.auth),this.resolver.resolveSignIn(V))}}class ni{constructor(V){this._delegate=V,this.multiFactor=F.ao(V)}static getOrCreate(V){return ni.USER_MAP.has(V)||ni.USER_MAP.set(V,new ni(V)),ni.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var P=this;return(0,s.Z)(function*(){return Zt(P.auth,F.Z(P._delegate,V))})()}linkWithPhoneNumber(V,P){var ie=this;return(0,s.Z)(function*(){return Br(ie.auth,F.l(ie._delegate,V,P))})()}linkWithPopup(V){var P=this;return(0,s.Z)(function*(){return Zt(P.auth,F.d(P._delegate,V,Rn))})()}linkWithRedirect(V){var P=this;return(0,s.Z)(function*(){return yield ti(F.aE(P.auth)),F.g(P._delegate,V,Rn)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var P=this;return(0,s.Z)(function*(){return Zt(P.auth,F._(P._delegate,V))})()}reauthenticateWithPhoneNumber(V,P){return Br(this.auth,F.r(this._delegate,V,P))}reauthenticateWithPopup(V){return Zt(this.auth,F.e(this._delegate,V,Rn))}reauthenticateWithRedirect(V){var P=this;return(0,s.Z)(function*(){return yield ti(F.aE(P.auth)),F.h(P._delegate,V,Rn)})()}sendEmailVerification(V){return F.ab(this._delegate,V)}unlink(V){var P=this;return(0,s.Z)(function*(){return yield F.ak(P._delegate,V),P})()}updateEmail(V){return F.ag(this._delegate,V)}updatePassword(V){return F.ah(this._delegate,V)}updatePhoneNumber(V){return F.u(this._delegate,V)}updateProfile(V){return F.af(this._delegate,V)}verifyBeforeUpdateEmail(V,P){return F.ac(this._delegate,V,P)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ni.USER_MAP=new WeakMap;const je=F.ax;let Ee=(()=>{class N{constructor(P,ie){if(this.app=P,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ye}=P.options;je(ye,"invalid-api-key",{appName:P.name}),je(ye,"invalid-api-key",{appName:P.name});const Je=typeof window<"u"?Rn:void 0;this._delegate=ie.initialize({options:{persistence:It(ye,P.name),popupRedirectResolver:Je}}),this._delegate._updateErrorMap(F.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ni.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(P){this._delegate.languageCode=P}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(P){this._delegate.tenantId=P}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(P,ie){F.G(this._delegate,P,ie)}applyActionCode(P){return F.a2(this._delegate,P)}checkActionCode(P){return F.a3(this._delegate,P)}confirmPasswordReset(P,ie){return F.a1(this._delegate,P,ie)}createUserWithEmailAndPassword(P,ie){var ye=this;return(0,s.Z)(function*(){return Zt(ye._delegate,F.a5(ye._delegate,P,ie))})()}fetchProvidersForEmail(P){return this.fetchSignInMethodsForEmail(P)}fetchSignInMethodsForEmail(P){return F.aa(this._delegate,P)}isSignInWithEmailLink(P){return F.a8(this._delegate,P)}getRedirectResult(){var P=this;return(0,s.Z)(function*(){je(ei(),P._delegate,"operation-not-supported-in-this-environment");const ie=yield F.j(P._delegate,Rn);return ie?Zt(P._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(P){!function it(N,V){(0,F.aE)(N)._logFramework(V)}(this._delegate,P)}onAuthStateChanged(P,ie,ye){const{next:Je,error:Ke,complete:At}=rt(P,ie,ye);return this._delegate.onAuthStateChanged(Je,Ke,At)}onIdTokenChanged(P,ie,ye){const{next:Je,error:Ke,complete:At}=rt(P,ie,ye);return this._delegate.onIdTokenChanged(Je,Ke,At)}sendSignInLinkToEmail(P,ie){return F.a7(this._delegate,P,ie)}sendPasswordResetEmail(P,ie){return F.a0(this._delegate,P,ie||void 0)}setPersistence(P){var ie=this;return(0,s.Z)(function*(){let ye;switch(function ui(N,V){Yi(Object.values(lt).includes(V),N,"invalid-persistence-type"),(0,oe.b$)()?Yi(V!==lt.SESSION,N,"unsupported-persistence-type"):(0,oe.UG)()?Yi(V===lt.NONE,N,"unsupported-persistence-type"):no()?Yi(V===lt.NONE||V===lt.LOCAL&&(0,oe.hl)(),N,"unsupported-persistence-type"):Yi(V===lt.NONE||rr(),N,"unsupported-persistence-type")}(ie._delegate,P),P){case lt.SESSION:ye=F.a;break;case lt.LOCAL:ye=(yield F.az(F.i)._isAvailable())?F.i:F.b;break;case lt.NONE:ye=F.L;break;default:return F.as("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(ye)})()}signInAndRetrieveDataWithCredential(P){return this.signInWithCredential(P)}signInAnonymously(){return Zt(this._delegate,F.X(this._delegate))}signInWithCredential(P){return Zt(this._delegate,F.Y(this._delegate,P))}signInWithCustomToken(P){return Zt(this._delegate,F.$(this._delegate,P))}signInWithEmailAndPassword(P,ie){return Zt(this._delegate,F.a6(this._delegate,P,ie))}signInWithEmailLink(P,ie){return Zt(this._delegate,F.a9(this._delegate,P,ie))}signInWithPhoneNumber(P,ie){return Br(this._delegate,F.s(this._delegate,P,ie))}signInWithPopup(P){var ie=this;return(0,s.Z)(function*(){return je(ei(),ie._delegate,"operation-not-supported-in-this-environment"),Zt(ie._delegate,F.c(ie._delegate,P,Rn))})()}signInWithRedirect(P){var ie=this;return(0,s.Z)(function*(){return je(ei(),ie._delegate,"operation-not-supported-in-this-environment"),yield ti(ie._delegate),F.f(ie._delegate,P,Rn)})()}updateCurrentUser(P){return this._delegate.updateCurrentUser(P)}verifyPasswordResetCode(P){return F.a4(this._delegate,P)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=lt,N})();function rt(N,V,P){let ie=N;"function"!=typeof N&&({next:ie,error:V,complete:P}=N);const ye=ie;return{next:Ke=>ye(Ke&&ni.getOrCreate(Ke)),error:V,complete:P}}function It(N,V){const P=function Bt(N,V){const P=wt();if(!P)return[];const ie=F.aA(Zi,N,V);switch(P.getItem(ie)){case lt.NONE:return[F.L];case lt.LOCAL:return[F.i,F.a];case lt.SESSION:return[F.a];default:return[]}}(N,V);if(typeof self<"u"&&!P.includes(F.i)&&P.push(F.i),typeof window<"u")for(const ie of[F.b,F.a])P.includes(ie)||P.push(ie);return P.includes(F.L)||P.push(F.L),P}class Rt{constructor(){this.providerId="phone",this._delegate=new F.P(Wn($.Z.auth()))}static credential(V,P){return F.P.credential(V,P)}verifyPhoneNumber(V,P){return this._delegate.verifyPhoneNumber(V,P)}unwrap(){return this._delegate}}Rt.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,Rt.PROVIDER_ID=F.P.PROVIDER_ID;const sn=F.ax;class ii{constructor(V,P,ie=$.Z.app()){var ye;sn(null===(ye=ie.options)||void 0===ye?void 0:ye.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new F.R(V,P,ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function W(N){N.INTERNAL.registerComponent(new ve.wA("auth-compat",V=>{const P=V.getProvider("app-compat").getImmediate(),ie=V.getProvider("auth");return new Ee(P,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.M,FacebookAuthProvider:F.N,GithubAuthProvider:F.T,GoogleAuthProvider:F.Q,OAuthProvider:F.U,SAMLAuthProvider:F.V,PhoneAuthProvider:Rt,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:ii,TwitterAuthProvider:F.W,Auth:Ee,AuthCredential:F.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.3.4")}($.Z)},8766:(bt,Ie,U)=>{U.d(Ie,{Lj:()=>ke,X3:()=>Re});var s=U(5861);const $=(de,be)=>be.some(Ye=>de instanceof Ye);let F,oe;const ve=new WeakMap,he=new WeakMap,me=new WeakMap,Y=new WeakMap,Z=new WeakMap;let Ae={get(de,be,Ye){if(de instanceof IDBTransaction){if("done"===be)return he.get(de);if("objectStoreNames"===be)return de.objectStoreNames||me.get(de);if("store"===be)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return Se(de[be])},set:(de,be,Ye)=>(de[be]=Ye,!0),has:(de,be)=>de instanceof IDBTransaction&&("done"===be||"store"===be)||be in de};function _e(de){return"function"==typeof de?function dt(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...be){return de.apply(xe(this),be),Se(ve.get(this))}:function(...be){return Se(de.apply(xe(this),be))}:function(be,...Ye){const $e=de.call(xe(this),be,...Ye);return me.set($e,be.sort?be.sort():[be]),Se($e)}}(de):(de instanceof IDBTransaction&&function ze(de){if(he.has(de))return;const be=new Promise((Ye,$e)=>{const Mt=()=>{de.removeEventListener("complete",nt),de.removeEventListener("error",ce),de.removeEventListener("abort",ce)},nt=()=>{Ye(),Mt()},ce=()=>{$e(de.error||new DOMException("AbortError","AbortError")),Mt()};de.addEventListener("complete",nt),de.addEventListener("error",ce),de.addEventListener("abort",ce)});he.set(de,be)}(de),$(de,function le(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Ae):de)}function Se(de){if(de instanceof IDBRequest)return function ee(de){const be=new Promise((Ye,$e)=>{const Mt=()=>{de.removeEventListener("success",nt),de.removeEventListener("error",ce)},nt=()=>{Ye(Se(de.result)),Mt()},ce=()=>{$e(de.error),Mt()};de.addEventListener("success",nt),de.addEventListener("error",ce)});return be.then(Ye=>{Ye instanceof IDBCursor&&ve.set(Ye,de)}).catch(()=>{}),Z.set(be,de),be}(de);if(Y.has(de))return Y.get(de);const be=_e(de);return be!==de&&(Y.set(de,be),Z.set(be,de)),be}const xe=de=>Z.get(de);function Re(de,be,{blocked:Ye,upgrade:$e,blocking:Mt,terminated:nt}={}){const ce=indexedDB.open(de,be),pe=Se(ce);return $e&&ce.addEventListener("upgradeneeded",Ce=>{$e(Se(ce.result),Ce.oldVersion,Ce.newVersion,Se(ce.transaction))}),Ye&&ce.addEventListener("blocked",()=>Ye()),pe.then(Ce=>{nt&&Ce.addEventListener("close",()=>nt()),Mt&&Ce.addEventListener("versionchange",()=>Mt())}).catch(()=>{}),pe}function ke(de,{blocked:be}={}){const Ye=indexedDB.deleteDatabase(de);return be&&Ye.addEventListener("blocked",()=>be()),Se(Ye).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Ge=new Map;function ne(de,be){if(!(de instanceof IDBDatabase)||be in de||"string"!=typeof be)return;if(Ge.get(be))return Ge.get(be);const Ye=be.replace(/FromIndex$/,""),$e=be!==Ye,Mt=Te.includes(Ye);if(!(Ye in($e?IDBIndex:IDBObjectStore).prototype)||!Mt&&!Pe.includes(Ye))return;const nt=function(){var ce=(0,s.Z)(function*(pe,...Ce){const Oe=this.transaction(pe,Mt?"readwrite":"readonly");let Ve=Oe.store;return $e&&(Ve=Ve.index(Ce.shift())),(yield Promise.all([Ve[Ye](...Ce),Mt&&Oe.done]))[0]});return function(Ce){return ce.apply(this,arguments)}}();return Ge.set(be,nt),nt}!function qe(de){Ae=de(Ae)}(de=>({...de,get:(be,Ye,$e)=>ne(be,Ye)||de.get(be,Ye,$e),has:(be,Ye)=>!!ne(be,Ye)||de.has(be,Ye)}))},5861:(bt,Ie,U)=>{function s(F,oe,le,J,ve,he,me){try{var Y=F[he](me),Z=Y.value}catch(ee){return void le(ee)}Y.done?oe(Z):Promise.resolve(Z).then(J,ve)}function $(F){return function(){var oe=this,le=arguments;return new Promise(function(J,ve){var he=F.apply(oe,le);function me(Z){s(he,J,ve,me,Y,"next",Z)}function Y(Z){s(he,J,ve,me,Y,"throw",Z)}me(void 0)})}}U.d(Ie,{Z:()=>$})}},bt=>{bt(bt.s=2656)}]);